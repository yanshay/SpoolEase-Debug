import Nc,{encrypt as Ic,decrypt as kc,derive_key as Xs}from"/pkg/device_wasm.js";var rr,oe,Js,Qt,Rl,Qs,Zs,ea,Ai,Uo,jo,ta,Qn={},na=[],Lc=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,or=Array.isArray;function bt(e,t){for(var n in t)e[n]=t[n];return e}function Oi(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Ge(e,t,n){var r,o,i,l={};for(i in t)i=="key"?r=t[i]:i=="ref"?o=t[i]:l[i]=t[i];if(arguments.length>2&&(l.children=arguments.length>3?rr.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)l[i]==null&&(l[i]=e.defaultProps[i]);return Wn(e,l,r,o,null)}function Wn(e,t,n,r,o){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++Js,__i:-1,__u:0};return o==null&&oe.vnode!=null&&oe.vnode(i),i}function Ti(){return{current:null}}function de(e){return e.children}function ct(e,t){this.props=e,this.context=t}function Sn(e,t){if(t==null)return e.__?Sn(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Sn(e):null}function ra(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return ra(e)}}function Wo(e){(!e.__d&&(e.__d=!0)&&Qt.push(e)&&!Tr.__r++||Rl!=oe.debounceRendering)&&((Rl=oe.debounceRendering)||Qs)(Tr)}function Tr(){for(var e,t,n,r,o,i,l,s=1;Qt.length;)Qt.length>s&&Qt.sort(Zs),e=Qt.shift(),s=Qt.length,e.__d&&(n=void 0,o=(r=(t=e).__v).__e,i=[],l=[],t.__P&&((n=bt({},r)).__v=r.__v+1,oe.vnode&&oe.vnode(n),Ni(t.__P,n,r,t.__n,t.__P.namespaceURI,32&r.__u?[o]:null,i,o??Sn(r),!!(32&r.__u),l),n.__v=r.__v,n.__.__k[n.__i]=n,la(i,n,l),n.__e!=o&&ra(n)));Tr.__r=0}function oa(e,t,n,r,o,i,l,s,a,u,d){var f,p,c,g,h,v,b=r&&r.__k||na,_=t.length;for(a=Dc(n,t,b,a,_),f=0;f<_;f++)(c=n.__k[f])!=null&&(p=c.__i==-1?Qn:b[c.__i]||Qn,c.__i=f,v=Ni(e,c,p,o,i,l,s,a,u,d),g=c.__e,c.ref&&p.ref!=c.ref&&(p.ref&&Ii(p.ref,null,c),d.push(c.ref,c.__c||g,c)),h==null&&g!=null&&(h=g),4&c.__u||p.__k===c.__k?a=ia(c,a,e):typeof c.type=="function"&&v!==void 0?a=v:g&&(a=g.nextSibling),c.__u&=-7);return n.__e=h,a}function Dc(e,t,n,r,o){var i,l,s,a,u,d=n.length,f=d,p=0;for(e.__k=new Array(o),i=0;i<o;i++)(l=t[i])!=null&&typeof l!="boolean"&&typeof l!="function"?(a=i+p,(l=e.__k[i]=typeof l=="string"||typeof l=="number"||typeof l=="bigint"||l.constructor==String?Wn(null,l,null,null,null):or(l)?Wn(de,{children:l},null,null,null):l.constructor==null&&l.__b>0?Wn(l.type,l.props,l.key,l.ref?l.ref:null,l.__v):l).__=e,l.__b=e.__b+1,s=null,(u=l.__i=Mc(l,n,a,f))!=-1&&(f--,(s=n[u])&&(s.__u|=2)),s==null||s.__v==null?(u==-1&&(o>d?p--:o<d&&p++),typeof l.type!="function"&&(l.__u|=4)):u!=a&&(u==a-1?p--:u==a+1?p++:(u>a?p--:p++,l.__u|=4))):e.__k[i]=null;if(f)for(i=0;i<d;i++)(s=n[i])!=null&&(2&s.__u)==0&&(s.__e==r&&(r=Sn(s)),aa(s,s));return r}function ia(e,t,n){var r,o;if(typeof e.type=="function"){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=ia(r[o],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=Sn(e)),n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function wt(e,t){return t=t||[],e==null||typeof e=="boolean"||(or(e)?e.some(function(n){wt(n,t)}):t.push(e)),t}function Mc(e,t,n,r){var o,i,l=e.key,s=e.type,a=t[n];if(a===null&&e.key==null||a&&l==a.key&&s==a.type&&(2&a.__u)==0)return n;if(r>(a!=null&&(2&a.__u)==0?1:0))for(o=n-1,i=n+1;o>=0||i<t.length;){if(o>=0){if((a=t[o])&&(2&a.__u)==0&&l==a.key&&s==a.type)return o;o--}if(i<t.length){if((a=t[i])&&(2&a.__u)==0&&l==a.key&&s==a.type)return i;i++}}return-1}function Al(e,t,n){t[0]=="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||Lc.test(t)?n:n+"px"}function yr(e,t,n,r,o){var i,l;e:if(t=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||Al(e.style,t,"");if(n)for(t in n)r&&n[t]==r[t]||Al(e.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")i=t!=(t=t.replace(ea,"$1")),l=t.toLowerCase(),t=l in e||t=="onFocusOut"||t=="onFocusIn"?l.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r?n.u=r.u:(n.u=Ai,e.addEventListener(t,i?jo:Uo,i)):e.removeEventListener(t,i?jo:Uo,i);else{if(o=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function Ol(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=Ai++;else if(t.t<n.u)return;return n(oe.event?oe.event(t):t)}}}function Ni(e,t,n,r,o,i,l,s,a,u){var d,f,p,c,g,h,v,b,_,w,S,y,C,R,N,k,E,A=t.type;if(t.constructor!=null)return null;128&n.__u&&(a=!!(32&n.__u),i=[s=t.__e=n.__e]),(d=oe.__b)&&d(t);e:if(typeof A=="function")try{if(b=t.props,_="prototype"in A&&A.prototype.render,w=(d=A.contextType)&&r[d.__c],S=d?w?w.props.value:d.__:r,n.__c?v=(f=t.__c=n.__c).__=f.__E:(_?t.__c=f=new A(b,S):(t.__c=f=new ct(b,S),f.constructor=A,f.render=Bc),w&&w.sub(f),f.props=b,f.state||(f.state={}),f.context=S,f.__n=r,p=f.__d=!0,f.__h=[],f._sb=[]),_&&f.__s==null&&(f.__s=f.state),_&&A.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=bt({},f.__s)),bt(f.__s,A.getDerivedStateFromProps(b,f.__s))),c=f.props,g=f.state,f.__v=t,p)_&&A.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),_&&f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(_&&A.getDerivedStateFromProps==null&&b!==c&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(b,S),!f.__e&&f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(b,f.__s,S)===!1||t.__v==n.__v){for(t.__v!=n.__v&&(f.props=b,f.state=f.__s,f.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(M){M&&(M.__=t)}),y=0;y<f._sb.length;y++)f.__h.push(f._sb[y]);f._sb=[],f.__h.length&&l.push(f);break e}f.componentWillUpdate!=null&&f.componentWillUpdate(b,f.__s,S),_&&f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(c,g,h)})}if(f.context=S,f.props=b,f.__P=e,f.__e=!1,C=oe.__r,R=0,_){for(f.state=f.__s,f.__d=!1,C&&C(t),d=f.render(f.props,f.state,f.context),N=0;N<f._sb.length;N++)f.__h.push(f._sb[N]);f._sb=[]}else do f.__d=!1,C&&C(t),d=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++R<25);f.state=f.__s,f.getChildContext!=null&&(r=bt(bt({},r),f.getChildContext())),_&&!p&&f.getSnapshotBeforeUpdate!=null&&(h=f.getSnapshotBeforeUpdate(c,g)),k=d,d!=null&&d.type===de&&d.key==null&&(k=sa(d.props.children)),s=oa(e,or(k)?k:[k],t,n,r,o,i,l,s,a,u),f.base=t.__e,t.__u&=-161,f.__h.length&&l.push(f),v&&(f.__E=f.__=null)}catch(M){if(t.__v=null,a||i!=null)if(M.then){for(t.__u|=a?160:128;s&&s.nodeType==8&&s.nextSibling;)s=s.nextSibling;i[i.indexOf(s)]=null,t.__e=s}else for(E=i.length;E--;)Oi(i[E]);else t.__e=n.__e,t.__k=n.__k;oe.__e(M,t,n)}else i==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):s=t.__e=Gc(n.__e,t,n,r,o,i,l,a,u);return(d=oe.diffed)&&d(t),128&t.__u?void 0:s}function la(e,t,n){for(var r=0;r<n.length;r++)Ii(n[r],n[++r],n[++r]);oe.__c&&oe.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(i){i.call(o)})}catch(i){oe.__e(i,o.__v)}})}function sa(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:or(e)?e.map(sa):bt({},e)}function Gc(e,t,n,r,o,i,l,s,a){var u,d,f,p,c,g,h,v=n.props,b=t.props,_=t.type;if(_=="svg"?o="http://www.w3.org/2000/svg":_=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),i!=null){for(u=0;u<i.length;u++)if((c=i[u])&&"setAttribute"in c==!!_&&(_?c.localName==_:c.nodeType==3)){e=c,i[u]=null;break}}if(e==null){if(_==null)return document.createTextNode(b);e=document.createElementNS(o,_,b.is&&b),s&&(oe.__m&&oe.__m(t,i),s=!1),i=null}if(_==null)v===b||s&&e.data==b||(e.data=b);else{if(i=i&&rr.call(e.childNodes),v=n.props||Qn,!s&&i!=null)for(v={},u=0;u<e.attributes.length;u++)v[(c=e.attributes[u]).name]=c.value;for(u in v)if(c=v[u],u!="children"){if(u=="dangerouslySetInnerHTML")f=c;else if(!(u in b)){if(u=="value"&&"defaultValue"in b||u=="checked"&&"defaultChecked"in b)continue;yr(e,u,null,c,o)}}for(u in b)c=b[u],u=="children"?p=c:u=="dangerouslySetInnerHTML"?d=c:u=="value"?g=c:u=="checked"?h=c:s&&typeof c!="function"||v[u]===c||yr(e,u,c,v[u],o);if(d)s||f&&(d.__html==f.__html||d.__html==e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(f&&(e.innerHTML=""),oa(t.type=="template"?e.content:e,or(p)?p:[p],t,n,r,_=="foreignObject"?"http://www.w3.org/1999/xhtml":o,i,l,i?i[0]:n.__k&&Sn(n,0),s,a),i!=null)for(u=i.length;u--;)Oi(i[u]);s||(u="value",_=="progress"&&g==null?e.removeAttribute("value"):g!=null&&(g!==e[u]||_=="progress"&&!g||_=="option"&&g!=v[u])&&yr(e,u,g,v[u],o),u="checked",h!=null&&h!=e[u]&&yr(e,u,h,v[u],o))}return e}function Ii(e,t,n){try{if(typeof e=="function"){var r=typeof e.__u=="function";r&&e.__u(),r&&t==null||(e.__u=e(t))}else e.current=t}catch(o){oe.__e(o,n)}}function aa(e,t,n){var r,o;if(oe.unmount&&oe.unmount(e),(r=e.ref)&&(r.current&&r.current!=e.__e||Ii(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){oe.__e(i,t)}r.base=r.__P=null}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&aa(r[o],t,n||typeof e.type!="function");n||Oi(e.__e),e.__c=e.__=e.__e=void 0}function Bc(e,t,n){return this.constructor(e,n)}function Fn(e,t,n){var r,o,i,l;t==document&&(t=document.documentElement),oe.__&&oe.__(e,t),o=(r=typeof n=="function")?null:n&&n.__k||t.__k,i=[],l=[],Ni(t,e=(!r&&n||t).__k=Ge(de,null,[e]),o||Qn,Qn,t.namespaceURI,!r&&n?[n]:o?null:t.firstChild?rr.call(t.childNodes):null,i,!r&&n?n:o?o.__e:t.firstChild,r,l),la(i,e,l)}function ua(e,t){Fn(e,t,ua)}function Vc(e,t,n){var r,o,i,l,s=bt({},e.props);for(i in e.type&&e.type.defaultProps&&(l=e.type.defaultProps),t)i=="key"?r=t[i]:i=="ref"?o=t[i]:s[i]=t[i]==null&&l!=null?l[i]:t[i];return arguments.length>2&&(s.children=arguments.length>3?rr.call(arguments,2):n),Wn(e.type,s,r||e.key,o||e.ref,null)}function he(e){function t(n){var r,o;return this.getChildContext||(r=new Set,(o={})[t.__c]=this,this.getChildContext=function(){return o},this.componentWillUnmount=function(){r=null},this.shouldComponentUpdate=function(i){this.props.value!=i.value&&r.forEach(function(l){l.__e=!0,Wo(l)})},this.sub=function(i){r.add(i);var l=i.componentWillUnmount;i.componentWillUnmount=function(){r&&r.delete(i),l&&l.call(i)}}),n.children}return t.__c="__cC"+ta++,t.__=e,t.Provider=t.__l=(t.Consumer=function(n,r){return n.children(r)}).contextType=t,t}rr=na.slice,oe={__e:function(e,t,n,r){for(var o,i,l;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(e)),l=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),l=o.__d),l)return o.__E=o}catch(s){e=s}throw e}},Js=0,ct.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=bt({},this.state),typeof e=="function"&&(e=e(bt({},n),this.props)),e&&bt(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),Wo(this))},ct.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Wo(this))},ct.prototype.render=de,Qt=[],Qs=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Zs=function(e,t){return e.__v.__b-t.__v.__b},Tr.__r=0,ea=/(PointerCapture)$|Capture$/i,Ai=0,Uo=Ol(!1),jo=Ol(!0),ta=0;var Hc=0;function m(e,t,n,r,o,i){t||(t={});var l,s,a=t;if("ref"in a)for(s in a={},t)s=="ref"?l=t[s]:a[s]=t[s];var u={type:e,props:a,key:n,ref:l,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Hc,__i:-1,__u:0,__source:o,__self:i};if(typeof e=="function"&&(l=e.defaultProps))for(s in l)a[s]===void 0&&(a[s]=l[s]);return oe.vnode&&oe.vnode(u),u}var At,xe,bo,Tl,Cn=0,ca=[],Pe=oe,Nl=Pe.__b,Il=Pe.__r,kl=Pe.diffed,Ll=Pe.__c,Dl=Pe.unmount,Ml=Pe.__;function an(e,t){Pe.__h&&Pe.__h(xe,e,Cn||t),Cn=0;var n=xe.__H||(xe.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function O(e){return Cn=1,Tt(da,e)}function Tt(e,t,n){var r=an(At++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):da(void 0,t),function(s){var a=r.__N?r.__N[0]:r.__[0],u=r.t(a,s);a!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=xe,!xe.__f)){var o=function(s,a,u){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(p){return!!p.__c});if(d.every(function(p){return!p.__N}))return!i||i.call(this,s,a,u);var f=r.__c.props!==s;return d.forEach(function(p){if(p.__N){var c=p.__[0];p.__=p.__N,p.__N=void 0,c!==p.__[0]&&(f=!0)}}),i&&i.call(this,s,a,u)||f};xe.__f=!0;var i=xe.shouldComponentUpdate,l=xe.componentWillUpdate;xe.componentWillUpdate=function(s,a,u){if(this.__e){var d=i;i=void 0,o(s,a,u),i=d}l&&l.call(this,s,a,u)},xe.shouldComponentUpdate=o}return r.__N||r.__}function K(e,t){var n=an(At++,3);!Pe.__s&&Di(n.__H,t)&&(n.__=e,n.u=t,xe.__H.__h.push(n))}function pt(e,t){var n=an(At++,4);!Pe.__s&&Di(n.__H,t)&&(n.__=e,n.u=t,xe.__h.push(n))}function T(e){return Cn=5,I(function(){return{current:e}},[])}function ki(e,t,n){Cn=6,pt(function(){if(typeof e=="function"){var r=e(t());return function(){e(null),r&&typeof r=="function"&&r()}}if(e)return e.current=t(),function(){return e.current=null}},n==null?n:n.concat(e))}function I(e,t){var n=an(At++,7);return Di(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function ee(e,t){return Cn=8,I(function(){return e},t)}function ne(e){var t=xe.context[e.__c],n=an(At++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(xe)),t.props.value):e.__}function Li(e,t){Pe.useDebugValue&&Pe.useDebugValue(t?t(e):e)}function zc(e){var t=an(At++,10),n=O();return t.__=e,xe.componentDidCatch||(xe.componentDidCatch=function(r,o){t.__&&t.__(r,o),n[1](r)}),[n[0],function(){n[1](void 0)}]}function Ee(){var e=an(At++,11);if(!e.__){for(var t=xe.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function Uc(){for(var e;e=ca.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach($r),e.__H.__h.forEach(qo),e.__H.__h=[]}catch(t){e.__H.__h=[],Pe.__e(t,e.__v)}}Pe.__b=function(e){xe=null,Nl&&Nl(e)},Pe.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Ml&&Ml(e,t)},Pe.__r=function(e){Il&&Il(e),At=0;var t=(xe=e.__c).__H;t&&(bo===xe?(t.__h=[],xe.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(t.__h.forEach($r),t.__h.forEach(qo),t.__h=[],At=0)),bo=xe},Pe.diffed=function(e){kl&&kl(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(ca.push(t)!==1&&Tl===Pe.requestAnimationFrame||((Tl=Pe.requestAnimationFrame)||jc)(Uc)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),bo=xe=null},Pe.__c=function(e,t){t.some(function(n){try{n.__h.forEach($r),n.__h=n.__h.filter(function(r){return!r.__||qo(r)})}catch(r){t.some(function(o){o.__h&&(o.__h=[])}),t=[],Pe.__e(r,n.__v)}}),Ll&&Ll(e,t)},Pe.unmount=function(e){Dl&&Dl(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{$r(r)}catch(o){t=o}}),n.__H=void 0,t&&Pe.__e(t,n.__v))};var Gl=typeof requestAnimationFrame=="function";function jc(e){var t,n=function(){clearTimeout(r),Gl&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,35);Gl&&(t=requestAnimationFrame(n))}function $r(e){var t=xe,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),xe=t}function qo(e){var t=xe;e.__c=e.__(),xe=t}function Di(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function da(e,t){return typeof t=="function"?t(e):t}/**
 * @license lucide-preact v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Wc=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),Vl=e=>{const t=Wc(e);return t.charAt(0).toUpperCase()+t.slice(1)},qc=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-preact v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Kc={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-preact v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,children:o,iconNode:i,class:l="",...s})=>Ge("svg",{...Kc,width:String(t),height:t,stroke:e,"stroke-width":r?Number(n)*24/Number(t):n,class:["lucide",l].join(" "),...s},[...i.map(([a,u])=>Ge(a,u)),...wt(o)]);/**
 * @license lucide-preact v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=(e,t)=>{const n=({class:r="",children:o,...i})=>Ge(Yc,{...i,iconNode:t,class:qc(`lucide-${Bl(Vl(e))}`,`lucide-${Bl(e)}`,r)},o);return n.displayName=Vl(e),n};/**
 * @license lucide-preact v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=lt("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-preact v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=lt("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-preact v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=lt("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-preact v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=lt("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-preact v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=lt("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-preact v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=lt("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-preact v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=lt("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]);/**
 * @license lucide-preact v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=lt("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-preact v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=lt("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-preact v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=lt("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-preact v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=lt("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-preact v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=lt("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function fa(e,t){for(var n in t)e[n]=t[n];return e}function Ko(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var r in t)if(r!=="__source"&&e[r]!==t[r])return!0;return!1}function zr(e,t){var n=t(),r=O({t:{__:n,u:t}}),o=r[0].t,i=r[1];return pt(function(){o.__=n,o.u=t,_o(o)&&i({t:o})},[e,n,t]),K(function(){return _o(o)&&i({t:o}),e(function(){_o(o)&&i({t:o})})},[e]),n}function _o(e){var t,n,r=e.u,o=e.__;try{var i=r();return!((t=o)===(n=i)&&(t!==0||1/t==1/n)||t!=t&&n!=n)}catch{return!0}}function Gi(e){e()}function Bi(e){return e}function Vi(){return[!1,Gi]}var Hi=pt;function Nr(e,t){this.props=e,this.context=t}function pa(e,t){function n(o){var i=this.props.ref,l=i==o.ref;return!l&&i&&(i.call?i(null):i.current=null),t?!t(this.props,o)||!l:Ko(this.props,o)}function r(o){return this.shouldComponentUpdate=n,Ge(e,o)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(Nr.prototype=new ct).isPureReactComponent=!0,Nr.prototype.shouldComponentUpdate=function(e,t){return Ko(this.props,e)||Ko(this.state,t)};var Hl=oe.__b;oe.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),Hl&&Hl(e)};var ld=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function zi(e){function t(n){var r=fa({},n);return delete r.ref,e(r,n.ref||null)}return t.$$typeof=ld,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var zl=function(e,t){return e==null?null:wt(wt(e).map(t))},ga={map:zl,forEach:zl,count:function(e){return e?wt(e).length:0},only:function(e){var t=wt(e);if(t.length!==1)throw"Children.only";return t[0]},toArray:wt},sd=oe.__e;oe.__e=function(e,t,n,r){if(e.then){for(var o,i=t;i=i.__;)if((o=i.__c)&&o.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),o.__c(e,t)}sd(e,t,n,r)};var Ul=oe.unmount;function ma(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),e.__c.__H=null),(e=fa({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c.__e=!0,e.__c=null),e.__k=e.__k&&e.__k.map(function(r){return ma(r,t,n)})),e}function ha(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(r){return ha(r,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function qn(){this.__u=0,this.o=null,this.__b=null}function va(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function ba(e){var t,n,r;function o(i){if(t||(t=e()).then(function(l){n=l.default||l},function(l){r=l}),r)throw r;if(!n)throw t;return Ge(n,i)}return o.displayName="Lazy",o.__f=!0,o}function hn(){this.i=null,this.l=null}oe.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),Ul&&Ul(e)},(qn.prototype=new ct).__c=function(e,t){var n=t.__c,r=this;r.o==null&&(r.o=[]),r.o.push(n);var o=va(r.__v),i=!1,l=function(){i||(i=!0,n.__R=null,o?o(s):s())};n.__R=l;var s=function(){if(!--r.__u){if(r.state.__a){var a=r.state.__a;r.__v.__k[0]=ha(a,a.__c.__P,a.__c.__O)}var u;for(r.setState({__a:r.__b=null});u=r.o.pop();)u.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(l,l)},qn.prototype.componentWillUnmount=function(){this.o=[]},qn.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=ma(this.__b,n,r.__O=r.__P)}this.__b=null}var o=t.__a&&Ge(de,null,e.fallback);return o&&(o.__u&=-33),[Ge(de,null,t.__a?null:e.children),o]};var jl=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};function ad(e){return this.getChildContext=function(){return e.context},e.children}function ud(e){var t=this,n=e.h;if(t.componentWillUnmount=function(){Fn(null,t.v),t.v=null,t.h=null},t.h&&t.h!==n&&t.componentWillUnmount(),!t.v){for(var r=t.__v;r!==null&&!r.__m&&r.__!==null;)r=r.__;t.h=n,t.v={nodeType:1,parentNode:n,childNodes:[],__k:{__m:r.__m},contains:function(){return!0},insertBefore:function(o,i){this.childNodes.push(o),t.h.insertBefore(o,i)},removeChild:function(o){this.childNodes.splice(this.childNodes.indexOf(o)>>>1,1),t.h.removeChild(o)}}}Fn(Ge(ad,{context:t.context},e.__v),t.v)}function Ur(e,t){var n=Ge(ud,{__v:e,h:t});return n.containerInfo=t,n}(hn.prototype=new ct).__a=function(e){var t=this,n=va(t.__v),r=t.l.get(e);return r[0]++,function(o){var i=function(){t.props.revealOrder?(r.push(o),jl(t,e,r)):o()};n?n(i):i()}},hn.prototype.render=function(e){this.i=null,this.l=new Map;var t=wt(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},hn.prototype.componentDidUpdate=hn.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,n){jl(e,n,t)})};var _a=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,cd=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,dd=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,fd=/[A-Z0-9]/g,pd=typeof document<"u",gd=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};function wa(e,t,n){return t.__k==null&&(t.textContent=""),Fn(e,t),typeof n=="function"&&n(),e?e.__c:null}function ya(e,t,n){return ua(e,t),typeof n=="function"&&n(),e?e.__c:null}ct.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(ct.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var Wl=oe.event;function md(){}function hd(){return this.cancelBubble}function vd(){return this.defaultPrevented}oe.event=function(e){return Wl&&(e=Wl(e)),e.persist=md,e.isPropagationStopped=hd,e.isDefaultPrevented=vd,e.nativeEvent=e};var Ui,bd={enumerable:!1,configurable:!0,get:function(){return this.class}},ql=oe.vnode;oe.vnode=function(e){typeof e.type=="string"&&function(t){var n=t.props,r=t.type,o={},i=r.indexOf("-")===-1;for(var l in n){var s=n[l];if(!(l==="value"&&"defaultValue"in n&&s==null||pd&&l==="children"&&r==="noscript"||l==="class"||l==="className")){var a=l.toLowerCase();l==="defaultValue"&&"value"in n&&n.value==null?l="value":l==="download"&&s===!0?s="":a==="translate"&&s==="no"?s=!1:a[0]==="o"&&a[1]==="n"?a==="ondoubleclick"?l="ondblclick":a!=="onchange"||r!=="input"&&r!=="textarea"||gd(n.type)?a==="onfocus"?l="onfocusin":a==="onblur"?l="onfocusout":dd.test(l)&&(l=a):a=l="oninput":i&&cd.test(l)?l=l.replace(fd,"-$&").toLowerCase():s===null&&(s=void 0),a==="oninput"&&o[l=a]&&(l="oninputCapture"),o[l]=s}}r=="select"&&o.multiple&&Array.isArray(o.value)&&(o.value=wt(n.children).forEach(function(u){u.props.selected=o.value.indexOf(u.props.value)!=-1})),r=="select"&&o.defaultValue!=null&&(o.value=wt(n.children).forEach(function(u){u.props.selected=o.multiple?o.defaultValue.indexOf(u.props.value)!=-1:o.defaultValue==u.props.value})),n.class&&!n.className?(o.class=n.class,Object.defineProperty(o,"className",bd)):(n.className&&!n.class||n.class&&n.className)&&(o.class=o.className=n.className),t.props=o}(e),e.$$typeof=_a,ql&&ql(e)};var Kl=oe.__r;oe.__r=function(e){Kl&&Kl(e),Ui=e.__c};var Yl=oe.diffed;oe.diffed=function(e){Yl&&Yl(e);var t=e.props,n=e.__e;n!=null&&e.type==="textarea"&&"value"in t&&t.value!==n.value&&(n.value=t.value==null?"":t.value),Ui=null};var Sa={ReactCurrentDispatcher:{current:{readContext:function(e){return Ui.__n[e.__c].props.value},useCallback:ee,useContext:ne,useDebugValue:Li,useDeferredValue:Bi,useEffect:K,useId:Ee,useImperativeHandle:ki,useInsertionEffect:Hi,useLayoutEffect:pt,useMemo:I,useReducer:Tt,useRef:T,useState:O,useSyncExternalStore:zr,useTransition:Vi}}},_d="18.3.1";function Fa(e){return Ge.bind(null,e)}function $n(e){return!!e&&e.$$typeof===_a}function Ca(e){return $n(e)&&e.type===de}function xa(e){return!!e&&!!e.displayName&&(typeof e.displayName=="string"||e.displayName instanceof String)&&e.displayName.startsWith("Memo(")}function ji(e){return $n(e)?Vc.apply(null,arguments):e}function Ea(e){return!!e.__k&&(Fn(null,e),!0)}function Pa(e){return e&&(e.base||e.nodeType===1&&e)||null}var $a=function(e,t){return e(t)},De=function(e,t){return e(t)},Ra=de,Aa=$n,x={useState:O,useId:Ee,useReducer:Tt,useEffect:K,useLayoutEffect:pt,useInsertionEffect:Hi,useTransition:Vi,useDeferredValue:Bi,useSyncExternalStore:zr,startTransition:Gi,useRef:T,useImperativeHandle:ki,useMemo:I,useCallback:ee,useContext:ne,useDebugValue:Li,version:"18.3.1",Children:ga,render:wa,hydrate:ya,unmountComponentAtNode:Ea,createPortal:Ur,createElement:Ge,createContext:he,createFactory:Fa,cloneElement:ji,createRef:Ti,Fragment:de,isValidElement:$n,isElement:Aa,isFragment:Ca,isMemo:xa,findDOMNode:Pa,Component:ct,PureComponent:Nr,memo:pa,forwardRef:zi,flushSync:De,unstable_batchedUpdates:$a,StrictMode:Ra,Suspense:qn,SuspenseList:hn,lazy:ba,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Sa};const Ir=Object.freeze(Object.defineProperty({__proto__:null,Children:ga,Component:ct,Fragment:de,PureComponent:Nr,StrictMode:Ra,Suspense:qn,SuspenseList:hn,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Sa,cloneElement:ji,createContext:he,createElement:Ge,createFactory:Fa,createPortal:Ur,createRef:Ti,default:x,findDOMNode:Pa,flushSync:De,forwardRef:zi,hydrate:ya,isElement:Aa,isFragment:Ca,isMemo:xa,isValidElement:$n,lazy:ba,memo:pa,render:wa,startTransition:Gi,unmountComponentAtNode:Ea,unstable_batchedUpdates:$a,useCallback:ee,useContext:ne,useDebugValue:Li,useDeferredValue:Bi,useEffect:K,useErrorBoundary:zc,useId:Ee,useImperativeHandle:ki,useInsertionEffect:Hi,useLayoutEffect:pt,useMemo:I,useReducer:Tt,useRef:T,useState:O,useSyncExternalStore:zr,useTransition:Vi,version:_d},Symbol.toStringTag,{value:"Module"}));/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function wd(){return{accessor:(e,t)=>typeof e=="function"?{...t,accessorFn:e}:{...t,accessorKey:e},display:e=>e,group:e=>e}}function Dt(e,t){return typeof e=="function"?e(t):e}function Ze(e,t){return n=>{t.setState(r=>({...r,[e]:Dt(n,r[e])}))}}function jr(e){return e instanceof Function}function yd(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function Sd(e,t){const n=[],r=o=>{o.forEach(i=>{n.push(i);const l=t(i);l!=null&&l.length&&r(l)})};return r(e),n}function X(e,t,n){let r=[],o;return i=>{let l;n.key&&n.debug&&(l=Date.now());const s=e(i);if(!(s.length!==r.length||s.some((d,f)=>r[f]!==d)))return o;r=s;let u;if(n.key&&n.debug&&(u=Date.now()),o=t(...s),n==null||n.onChange==null||n.onChange(o),n.key&&n.debug&&n!=null&&n.debug()){const d=Math.round((Date.now()-l)*100)/100,f=Math.round((Date.now()-u)*100)/100,p=f/16,c=(g,h)=>{for(g=String(g);g.length<h;)g=" "+g;return g};console.info(`%câ± ${c(f,5)} /${c(d,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*p,120))}deg 100% 31%);`,n==null?void 0:n.key)}return o}}function J(e,t,n,r){return{debug:()=>{var o;return(o=e==null?void 0:e.debugAll)!=null?o:e[t]},key:!1,onChange:r}}function Fd(e,t,n,r){const o=()=>{var l;return(l=i.getValue())!=null?l:e.options.renderFallbackValue},i={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:o,getContext:X(()=>[e,n,t,i],(l,s,a,u)=>({table:l,column:s,row:a,cell:u,getValue:u.getValue,renderValue:u.renderValue}),J(e.options,"debugCells"))};return e._features.forEach(l=>{l.createCell==null||l.createCell(i,n,t,e)},{}),i}function Cd(e,t,n,r){var o,i;const s={...e._getDefaultColumnDef(),...t},a=s.accessorKey;let u=(o=(i=s.id)!=null?i:a?typeof String.prototype.replaceAll=="function"?a.replaceAll(".","_"):a.replace(/\./g,"_"):void 0)!=null?o:typeof s.header=="string"?s.header:void 0,d;if(s.accessorFn?d=s.accessorFn:a&&(a.includes(".")?d=p=>{let c=p;for(const h of a.split(".")){var g;c=(g=c)==null?void 0:g[h]}return c}:d=p=>p[s.accessorKey]),!u)throw new Error;let f={id:`${String(u)}`,accessorFn:d,parent:r,depth:n,columnDef:s,columns:[],getFlatColumns:X(()=>[!0],()=>{var p;return[f,...(p=f.columns)==null?void 0:p.flatMap(c=>c.getFlatColumns())]},J(e.options,"debugColumns")),getLeafColumns:X(()=>[e._getOrderColumnsFn()],p=>{var c;if((c=f.columns)!=null&&c.length){let g=f.columns.flatMap(h=>h.getLeafColumns());return p(g)}return[f]},J(e.options,"debugColumns"))};for(const p of e._features)p.createColumn==null||p.createColumn(f,e);return f}const Be="debugHeaders";function Xl(e,t,n){var r;let i={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const l=[],s=a=>{a.subHeaders&&a.subHeaders.length&&a.subHeaders.map(s),l.push(a)};return s(i),l},getContext:()=>({table:e,header:i,column:t})};return e._features.forEach(l=>{l.createHeader==null||l.createHeader(i,e)}),i}const xd={createTable:e=>{e.getHeaderGroups=X(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,o)=>{var i,l;const s=(i=r==null?void 0:r.map(f=>n.find(p=>p.id===f)).filter(Boolean))!=null?i:[],a=(l=o==null?void 0:o.map(f=>n.find(p=>p.id===f)).filter(Boolean))!=null?l:[],u=n.filter(f=>!(r!=null&&r.includes(f.id))&&!(o!=null&&o.includes(f.id)));return Sr(t,[...s,...u,...a],e)},J(e.options,Be)),e.getCenterHeaderGroups=X(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,o)=>(n=n.filter(i=>!(r!=null&&r.includes(i.id))&&!(o!=null&&o.includes(i.id))),Sr(t,n,e,"center")),J(e.options,Be)),e.getLeftHeaderGroups=X(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var o;const i=(o=r==null?void 0:r.map(l=>n.find(s=>s.id===l)).filter(Boolean))!=null?o:[];return Sr(t,i,e,"left")},J(e.options,Be)),e.getRightHeaderGroups=X(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var o;const i=(o=r==null?void 0:r.map(l=>n.find(s=>s.id===l)).filter(Boolean))!=null?o:[];return Sr(t,i,e,"right")},J(e.options,Be)),e.getFooterGroups=X(()=>[e.getHeaderGroups()],t=>[...t].reverse(),J(e.options,Be)),e.getLeftFooterGroups=X(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),J(e.options,Be)),e.getCenterFooterGroups=X(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),J(e.options,Be)),e.getRightFooterGroups=X(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),J(e.options,Be)),e.getFlatHeaders=X(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),J(e.options,Be)),e.getLeftFlatHeaders=X(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),J(e.options,Be)),e.getCenterFlatHeaders=X(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),J(e.options,Be)),e.getRightFlatHeaders=X(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),J(e.options,Be)),e.getCenterLeafHeaders=X(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),J(e.options,Be)),e.getLeftLeafHeaders=X(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),J(e.options,Be)),e.getRightLeafHeaders=X(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),J(e.options,Be)),e.getLeafHeaders=X(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var o,i,l,s,a,u;return[...(o=(i=t[0])==null?void 0:i.headers)!=null?o:[],...(l=(s=n[0])==null?void 0:s.headers)!=null?l:[],...(a=(u=r[0])==null?void 0:u.headers)!=null?a:[]].map(d=>d.getLeafHeaders()).flat()},J(e.options,Be))}};function Sr(e,t,n,r){var o,i;let l=0;const s=function(p,c){c===void 0&&(c=1),l=Math.max(l,c),p.filter(g=>g.getIsVisible()).forEach(g=>{var h;(h=g.columns)!=null&&h.length&&s(g.columns,c+1)},0)};s(e);let a=[];const u=(p,c)=>{const g={depth:c,id:[r,`${c}`].filter(Boolean).join("_"),headers:[]},h=[];p.forEach(v=>{const b=[...h].reverse()[0],_=v.column.depth===g.depth;let w,S=!1;if(_&&v.column.parent?w=v.column.parent:(w=v.column,S=!0),b&&(b==null?void 0:b.column)===w)b.subHeaders.push(v);else{const y=Xl(n,w,{id:[r,c,w.id,v==null?void 0:v.id].filter(Boolean).join("_"),isPlaceholder:S,placeholderId:S?`${h.filter(C=>C.column===w).length}`:void 0,depth:c,index:h.length});y.subHeaders.push(v),h.push(y)}g.headers.push(v),v.headerGroup=g}),a.push(g),c>0&&u(h,c-1)},d=t.map((p,c)=>Xl(n,p,{depth:l,index:c}));u(d,l-1),a.reverse();const f=p=>p.filter(g=>g.column.getIsVisible()).map(g=>{let h=0,v=0,b=[0];g.subHeaders&&g.subHeaders.length?(b=[],f(g.subHeaders).forEach(w=>{let{colSpan:S,rowSpan:y}=w;h+=S,b.push(y)})):h=1;const _=Math.min(...b);return v=v+_,g.colSpan=h,g.rowSpan=v,{colSpan:h,rowSpan:v}});return f((o=(i=a[0])==null?void 0:i.headers)!=null?o:[]),a}const Wi=(e,t,n,r,o,i,l)=>{let s={id:t,index:r,original:n,depth:o,parentId:l,_valuesCache:{},_uniqueValuesCache:{},getValue:a=>{if(s._valuesCache.hasOwnProperty(a))return s._valuesCache[a];const u=e.getColumn(a);if(u!=null&&u.accessorFn)return s._valuesCache[a]=u.accessorFn(s.original,r),s._valuesCache[a]},getUniqueValues:a=>{if(s._uniqueValuesCache.hasOwnProperty(a))return s._uniqueValuesCache[a];const u=e.getColumn(a);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(s._uniqueValuesCache[a]=u.columnDef.getUniqueValues(s.original,r),s._uniqueValuesCache[a]):(s._uniqueValuesCache[a]=[s.getValue(a)],s._uniqueValuesCache[a])},renderValue:a=>{var u;return(u=s.getValue(a))!=null?u:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>Sd(s.subRows,a=>a.subRows),getParentRow:()=>s.parentId?e.getRow(s.parentId,!0):void 0,getParentRows:()=>{let a=[],u=s;for(;;){const d=u.getParentRow();if(!d)break;a.push(d),u=d}return a.reverse()},getAllCells:X(()=>[e.getAllLeafColumns()],a=>a.map(u=>Fd(e,s,u,u.id)),J(e.options,"debugRows")),_getAllCellsByColumnId:X(()=>[s.getAllCells()],a=>a.reduce((u,d)=>(u[d.column.id]=d,u),{}),J(e.options,"debugRows"))};for(let a=0;a<e._features.length;a++){const u=e._features[a];u==null||u.createRow==null||u.createRow(s,e)}return s},Ed={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},Oa=(e,t,n)=>{var r,o;const i=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((o=e.getValue(t))==null||(o=o.toString())==null||(o=o.toLowerCase())==null)&&o.includes(i))};Oa.autoRemove=e=>dt(e);const Ta=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};Ta.autoRemove=e=>dt(e);const Na=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};Na.autoRemove=e=>dt(e);const Ia=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};Ia.autoRemove=e=>dt(e);const ka=(e,t,n)=>!n.some(r=>{var o;return!((o=e.getValue(t))!=null&&o.includes(r))});ka.autoRemove=e=>dt(e)||!(e!=null&&e.length);const La=(e,t,n)=>n.some(r=>{var o;return(o=e.getValue(t))==null?void 0:o.includes(r)});La.autoRemove=e=>dt(e)||!(e!=null&&e.length);const Da=(e,t,n)=>e.getValue(t)===n;Da.autoRemove=e=>dt(e);const Ma=(e,t,n)=>e.getValue(t)==n;Ma.autoRemove=e=>dt(e);const qi=(e,t,n)=>{let[r,o]=n;const i=e.getValue(t);return i>=r&&i<=o};qi.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,o=typeof n!="number"?parseFloat(n):n,i=t===null||Number.isNaN(r)?-1/0:r,l=n===null||Number.isNaN(o)?1/0:o;if(i>l){const s=i;i=l,l=s}return[i,l]};qi.autoRemove=e=>dt(e)||dt(e[0])&&dt(e[1]);const xt={includesString:Oa,includesStringSensitive:Ta,equalsString:Na,arrIncludes:Ia,arrIncludesAll:ka,arrIncludesSome:La,equals:Da,weakEquals:Ma,inNumberRange:qi};function dt(e){return e==null||e===""}const Pd={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:Ze("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?xt.includesString:typeof r=="number"?xt.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?xt.equals:Array.isArray(r)?xt.arrIncludes:xt.weakEquals},e.getFilterFn=()=>{var n,r;return jr(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:xt[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,o;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((o=t.options.enableFilters)!=null?o:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(o=>o.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const o=e.getFilterFn(),i=r==null?void 0:r.find(d=>d.id===e.id),l=Dt(n,i?i.value:void 0);if(Jl(o,l,e)){var s;return(s=r==null?void 0:r.filter(d=>d.id!==e.id))!=null?s:[]}const a={id:e.id,value:l};if(i){var u;return(u=r==null?void 0:r.map(d=>d.id===e.id?a:d))!=null?u:[]}return r!=null&&r.length?[...r,a]:[a]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=o=>{var i;return(i=Dt(t,o))==null?void 0:i.filter(l=>{const s=n.find(a=>a.id===l.id);if(s){const a=s.getFilterFn();if(Jl(a,l.value,s))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function Jl(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const $d=(e,t,n)=>n.reduce((r,o)=>{const i=o.getValue(e);return r+(typeof i=="number"?i:0)},0),Rd=(e,t,n)=>{let r;return n.forEach(o=>{const i=o.getValue(e);i!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}),r},Ad=(e,t,n)=>{let r;return n.forEach(o=>{const i=o.getValue(e);i!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}),r},Od=(e,t,n)=>{let r,o;return n.forEach(i=>{const l=i.getValue(e);l!=null&&(r===void 0?l>=l&&(r=o=l):(r>l&&(r=l),o<l&&(o=l)))}),[r,o]},Td=(e,t)=>{let n=0,r=0;if(t.forEach(o=>{let i=o.getValue(e);i!=null&&(i=+i)>=i&&(++n,r+=i)}),n)return r/n},Nd=(e,t)=>{if(!t.length)return;const n=t.map(i=>i.getValue(e));if(!yd(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),o=n.sort((i,l)=>i-l);return n.length%2!==0?o[r]:(o[r-1]+o[r])/2},Id=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),kd=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,Ld=(e,t)=>t.length,wo={sum:$d,min:Rd,max:Ad,extent:Od,mean:Td,median:Nd,unique:Id,uniqueCount:kd,count:Ld},Dd={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:Ze("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return wo.sum;if(Object.prototype.toString.call(r)==="[object Date]")return wo.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return jr(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:wo[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var o;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((o=n.subRows)!=null&&o.length)}}};function Md(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(i=>!t.includes(i.id));return n==="remove"?r:[...t.map(i=>e.find(l=>l.id===i)).filter(Boolean),...r]}const Gd={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:Ze("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=X(n=>[Kn(t,n)],n=>n.findIndex(r=>r.id===e.id),J(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=Kn(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const o=Kn(t,n);return((r=o[o.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=X(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>o=>{let i=[];if(!(t!=null&&t.length))i=o;else{const l=[...t],s=[...o];for(;s.length&&l.length;){const a=l.shift(),u=s.findIndex(d=>d.id===a);u>-1&&i.push(s.splice(u,1)[0])}i=[...i,...s]}return Md(i,n,r)},J(e.options,"debugTable"))}},yo=()=>({left:[],right:[]}),Bd={getInitialState:e=>({columnPinning:yo(),...e}),getDefaultOptions:e=>({onColumnPinningChange:Ze("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(o=>o.id).filter(Boolean);t.setColumnPinning(o=>{var i,l;if(n==="right"){var s,a;return{left:((s=o==null?void 0:o.left)!=null?s:[]).filter(f=>!(r!=null&&r.includes(f))),right:[...((a=o==null?void 0:o.right)!=null?a:[]).filter(f=>!(r!=null&&r.includes(f))),...r]}}if(n==="left"){var u,d;return{left:[...((u=o==null?void 0:o.left)!=null?u:[]).filter(f=>!(r!=null&&r.includes(f))),...r],right:((d=o==null?void 0:o.right)!=null?d:[]).filter(f=>!(r!=null&&r.includes(f)))}}return{left:((i=o==null?void 0:o.left)!=null?i:[]).filter(f=>!(r!=null&&r.includes(f))),right:((l=o==null?void 0:o.right)!=null?l:[]).filter(f=>!(r!=null&&r.includes(f)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var o,i,l;return((o=r.columnDef.enablePinning)!=null?o:!0)&&((i=(l=t.options.enableColumnPinning)!=null?l:t.options.enablePinning)!=null?i:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(s=>s.id),{left:r,right:o}=t.getState().columnPinning,i=n.some(s=>r==null?void 0:r.includes(s)),l=n.some(s=>o==null?void 0:o.includes(s));return i?"left":l?"right":!1},e.getPinnedIndex=()=>{var n,r;const o=e.getIsPinned();return o?(n=(r=t.getState().columnPinning)==null||(r=r[o])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=X(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,o)=>{const i=[...r??[],...o??[]];return n.filter(l=>!i.includes(l.column.id))},J(t.options,"debugRows")),e.getLeftVisibleCells=X(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(i=>n.find(l=>l.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),J(t.options,"debugRows")),e.getRightVisibleCells=X(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(i=>n.find(l=>l.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),J(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?yo():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:yo())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var o,i;return!!((o=r.left)!=null&&o.length||(i=r.right)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=X(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(o=>o.id===r)).filter(Boolean),J(e.options,"debugColumns")),e.getRightLeafColumns=X(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(o=>o.id===r)).filter(Boolean),J(e.options,"debugColumns")),e.getCenterLeafColumns=X(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const o=[...n??[],...r??[]];return t.filter(i=>!o.includes(i.id))},J(e.options,"debugColumns"))}};function Vd(e){return e||(typeof document<"u"?document:null)}const Fr={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},So=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Hd={getDefaultColumnDef:()=>Fr,getInitialState:e=>({columnSizing:{},columnSizingInfo:So(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Ze("columnSizing",e),onColumnSizingInfoChange:Ze("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,o;const i=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:Fr.minSize,(r=i??e.columnDef.size)!=null?r:Fr.size),(o=e.columnDef.maxSize)!=null?o:Fr.maxSize)},e.getStart=X(n=>[n,Kn(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((o,i)=>o+i.getSize(),0),J(t.options,"debugColumns")),e.getAfter=X(n=>[n,Kn(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((o,i)=>o+i.getSize(),0),J(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...o}=n;return o})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=o=>{if(o.subHeaders.length)o.subHeaders.forEach(r);else{var i;n+=(i=o.column.getSize())!=null?i:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),o=r==null?void 0:r.getCanResize();return i=>{if(!r||!o||(i.persist==null||i.persist(),Fo(i)&&i.touches&&i.touches.length>1))return;const l=e.getSize(),s=e?e.getLeafHeaders().map(b=>[b.column.id,b.column.getSize()]):[[r.id,r.getSize()]],a=Fo(i)?Math.round(i.touches[0].clientX):i.clientX,u={},d=(b,_)=>{typeof _=="number"&&(t.setColumnSizingInfo(w=>{var S,y;const C=t.options.columnResizeDirection==="rtl"?-1:1,R=(_-((S=w==null?void 0:w.startOffset)!=null?S:0))*C,N=Math.max(R/((y=w==null?void 0:w.startSize)!=null?y:0),-.999999);return w.columnSizingStart.forEach(k=>{let[E,A]=k;u[E]=Math.round(Math.max(A+A*N,0)*100)/100}),{...w,deltaOffset:R,deltaPercentage:N}}),(t.options.columnResizeMode==="onChange"||b==="end")&&t.setColumnSizing(w=>({...w,...u})))},f=b=>d("move",b),p=b=>{d("end",b),t.setColumnSizingInfo(_=>({..._,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},c=Vd(n),g={moveHandler:b=>f(b.clientX),upHandler:b=>{c==null||c.removeEventListener("mousemove",g.moveHandler),c==null||c.removeEventListener("mouseup",g.upHandler),p(b.clientX)}},h={moveHandler:b=>(b.cancelable&&(b.preventDefault(),b.stopPropagation()),f(b.touches[0].clientX),!1),upHandler:b=>{var _;c==null||c.removeEventListener("touchmove",h.moveHandler),c==null||c.removeEventListener("touchend",h.upHandler),b.cancelable&&(b.preventDefault(),b.stopPropagation()),p((_=b.touches[0])==null?void 0:_.clientX)}},v=zd()?{passive:!1}:!1;Fo(i)?(c==null||c.addEventListener("touchmove",h.moveHandler,v),c==null||c.addEventListener("touchend",h.upHandler,v)):(c==null||c.addEventListener("mousemove",g.moveHandler,v),c==null||c.addEventListener("mouseup",g.upHandler,v)),t.setColumnSizingInfo(b=>({...b,startOffset:a,startSize:l,deltaOffset:0,deltaPercentage:0,columnSizingStart:s,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?So():(n=e.initialState.columnSizingInfo)!=null?n:So())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0}}};let Cr=null;function zd(){if(typeof Cr=="boolean")return Cr;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return Cr=e,Cr}function Fo(e){return e.type==="touchstart"}const Ud={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:Ze("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const o=e.columns;return(n=o.length?o.some(i=>i.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=X(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),J(t.options,"debugRows")),e.getVisibleCells=X(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,o)=>[...n,...r,...o],J(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>X(()=>[r(),r().filter(o=>o.getIsVisible()).map(o=>o.id).join("_")],o=>o.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),J(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((o,i)=>({...o,[i.id]:n||!(i.getCanHide!=null&&i.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function Kn(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const jd={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},Wd={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:Ze("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,o,i;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((o=t.options.enableFilters)!=null?o:!0)&&((i=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?i:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>xt.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return jr(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:xt[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},qd={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:Ze("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,o;if(!t){e._queue(()=>{t=!0});return}if((r=(o=e.options.autoResetAll)!=null?o:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var o,i;e.setExpanded(r?{}:(o=(i=e.initialState)==null?void 0:i.expanded)!=null?o:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(o=>!o.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(i=>{const l=i.split(".");r=Math.max(r,l.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var o;const i=r===!0?!0:!!(r!=null&&r[e.id]);let l={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(s=>{l[s]=!0}):l=r,n=(o=n)!=null?o:!i,!i&&n)return{...l,[e.id]:!0};if(i&&!n){const{[e.id]:s,...a}=l;return a}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,o;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((o=e.subRows)!=null&&o.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},Yo=0,Xo=10,Co=()=>({pageIndex:Yo,pageSize:Xo}),Kd={getInitialState:e=>({...e,pagination:{...Co(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:Ze("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,o;if(!t){e._queue(()=>{t=!0});return}if((r=(o=e.options.autoResetAll)!=null?o:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const o=i=>Dt(r,i);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(o)},e.resetPagination=r=>{var o;e.setPagination(r?Co():(o=e.initialState.pagination)!=null?o:Co())},e.setPageIndex=r=>{e.setPagination(o=>{let i=Dt(r,o.pageIndex);const l=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return i=Math.max(0,Math.min(i,l)),{...o,pageIndex:i}})},e.resetPageIndex=r=>{var o,i;e.setPageIndex(r?Yo:(o=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageIndex)!=null?o:Yo)},e.resetPageSize=r=>{var o,i;e.setPageSize(r?Xo:(o=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageSize)!=null?o:Xo)},e.setPageSize=r=>{e.setPagination(o=>{const i=Math.max(1,Dt(r,o.pageSize)),l=o.pageSize*o.pageIndex,s=Math.floor(l/i);return{...o,pageIndex:s,pageSize:i}})},e.setPageCount=r=>e.setPagination(o=>{var i;let l=Dt(r,(i=e.options.pageCount)!=null?i:-1);return typeof l=="number"&&(l=Math.max(-1,l)),{...o,pageCount:l}}),e.getPageOptions=X(()=>[e.getPageCount()],r=>{let o=[];return r&&r>0&&(o=[...new Array(r)].fill(null).map((i,l)=>l)),o},J(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,o=e.getPageCount();return o===-1?!0:o===0?!1:r<o-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},xo=()=>({top:[],bottom:[]}),Yd={getInitialState:e=>({rowPinning:xo(),...e}),getDefaultOptions:e=>({onRowPinningChange:Ze("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,o)=>{const i=r?e.getLeafRows().map(a=>{let{id:u}=a;return u}):[],l=o?e.getParentRows().map(a=>{let{id:u}=a;return u}):[],s=new Set([...l,e.id,...i]);t.setRowPinning(a=>{var u,d;if(n==="bottom"){var f,p;return{top:((f=a==null?void 0:a.top)!=null?f:[]).filter(h=>!(s!=null&&s.has(h))),bottom:[...((p=a==null?void 0:a.bottom)!=null?p:[]).filter(h=>!(s!=null&&s.has(h))),...Array.from(s)]}}if(n==="top"){var c,g;return{top:[...((c=a==null?void 0:a.top)!=null?c:[]).filter(h=>!(s!=null&&s.has(h))),...Array.from(s)],bottom:((g=a==null?void 0:a.bottom)!=null?g:[]).filter(h=>!(s!=null&&s.has(h)))}}return{top:((u=a==null?void 0:a.top)!=null?u:[]).filter(h=>!(s!=null&&s.has(h))),bottom:((d=a==null?void 0:a.bottom)!=null?d:[]).filter(h=>!(s!=null&&s.has(h)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:o}=t.options;return typeof r=="function"?r(e):(n=r??o)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:o}=t.getState().rowPinning,i=n.some(s=>r==null?void 0:r.includes(s)),l=n.some(s=>o==null?void 0:o.includes(s));return i?"top":l?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const o=e.getIsPinned();if(!o)return-1;const i=(n=o==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(l=>{let{id:s}=l;return s});return(r=i==null?void 0:i.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?xo():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:xo())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var o,i;return!!((o=r.top)!=null&&o.length||(i=r.bottom)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var o;return((o=e.options.keepPinnedRows)==null||o?(n??[]).map(l=>{const s=e.getRow(l,!0);return s.getIsAllParentsExpanded()?s:null}):(n??[]).map(l=>t.find(s=>s.id===l))).filter(Boolean).map(l=>({...l,position:r}))},e.getTopRows=X(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),J(e.options,"debugRows")),e.getBottomRows=X(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),J(e.options,"debugRows")),e.getCenterRows=X(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const o=new Set([...n??[],...r??[]]);return t.filter(i=>!o.has(i.id))},J(e.options,"debugRows"))}},Xd={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:Ze("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},o=e.getPreGroupedRowModel().flatRows;return t?o.forEach(i=>{i.getCanSelect()&&(r[i.id]=!0)}):o.forEach(i=>{delete r[i.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),o={...n};return e.getRowModel().rows.forEach(i=>{Jo(o,i.id,r,!0,e)}),o}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=X(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?Eo(e,n):{rows:[],flatRows:[],rowsById:{}},J(e.options,"debugTable")),e.getFilteredSelectedRowModel=X(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?Eo(e,n):{rows:[],flatRows:[],rowsById:{}},J(e.options,"debugTable")),e.getGroupedSelectedRowModel=X(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?Eo(e,n):{rows:[],flatRows:[],rowsById:{}},J(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(o=>o.getCanSelect()&&!n[o.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(o=>o.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(o=>!n[o.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const o=e.getIsSelected();t.setRowSelection(i=>{var l;if(n=typeof n<"u"?n:!o,e.getCanSelect()&&o===n)return i;const s={...i};return Jo(s,e.id,n,(l=r==null?void 0:r.selectChildren)!=null?l:!0,t),s})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return Ki(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return Qo(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return Qo(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var o;n&&e.toggleSelected((o=r.target)==null?void 0:o.checked)}}}},Jo=(e,t,n,r,o)=>{var i;const l=o.getRow(t,!0);n?(l.getCanMultiSelect()||Object.keys(e).forEach(s=>delete e[s]),l.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(i=l.subRows)!=null&&i.length&&l.getCanSelectSubRows()&&l.subRows.forEach(s=>Jo(e,s.id,n,r,o))};function Eo(e,t){const n=e.getState().rowSelection,r=[],o={},i=function(l,s){return l.map(a=>{var u;const d=Ki(a,n);if(d&&(r.push(a),o[a.id]=a),(u=a.subRows)!=null&&u.length&&(a={...a,subRows:i(a.subRows)}),d)return a}).filter(Boolean)};return{rows:i(t.rows),flatRows:r,rowsById:o}}function Ki(e,t){var n;return(n=t[e.id])!=null?n:!1}function Qo(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let o=!0,i=!1;return e.subRows.forEach(l=>{if(!(i&&!o)&&(l.getCanSelect()&&(Ki(l,t)?i=!0:o=!1),l.subRows&&l.subRows.length)){const s=Qo(l,t);s==="all"?i=!0:(s==="some"&&(i=!0),o=!1)}}),o?"all":i?"some":!1}const Zo=/([0-9]+)/gm,Jd=(e,t,n)=>Ga(Vt(e.getValue(n)).toLowerCase(),Vt(t.getValue(n)).toLowerCase()),Qd=(e,t,n)=>Ga(Vt(e.getValue(n)),Vt(t.getValue(n))),Zd=(e,t,n)=>Yi(Vt(e.getValue(n)).toLowerCase(),Vt(t.getValue(n)).toLowerCase()),ef=(e,t,n)=>Yi(Vt(e.getValue(n)),Vt(t.getValue(n))),tf=(e,t,n)=>{const r=e.getValue(n),o=t.getValue(n);return r>o?1:r<o?-1:0},nf=(e,t,n)=>Yi(e.getValue(n),t.getValue(n));function Yi(e,t){return e===t?0:e>t?1:-1}function Vt(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function Ga(e,t){const n=e.split(Zo).filter(Boolean),r=t.split(Zo).filter(Boolean);for(;n.length&&r.length;){const o=n.shift(),i=r.shift(),l=parseInt(o,10),s=parseInt(i,10),a=[l,s].sort();if(isNaN(a[0])){if(o>i)return 1;if(i>o)return-1;continue}if(isNaN(a[1]))return isNaN(l)?-1:1;if(l>s)return 1;if(s>l)return-1}return n.length-r.length}const Dn={alphanumeric:Jd,alphanumericCaseSensitive:Qd,text:Zd,textCaseSensitive:ef,datetime:tf,basic:nf},rf={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:Ze("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const o of n){const i=o==null?void 0:o.getValue(e.id);if(Object.prototype.toString.call(i)==="[object Date]")return Dn.datetime;if(typeof i=="string"&&(r=!0,i.split(Zo).length>1))return Dn.alphanumeric}return r?Dn.text:Dn.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return jr(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:Dn[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const o=e.getNextSortingOrder(),i=typeof n<"u"&&n!==null;t.setSorting(l=>{const s=l==null?void 0:l.find(c=>c.id===e.id),a=l==null?void 0:l.findIndex(c=>c.id===e.id);let u=[],d,f=i?n:o==="desc";if(l!=null&&l.length&&e.getCanMultiSort()&&r?s?d="toggle":d="add":l!=null&&l.length&&a!==l.length-1?d="replace":s?d="toggle":d="replace",d==="toggle"&&(i||o||(d="remove")),d==="add"){var p;u=[...l,{id:e.id,desc:f}],u.splice(0,u.length-((p=t.options.maxMultiSortColCount)!=null?p:Number.MAX_SAFE_INTEGER))}else d==="toggle"?u=l.map(c=>c.id===e.id?{...c,desc:f}:c):d==="remove"?u=l.filter(c=>c.id!==e.id):u=[{id:e.id,desc:f}];return u})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,o;const i=e.getFirstSortDir(),l=e.getIsSorted();return l?l!==i&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(o=t.options.enableMultiRemove)!=null)||o)?!1:l==="desc"?"asc":"desc":i},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(o=>o.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(o=>o.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},of=[xd,Ud,Gd,Bd,Ed,Pd,jd,Wd,rf,Dd,qd,Kd,Yd,Xd,Hd];function lf(e){var t,n;const r=[...of,...(t=e._features)!=null?t:[]];let o={_features:r};const i=o._features.reduce((p,c)=>Object.assign(p,c.getDefaultOptions==null?void 0:c.getDefaultOptions(o)),{}),l=p=>o.options.mergeOptions?o.options.mergeOptions(i,p):{...i,...p};let a={...{},...(n=e.initialState)!=null?n:{}};o._features.forEach(p=>{var c;a=(c=p.getInitialState==null?void 0:p.getInitialState(a))!=null?c:a});const u=[];let d=!1;const f={_features:r,options:{...i,...e},initialState:a,_queue:p=>{u.push(p),d||(d=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();d=!1}).catch(c=>setTimeout(()=>{throw c})))},reset:()=>{o.setState(o.initialState)},setOptions:p=>{const c=Dt(p,o.options);o.options=l(c)},getState:()=>o.options.state,setState:p=>{o.options.onStateChange==null||o.options.onStateChange(p)},_getRowId:(p,c,g)=>{var h;return(h=o.options.getRowId==null?void 0:o.options.getRowId(p,c,g))!=null?h:`${g?[g.id,c].join("."):c}`},getCoreRowModel:()=>(o._getCoreRowModel||(o._getCoreRowModel=o.options.getCoreRowModel(o)),o._getCoreRowModel()),getRowModel:()=>o.getPaginationRowModel(),getRow:(p,c)=>{let g=(c?o.getPrePaginationRowModel():o.getRowModel()).rowsById[p];if(!g&&(g=o.getCoreRowModel().rowsById[p],!g))throw new Error;return g},_getDefaultColumnDef:X(()=>[o.options.defaultColumn],p=>{var c;return p=(c=p)!=null?c:{},{header:g=>{const h=g.header.column.columnDef;return h.accessorKey?h.accessorKey:h.accessorFn?h.id:null},cell:g=>{var h,v;return(h=(v=g.renderValue())==null||v.toString==null?void 0:v.toString())!=null?h:null},...o._features.reduce((g,h)=>Object.assign(g,h.getDefaultColumnDef==null?void 0:h.getDefaultColumnDef()),{}),...p}},J(e,"debugColumns")),_getColumnDefs:()=>o.options.columns,getAllColumns:X(()=>[o._getColumnDefs()],p=>{const c=function(g,h,v){return v===void 0&&(v=0),g.map(b=>{const _=Cd(o,b,v,h),w=b;return _.columns=w.columns?c(w.columns,_,v+1):[],_})};return c(p)},J(e,"debugColumns")),getAllFlatColumns:X(()=>[o.getAllColumns()],p=>p.flatMap(c=>c.getFlatColumns()),J(e,"debugColumns")),_getAllFlatColumnsById:X(()=>[o.getAllFlatColumns()],p=>p.reduce((c,g)=>(c[g.id]=g,c),{}),J(e,"debugColumns")),getAllLeafColumns:X(()=>[o.getAllColumns(),o._getOrderColumnsFn()],(p,c)=>{let g=p.flatMap(h=>h.getLeafColumns());return c(g)},J(e,"debugColumns")),getColumn:p=>o._getAllFlatColumnsById()[p]};Object.assign(o,f);for(let p=0;p<o._features.length;p++){const c=o._features[p];c==null||c.createTable==null||c.createTable(o)}return o}function sf(){return e=>X(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(o,i,l){i===void 0&&(i=0);const s=[];for(let u=0;u<o.length;u++){const d=Wi(e,e._getRowId(o[u],u,l),o[u],u,i,void 0,l==null?void 0:l.id);if(n.flatRows.push(d),n.rowsById[d.id]=d,s.push(d),e.options.getSubRows){var a;d.originalSubRows=e.options.getSubRows(o[u],u),(a=d.originalSubRows)!=null&&a.length&&(d.subRows=r(d.originalSubRows,i+1,d))}}return s};return n.rows=r(t),n},J(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function af(e){const t=[],n=r=>{var o;t.push(r),(o=r.subRows)!=null&&o.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function uf(e,t,n){return n.options.filterFromLeafRows?cf(e,t,n):df(e,t,n)}function cf(e,t,n){var r;const o=[],i={},l=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,s=function(a,u){u===void 0&&(u=0);const d=[];for(let p=0;p<a.length;p++){var f;let c=a[p];const g=Wi(n,c.id,c.original,c.index,c.depth,void 0,c.parentId);if(g.columnFilters=c.columnFilters,(f=c.subRows)!=null&&f.length&&u<l){if(g.subRows=s(c.subRows,u+1),c=g,t(c)&&!g.subRows.length){d.push(c),i[c.id]=c,o.push(c);continue}if(t(c)||g.subRows.length){d.push(c),i[c.id]=c,o.push(c);continue}}else c=g,t(c)&&(d.push(c),i[c.id]=c,o.push(c))}return d};return{rows:s(e),flatRows:o,rowsById:i}}function df(e,t,n){var r;const o=[],i={},l=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,s=function(a,u){u===void 0&&(u=0);const d=[];for(let p=0;p<a.length;p++){let c=a[p];if(t(c)){var f;if((f=c.subRows)!=null&&f.length&&u<l){const h=Wi(n,c.id,c.original,c.index,c.depth,void 0,c.parentId);h.subRows=s(c.subRows,u+1),c=h}d.push(c),o.push(c),i[c.id]=c}}return d};return{rows:s(e),flatRows:o,rowsById:i}}function ff(){return e=>X(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let p=0;p<t.flatRows.length;p++)t.flatRows[p].columnFilters={},t.flatRows[p].columnFiltersMeta={};return t}const o=[],i=[];(n??[]).forEach(p=>{var c;const g=e.getColumn(p.id);if(!g)return;const h=g.getFilterFn();h&&o.push({id:p.id,filterFn:h,resolvedValue:(c=h.resolveFilterValue==null?void 0:h.resolveFilterValue(p.value))!=null?c:p.value})});const l=(n??[]).map(p=>p.id),s=e.getGlobalFilterFn(),a=e.getAllLeafColumns().filter(p=>p.getCanGlobalFilter());r&&s&&a.length&&(l.push("__global__"),a.forEach(p=>{var c;i.push({id:p.id,filterFn:s,resolvedValue:(c=s.resolveFilterValue==null?void 0:s.resolveFilterValue(r))!=null?c:r})}));let u,d;for(let p=0;p<t.flatRows.length;p++){const c=t.flatRows[p];if(c.columnFilters={},o.length)for(let g=0;g<o.length;g++){u=o[g];const h=u.id;c.columnFilters[h]=u.filterFn(c,h,u.resolvedValue,v=>{c.columnFiltersMeta[h]=v})}if(i.length){for(let g=0;g<i.length;g++){d=i[g];const h=d.id;if(d.filterFn(c,h,d.resolvedValue,v=>{c.columnFiltersMeta[h]=v})){c.columnFilters.__global__=!0;break}}c.columnFilters.__global__!==!0&&(c.columnFilters.__global__=!1)}}const f=p=>{for(let c=0;c<l.length;c++)if(p.columnFilters[l[c]]===!1)return!1;return!0};return uf(t.rows,f,e)},J(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function pf(e){return t=>X(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:o,pageIndex:i}=n;let{rows:l,flatRows:s,rowsById:a}=r;const u=o*i,d=u+o;l=l.slice(u,d);let f;t.options.paginateExpandedRows?f={rows:l,flatRows:s,rowsById:a}:f=af({rows:l,flatRows:s,rowsById:a}),f.flatRows=[];const p=c=>{f.flatRows.push(c),c.subRows.length&&c.subRows.forEach(p)};return f.rows.forEach(p),f},J(t.options,"debugTable"))}function gf(){return e=>X(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,o=[],i=r.filter(a=>{var u;return(u=e.getColumn(a.id))==null?void 0:u.getCanSort()}),l={};i.forEach(a=>{const u=e.getColumn(a.id);u&&(l[a.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});const s=a=>{const u=a.map(d=>({...d}));return u.sort((d,f)=>{for(let c=0;c<i.length;c+=1){var p;const g=i[c],h=l[g.id],v=h.sortUndefined,b=(p=g==null?void 0:g.desc)!=null?p:!1;let _=0;if(v){const w=d.getValue(g.id),S=f.getValue(g.id),y=w===void 0,C=S===void 0;if(y||C){if(v==="first")return y?-1:1;if(v==="last")return y?1:-1;_=y&&C?0:y?v:-v}}if(_===0&&(_=h.sortingFn(d,f,g.id)),_!==0)return b&&(_*=-1),h.invertSorting&&(_*=-1),_}return d.index-f.index}),u.forEach(d=>{var f;o.push(d),(f=d.subRows)!=null&&f.length&&(d.subRows=s(d.subRows))}),u};return{rows:s(n.rows),flatRows:o,rowsById:n.rowsById}},J(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Ql(e,t){return e?mf(e)?Ge(e,t):e:null}function mf(e){return hf(e)||typeof e=="function"||vf(e)}function hf(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function vf(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function bf(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=O(()=>({current:lf(t)})),[r,o]=O(()=>n.current.initialState);return n.current.setOptions(i=>({...i,...e,state:{...r,...e.state},onStateChange:l=>{o(l),e.onStateChange==null||e.onStateChange(l)}})),n.current}function Ba(e){e=e.replace("#","");const t=parseInt(e.substring(0,2),16),n=parseInt(e.substring(2,4),16),r=parseInt(e.substring(4,6),16);return(t*299+n*587+r*114)/1e3>=128?"black":"white"}const _f=e=>{if(e==null)return"";const t=String(e);return/[",\n]/.test(t)?`"${t.replace(/"/g,'""')}"`:t};function ei(e,t="-"){return!e||e==0?t:e>500&&e%500===0?`${e/1e3}kg`:`${e}g`}function wf(e){const t=[];let n="",r=!1;for(let o=0;o<e.length;o++){const i=e[o],l=e[o+1];i==='"'&&r&&l==='"'?(n+='"',o++):i==='"'?r=!r:i===","&&!r?(t.push(n),n=""):n+=i}return t.push(n),t}function kr(e){if(!e)return"";const t=ti(e),n=e.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"});return`${t} ${n}`}function ti(e){if(!e)return"";const t=e.getFullYear().toString(),n=t.slice(-2);let r=e.toLocaleDateString();return r=r.replace(t,n),r}function Zl(e){if(e=="")return 0;if(e.length!=6)return null;const t=atob(e),n=new ArrayBuffer(4),r=new Uint8Array(n);for(let o=0;o<4;o++)r[o]=t.charCodeAt(o);return new DataView(n).getFloat32(0,!0)}function vn(e,t){return parseFloat(e.toFixed(t)).toString()}const dn=e=>(t,n)=>Va(t.getValue(e),n.getValue(e)),Va=(e,t)=>{const n=e||"",r=t||"";return!n&&r?1:n&&!r?-1:n.localeCompare(r)},ni=({spool:e,compact:t=!1})=>m("div",{className:t?"spool-card-compact":"spool-card",style:{backgroundColor:`#${e.color_code.substring(0,6)}`,color:Ba(e.color_code.substring(0,6))},children:[m("div",{className:"spool-card-header",children:m("div",{class:"space-x-2",children:[m("span",{className:"spool-material",children:[e.id,"."]}),m("span",{className:"spool-material",children:e.material_type}),m("span",{className:"spool-material",children:e.color_name}),m("span",{className:"spool-material",children:[e.weight_left?`${vn(e.weight_left-e.consumed_since_weight,1)}g`:"-"," /"," ",ei(e.weight_advertised)]})]})}),m("div",{className:"spool-card-content",children:[m("div",{className:"spool-card-row",children:[m("div",{className:"spool-field-inline",children:[m("span",{className:"spool-label",children:"Brand:"}),m("span",{children:e.brand?e.brand:"-"})]}),m("div",{className:"spool-field-inline",children:[m("span",{className:"spool-label",children:"Subtype:"}),m("span",{children:e.material_subtype?e.material_subtype:"-"})]}),m("div",{className:"spool-field-inline",children:[m("span",{className:"spool-label",children:"RGB:"}),m("span",{children:e.color_code})]}),m("div",{className:"spool-field-inline",children:[m("span",{className:"spool-label",children:"Tag ID:"}),e.tag_id?e.tag_id.startsWith("-")?m("span",{className:"line-through",children:e.tag_id.slice(1)}):m("span",{children:e.tag_id}):m("span",{children:"-"})]}),m("div",{className:"spool-field-inline",children:[m("span",{className:"spool-label",children:"Added:"}),m("span",{children:e.added_datetime?kr(e.added_datetime):"-"})]}),m("div",{className:"spool-field-inline",children:[m("span",{className:"spool-label",children:"Encoded:"}),m("span",{children:e.encoded_datetime?kr(e.encoded_datetime):"-"})]}),m("div",{className:"spool-field-inline",children:[m("span",{className:"spool-label",children:"Full Weight:"}),m("span",{children:e.weight_new?`${e.weight_new}g`:"-"})]}),m("div",{className:"spool-field-inline",children:[m("span",{className:"spool-label",children:"Latest Scale Weight:"}),m("span",{children:e.weight_current?`${e.weight_current}g`:"-"})]}),m("div",{className:"spool-field-inline",children:[m("span",{className:"spool-label",children:"Printed Since Added:"}),m("span",{children:e.consumed_since_add?`${vn(e.consumed_since_add,1)}g`:"-"})]}),m("div",{className:"spool-field-inline",children:[m("span",{className:"spool-label",children:"Printed Since Weighted:"}),m("span",{children:e.consumed_since_weight?`${vn(e.consumed_since_weight,1)}g`:"-"})]}),m("div",{className:"spool-field-inline",children:[m("span",{className:"spool-label",children:"Used:"}),m("span",{children:e.weight_used?`${vn(e.weight_used+e.consumed_since_weight,1)}g`:"-"})]}),m("div",{className:"spool-field-inline",children:[m("span",{className:"spool-label",children:"Empty Weight:"}),m("span",{children:e.weight_core?`${e.weight_core}g`:"-"})]}),m("div",{className:"spool-field-inline",children:[m("span",{className:"spool-label",children:"Pressure Advance(K):"}),m("span",{children:`${e.k_setting?"Configured":"Not Configured"}`})]})]}),e.note&&m("div",{className:"spool-field-inline",children:[m("span",{className:"spool-label",children:"Note:"}),m("span",{children:e.note})]})]})]}),yf={securityKey:"",setSecurityKey:()=>{},securityOk:!1,setSecurityOk:()=>{}},Rn=he(yf),Sf=({children:e})=>{const t=new URLSearchParams(window.location.hash.slice(1)).get("sk")||""||new URLSearchParams(window.location.hash.slice(1)).get("_sk")||"",[n,r]=O(t),[o,i]=O(!1);return window.securityKey=n,K(()=>{Ff(i)},[]),m(Rn.Provider,{value:{securityKey:n,setSecurityKey:r,securityOk:o,setSecurityOk:i},children:e})};let ri=null;function Ff(e){ri=e}function Cf(e){ri&&ri(e)}const Ha=typeof document<"u"?x.useLayoutEffect:()=>{};function xf(e){const t=T(null);return Ha(()=>{t.current=e},[e]),ee((...n)=>{const r=t.current;return r==null?void 0:r(...n)},[])}const Wt=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},en=e=>e&&"window"in e&&e.window===e?e:Wt(e).defaultView||window;function Ef(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function Pf(e){return Ef(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let $f=!1;function Xi(){return $f}function za(e,t){if(!Xi())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let n=t;for(;n!==null;){if(n===e)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:Pf(n)?n=n.host:n=n.parentNode}return!1}const oi=(e=document)=>{var t;if(!Xi())return e.activeElement;let n=e.activeElement;for(;n&&"shadowRoot"in n&&(!((t=n.shadowRoot)===null||t===void 0)&&t.activeElement);)n=n.shadowRoot.activeElement;return n};function Ua(e){return Xi()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function Rf(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function Af(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function ja(e){let t=null;return()=>(t==null&&(t=e()),t)}const Of=ja(function(){return Af(/^Mac/i)}),Tf=ja(function(){return Rf(/Android/i)});function Wa(){let e=T(new Map),t=ee((o,i,l,s)=>{let a=s!=null&&s.once?(...u)=>{e.current.delete(l),l(...u)}:l;e.current.set(l,{type:i,eventTarget:o,fn:a,options:s}),o.addEventListener(i,a,s)},[]),n=ee((o,i,l,s)=>{var a;let u=((a=e.current.get(l))===null||a===void 0?void 0:a.fn)||l;o.removeEventListener(i,u,s),e.current.delete(l)},[]),r=ee(()=>{e.current.forEach((o,i)=>{n(o.eventTarget,o.type,i,o.options)})},[n]);return K(()=>r,[r]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:r}}function Nf(e){return e.mozInputSource===0&&e.isTrusted?!0:Tf()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function qa(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function If(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function Ka(e){let t=T({isFocused:!1,observer:null});Ha(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=xf(r=>{e==null||e(r)});return ee(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let o=r.target,i=l=>{if(t.current.isFocused=!1,o.disabled){let s=qa(l);n(s)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};o.addEventListener("focusout",i,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&o.disabled){var l;(l=t.current.observer)===null||l===void 0||l.disconnect();let s=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:s})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:s}))}}),t.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let kf=!1,ir=null,ii=new Set,Yn=new Map,on=!1,li=!1;const Lf={Tab:!0,Escape:!0};function Ji(e,t){for(let n of ii)n(e,t)}function Df(e){return!(e.metaKey||!Of()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function Lr(e){on=!0,Df(e)&&(ir="keyboard",Ji("keyboard",e))}function wn(e){ir="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(on=!0,Ji("pointer",e))}function Ya(e){Nf(e)&&(on=!0,ir="virtual")}function Xa(e){e.target===window||e.target===document||kf||!e.isTrusted||(!on&&!li&&(ir="virtual",Ji("virtual",e)),on=!1,li=!1)}function Ja(){on=!1,li=!0}function si(e){if(typeof window>"u"||typeof document>"u"||Yn.get(en(e)))return;const t=en(e),n=Wt(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){on=!0,r.apply(this,arguments)},n.addEventListener("keydown",Lr,!0),n.addEventListener("keyup",Lr,!0),n.addEventListener("click",Ya,!0),t.addEventListener("focus",Xa,!0),t.addEventListener("blur",Ja,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",wn,!0),n.addEventListener("pointermove",wn,!0),n.addEventListener("pointerup",wn,!0)),t.addEventListener("beforeunload",()=>{Qa(e)},{once:!0}),Yn.set(t,{focus:r})}const Qa=(e,t)=>{const n=en(e),r=Wt(e);t&&r.removeEventListener("DOMContentLoaded",t),Yn.has(n)&&(n.HTMLElement.prototype.focus=Yn.get(n).focus,r.removeEventListener("keydown",Lr,!0),r.removeEventListener("keyup",Lr,!0),r.removeEventListener("click",Ya,!0),n.removeEventListener("focus",Xa,!0),n.removeEventListener("blur",Ja,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",wn,!0),r.removeEventListener("pointermove",wn,!0),r.removeEventListener("pointerup",wn,!0)),Yn.delete(n))};function Mf(e){const t=Wt(e);let n;return t.readyState!=="loading"?si(e):(n=()=>{si(e)},t.addEventListener("DOMContentLoaded",n)),()=>Qa(e,n)}typeof document<"u"&&Mf();function Za(){return ir!=="pointer"}const Gf=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Bf(e,t,n){let r=Wt(n==null?void 0:n.target);const o=typeof window<"u"?en(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,i=typeof window<"u"?en(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,l=typeof window<"u"?en(n==null?void 0:n.target).HTMLElement:HTMLElement,s=typeof window<"u"?en(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||r.activeElement instanceof o&&!Gf.has(r.activeElement.type)||r.activeElement instanceof i||r.activeElement instanceof l&&r.activeElement.isContentEditable,!(e&&t==="keyboard"&&n instanceof s&&!Lf[n.key])}function Vf(e,t,n){si(),K(()=>{let r=(o,i)=>{Bf(!!(n!=null&&n.isTextInput),o,i)&&e(Za())};return ii.add(r),()=>{ii.delete(r)}},t)}function Hf(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:o}=e;const i=ee(a=>{if(a.target===a.currentTarget)return r&&r(a),o&&o(!1),!0},[r,o]),l=Ka(i),s=ee(a=>{const u=Wt(a.target),d=u?oi(u):oi();a.target===a.currentTarget&&d===Ua(a.nativeEvent)&&(n&&n(a),o&&o(!0),l(a))},[o,n,l]);return{focusProps:{onFocus:!t&&(n||o||r)?s:void 0,onBlur:!t&&(r||o)?i:void 0}}}function zf(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:o}=e,i=T({isFocusWithin:!1}),{addGlobalListener:l,removeAllGlobalListeners:s}=Wa(),a=ee(f=>{f.currentTarget.contains(f.target)&&i.current.isFocusWithin&&!f.currentTarget.contains(f.relatedTarget)&&(i.current.isFocusWithin=!1,s(),n&&n(f),o&&o(!1))},[n,o,i,s]),u=Ka(a),d=ee(f=>{if(!f.currentTarget.contains(f.target))return;const p=Wt(f.target),c=oi(p);if(!i.current.isFocusWithin&&c===Ua(f.nativeEvent)){r&&r(f),o&&o(!0),i.current.isFocusWithin=!0,u(f);let g=f.currentTarget;l(p,"focus",h=>{if(i.current.isFocusWithin&&!za(g,h.target)){let v=new p.defaultView.FocusEvent("blur",{relatedTarget:h.target});If(v,g);let b=qa(v);a(b)}},{capture:!0})}},[r,o,u,l,a]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:d,onBlur:a}}}let ai=!1,Po=0;function Uf(){ai=!0,setTimeout(()=>{ai=!1},50)}function es(e){e.pointerType==="touch"&&Uf()}function jf(){if(!(typeof document>"u"))return typeof PointerEvent<"u"&&document.addEventListener("pointerup",es),Po++,()=>{Po--,!(Po>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",es)}}function qt(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:o}=e,[i,l]=O(!1),s=T({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;K(jf,[]);let{addGlobalListener:a,removeAllGlobalListeners:u}=Wa(),{hoverProps:d,triggerHoverEnd:f}=I(()=>{let p=(h,v)=>{if(s.pointerType=v,o||v==="touch"||s.isHovered||!h.currentTarget.contains(h.target))return;s.isHovered=!0;let b=h.currentTarget;s.target=b,a(Wt(h.target),"pointerover",_=>{s.isHovered&&s.target&&!za(s.target,_.target)&&c(_,_.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:b,pointerType:v}),n&&n(!0),l(!0)},c=(h,v)=>{let b=s.target;s.pointerType="",s.target=null,!(v==="touch"||!s.isHovered||!b)&&(s.isHovered=!1,u(),r&&r({type:"hoverend",target:b,pointerType:v}),n&&n(!1),l(!1))},g={};return typeof PointerEvent<"u"&&(g.onPointerEnter=h=>{ai&&h.pointerType==="mouse"||p(h,h.pointerType)},g.onPointerLeave=h=>{!o&&h.currentTarget.contains(h.target)&&c(h,h.pointerType)}),{hoverProps:g,triggerHoverEnd:c}},[t,n,r,o,s,a,u]);return K(()=>{o&&f({currentTarget:s.target},s.pointerType)},[o]),{hoverProps:d,isHovered:i}}function Nt(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,o=T({isFocused:!1,isFocusVisible:t||Za()}),[i,l]=O(!1),[s,a]=O(()=>o.current.isFocused&&o.current.isFocusVisible),u=ee(()=>a(o.current.isFocused&&o.current.isFocusVisible),[]),d=ee(c=>{o.current.isFocused=c,l(c),u()},[u]);Vf(c=>{o.current.isFocusVisible=c,u()},[],{isTextInput:n});let{focusProps:f}=Hf({isDisabled:r,onFocusChange:d}),{focusWithinProps:p}=zf({isDisabled:!r,onFocusWithinChange:d});return{isFocused:i,isFocusVisible:s,focusProps:r?p:f}}var Wf=Object.defineProperty,qf=(e,t,n)=>t in e?Wf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$o=(e,t,n)=>(qf(e,typeof t!="symbol"?t+"":t,n),n);let Kf=class{constructor(){$o(this,"current",this.detect()),$o(this,"handoffState","pending"),$o(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},rn=new Kf;function It(e){var t,n;return rn.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?(n=(t=e.current)==null?void 0:t.ownerDocument)!=null?n:document:null:document}function lr(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function st(){let e=[],t={addEventListener(n,r,o,i){return n.addEventListener(r,o,i),t.add(()=>n.removeEventListener(r,o,i))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return lr(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,o){let i=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:o}),this.add(()=>{Object.assign(n.style,{[r]:i})})},group(n){let r=st();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let o of e.splice(r,1))o()}},dispose(){for(let n of e.splice(0))n()}};return t}function Kt(){let[e]=O(st);return K(()=>()=>e.dispose(),[e]),e}let ae=(e,t)=>{rn.isServer?K(e,t):pt(e,t)};function Je(e){let t=T(e);return ae(()=>{t.current=e},[e]),t}let D=function(e){let t=Je(e);return x.useCallback((...n)=>t.current(...n),[t])};function Yf(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function Xf(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function sr({disabled:e=!1}={}){let t=T(null),[n,r]=O(!1),o=Kt(),i=D(()=>{t.current=null,r(!1),o.dispose()}),l=D(s=>{if(o.dispose(),t.current===null){t.current=s.currentTarget,r(!0);{let a=It(s.currentTarget);o.addEventListener(a,"pointerup",i,!1),o.addEventListener(a,"pointermove",u=>{if(t.current){let d=Yf(u);r(Xf(d,t.current.getBoundingClientRect()))}},!1),o.addEventListener(a,"pointercancel",i,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:l,onPointerUp:i,onClick:i}}}let eu=he(void 0);function Yt(){return ne(eu)}function Jf({value:e,children:t}){return x.createElement(eu.Provider,{value:e},t)}function ui(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function ye(e,t,...n){if(e in t){let o=t[e];return typeof o=="function"?o(...n):o}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ye),r}var ot=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(ot||{}),Mt=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Mt||{});function ge(){let e=Zf();return ee(t=>Qf({mergeRefs:e,...t}),[e])}function Qf({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:o,visible:i=!0,name:l,mergeRefs:s}){s=s??ep;let a=tu(t,e);if(i)return xr(a,n,r,l,s);let u=o??0;if(u&2){let{static:d=!1,...f}=a;if(d)return xr(f,n,r,l,s)}if(u&1){let{unmount:d=!0,...f}=a;return ye(d?0:1,{0(){return null},1(){return xr({...f,hidden:!0,style:{display:"none"}},n,r,l,s)}})}return xr(a,n,r,l,s)}function xr(e,t={},n,r,o){let{as:i=n,children:l,refName:s="ref",...a}=Ro(e,["unmount","static"]),u=e.ref!==void 0?{[s]:e.ref}:{},d=typeof l=="function"?l(t):l;"className"in a&&a.className&&typeof a.className=="function"&&(a.className=a.className(t)),a["aria-labelledby"]&&a["aria-labelledby"]===a.id&&(a["aria-labelledby"]=void 0);let f={};if(t){let p=!1,c=[];for(let[g,h]of Object.entries(t))typeof h=="boolean"&&(p=!0),h===!0&&c.push(g.replace(/([A-Z])/g,v=>`-${v.toLowerCase()}`));if(p){f["data-headlessui-state"]=c.join(" ");for(let g of c)f[`data-${g}`]=""}}if(i===de&&(Object.keys(Lt(a)).length>0||Object.keys(Lt(f)).length>0))if(!$n(d)||Array.isArray(d)&&d.length>1){if(Object.keys(Lt(a)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Lt(a)).concat(Object.keys(Lt(f))).map(p=>`  - ${p}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(p=>`  - ${p}`).join(`
`)].join(`
`))}else{let p=d.props,c=p==null?void 0:p.className,g=typeof c=="function"?(...b)=>ui(c(...b),a.className):ui(c,a.className),h=g?{className:g}:{},v=tu(d.props,Lt(Ro(a,["ref"])));for(let b in f)b in v&&delete f[b];return ji(d,Object.assign({},v,f,u,{ref:o(tp(d),u.ref)},h))}return Ge(i,Object.assign({},Ro(a,["ref"]),i!==de&&u,i!==de&&f),d)}function Zf(){let e=T([]),t=ee(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function ep(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function tu(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let o in r)o.startsWith("on")&&typeof r[o]=="function"?(n[o]!=null||(n[o]=[]),n[o].push(r[o])):t[o]=r[o];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[o=>{var i;return(i=o==null?void 0:o.preventDefault)==null?void 0:i.call(o)}]);for(let r in n)Object.assign(t,{[r](o,...i){let l=n[r];for(let s of l){if((o instanceof Event||(o==null?void 0:o.nativeEvent)instanceof Event)&&o.defaultPrevented)return;s(o,...i)}}});return t}function it(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let o in r)o.startsWith("on")&&typeof r[o]=="function"?(n[o]!=null||(n[o]=[]),n[o].push(r[o])):t[o]=r[o];for(let r in n)Object.assign(t,{[r](...o){let i=n[r];for(let l of i)l==null||l(...o)}});return t}function ue(e){var t;return Object.assign(zi(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Lt(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function Ro(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function tp(e){return x.version.split(".")[0]>="19"?e.props.ref:e.ref}let np="button";function rp(e,t){var n;let r=Yt(),{disabled:o=r||!1,autoFocus:i=!1,...l}=e,{isFocusVisible:s,focusProps:a}=Nt({autoFocus:i}),{isHovered:u,hoverProps:d}=qt({isDisabled:o}),{pressed:f,pressProps:p}=sr({disabled:o}),c=it({ref:t,type:(n=l.type)!=null?n:"button",disabled:o||void 0,autoFocus:i},a,d,p),g=I(()=>({disabled:o,hover:u,focus:s,active:f,autofocus:i}),[o,u,s,f,i]);return ge()({ourProps:c,theirProps:l,slot:g,defaultTag:np,name:"Button"})}let Oe=ue(rp);function nu(e,t,n){let[r,o]=O(n),i=e!==void 0,l=T(i),s=T(!1),a=T(!1);return i&&!l.current&&!s.current?(s.current=!0,l.current=i,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!i&&l.current&&!a.current&&(a.current=!0,l.current=i,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[i?e:r,D(u=>(i||o(u),t==null?void 0:t(u)))]}function ru(e){let[t]=O(e);return t}function ou(e={},t=null,n=[]){for(let[r,o]of Object.entries(e))lu(n,iu(t,r),o);return n}function iu(e,t){return e?e+"["+t+"]":t}function lu(e,t,n){if(Array.isArray(n))for(let[r,o]of n.entries())lu(e,iu(t,r.toString()),o);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):ou(n,t,e)}function op(e){var t,n;let r=(t=e==null?void 0:e.form)!=null?t:e.closest("form");if(r){for(let o of r.elements)if(o!==e&&(o.tagName==="INPUT"&&o.type==="submit"||o.tagName==="BUTTON"&&o.type==="submit"||o.nodeName==="INPUT"&&o.type==="image")){o.click();return}(n=r.requestSubmit)==null||n.call(r)}}let ip="span";var Ht=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Ht||{});function lp(e,t){var n;let{features:r=1,...o}=e,i={ref:t,"aria-hidden":(r&2)===2?!0:(n=o["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return ge()({ourProps:i,theirProps:o,slot:{},defaultTag:ip,name:"Hidden"})}let zt=ue(lp),su=he(null);function sp(e){let[t,n]=O(null);return x.createElement(su.Provider,{value:{target:t}},e.children,x.createElement(zt,{features:Ht.Hidden,ref:n}))}function ap({children:e}){let t=ne(su);if(!t)return x.createElement(x.Fragment,null,e);let{target:n}=t;return n?Ur(x.createElement(x.Fragment,null,e),n):null}function au({data:e,form:t,disabled:n,onReset:r,overrides:o}){let[i,l]=O(null),s=Kt();return K(()=>{if(r&&i)return s.addEventListener(i,"reset",r)},[i,t,r]),x.createElement(ap,null,x.createElement(up,{setForm:l,formId:t}),ou(e).map(([a,u])=>x.createElement(zt,{features:Ht.Hidden,...Lt({key:a,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:n,name:a,value:u,...o})})))}function up({setForm:e,formId:t}){return K(()=>{if(t){let n=document.getElementById(t);n&&e(n)}},[e,t]),t?null:x.createElement(zt,{features:Ht.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:n=>{if(!n)return;let r=n.closest("form");r&&e(r)}})}let uu=he(void 0);function ar(){return ne(uu)}function cp({id:e,children:t}){return x.createElement(uu.Provider,{value:e},t)}function Qi(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function $t(e){return Qi(e)&&"tagName"in e}function We(e){return $t(e)&&"accessKey"in e}function ut(e){return $t(e)&&"tabIndex"in e}function dp(e){return $t(e)&&"style"in e}function fp(e){return We(e)&&e.nodeName==="IFRAME"}function Dr(e){return We(e)&&e.nodeName==="INPUT"}function ts(e){return We(e)&&e.nodeName==="LABEL"}function pp(e){return We(e)&&e.nodeName==="FIELDSET"}function cu(e){return We(e)&&e.nodeName==="LEGEND"}function gp(e){return $t(e)?e.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function Zi(e){let t=e.parentElement,n=null;for(;t&&!pp(t);)cu(t)&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&mp(n)?!1:r}function mp(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(cu(t))return!1;t=t.previousElementSibling}return!0}let du=Symbol();function fu(e,t=!0){return Object.assign(e,{[du]:t})}function Ce(...e){let t=T(e);K(()=>{t.current=e},[e]);let n=D(r=>{for(let o of t.current)o!=null&&(typeof o=="function"?o(r):o.current=r)});return e.every(r=>r==null||(r==null?void 0:r[du]))?void 0:n}let Wr=he(null);Wr.displayName="DescriptionContext";function pu(){let e=ne(Wr);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,pu),t}return e}function qr(){var e,t;return(t=(e=ne(Wr))==null?void 0:e.value)!=null?t:void 0}function gu(){let[e,t]=O([]);return[e.length>0?e.join(" "):void 0,I(()=>function(n){let r=D(i=>(t(l=>[...l,i]),()=>t(l=>{let s=l.slice(),a=s.indexOf(i);return a!==-1&&s.splice(a,1),s}))),o=I(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return x.createElement(Wr.Provider,{value:o},n.children)},[t])]}let hp="p";function vp(e,t){let n=Ee(),r=Yt(),{id:o=`headlessui-description-${n}`,...i}=e,l=pu(),s=Ce(t);ae(()=>l.register(o),[o,l.register]);let a=r||!1,u=I(()=>({...l.slot,disabled:a}),[l.slot,a]),d={ref:s,...l.props,id:o};return ge()({ourProps:d,theirProps:i,slot:u,defaultTag:hp,name:l.name||"Description"})}let bp=ue(vp),el=Object.assign(bp,{});var Z=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Z||{});let Kr=he(null);Kr.displayName="LabelContext";function mu(){let e=ne(Kr);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,mu),t}return e}function un(e){var t,n,r;let o=(n=(t=ne(Kr))==null?void 0:t.value)!=null?n:void 0;return((r=e==null?void 0:e.length)!=null?r:0)>0?[o,...e].filter(Boolean).join(" "):o}function tl({inherit:e=!1}={}){let t=un(),[n,r]=O([]),o=e?[t,...n].filter(Boolean):n;return[o.length>0?o.join(" "):void 0,I(()=>function(i){let l=D(a=>(r(u=>[...u,a]),()=>r(u=>{let d=u.slice(),f=d.indexOf(a);return f!==-1&&d.splice(f,1),d}))),s=I(()=>({register:l,slot:i.slot,name:i.name,props:i.props,value:i.value}),[l,i.slot,i.name,i.props,i.value]);return x.createElement(Kr.Provider,{value:s},i.children)},[r])]}let _p="label";function wp(e,t){var n;let r=Ee(),o=mu(),i=ar(),l=Yt(),{id:s=`headlessui-label-${r}`,htmlFor:a=i??((n=o.props)==null?void 0:n.htmlFor),passive:u=!1,...d}=e,f=Ce(t);ae(()=>o.register(s),[s,o.register]);let p=D(v=>{let b=v.currentTarget;if(!(v.target!==v.currentTarget&&gp(v.target))&&(ts(b)&&v.preventDefault(),o.props&&"onClick"in o.props&&typeof o.props.onClick=="function"&&o.props.onClick(v),ts(b))){let _=document.getElementById(b.htmlFor);if(_){let w=_.getAttribute("disabled");if(w==="true"||w==="")return;let S=_.getAttribute("aria-disabled");if(S==="true"||S==="")return;(Dr(_)&&(_.type==="file"||_.type==="radio"||_.type==="checkbox")||_.role==="radio"||_.role==="checkbox"||_.role==="switch")&&_.click(),_.focus({preventScroll:!0})}}}),c=l||!1,g=I(()=>({...o.slot,disabled:c}),[o.slot,c]),h={ref:f,...o.props,id:s,htmlFor:a,onClick:p};return u&&("onClick"in h&&(delete h.htmlFor,delete h.onClick),"onClick"in d&&delete d.onClick),ge()({ourProps:h,theirProps:d,slot:g,defaultTag:a?_p:"div",name:o.name||"Label"})}let yp=ue(wp),je=Object.assign(yp,{}),Sp=he(()=>{});function hu({value:e,children:t}){return x.createElement(Sp.Provider,{value:e},t)}function fn(e,t,n){let r=n.initialDeps??[],o;function i(){var l,s,a,u;let d;n.key&&((l=n.debug)!=null&&l.call(n))&&(d=Date.now());const f=e();if(!(f.length!==r.length||f.some((g,h)=>r[h]!==g)))return o;r=f;let c;if(n.key&&((s=n.debug)!=null&&s.call(n))&&(c=Date.now()),o=t(...f),n.key&&((a=n.debug)!=null&&a.call(n))){const g=Math.round((Date.now()-d)*100)/100,h=Math.round((Date.now()-c)*100)/100,v=h/16,b=(_,w)=>{for(_=String(_);_.length<w;)_=" "+_;return _};console.info(`%câ± ${b(h,5)} /${b(g,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*v,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(u=n==null?void 0:n.onChange)==null||u.call(n,o),o}return i.updateDeps=l=>{r=l},i}function ns(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const Fp=(e,t)=>Math.abs(e-t)<=1,Cp=(e,t,n)=>{let r;return function(...o){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,o),n)}},rs=e=>{const{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},xp=e=>e,Ep=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let o=t;o<=n;o++)r.push(o);return r},Pp=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const o=l=>{const{width:s,height:a}=l;t({width:Math.round(s),height:Math.round(a)})};if(o(rs(n)),!r.ResizeObserver)return()=>{};const i=new r.ResizeObserver(l=>{const s=()=>{const a=l[0];if(a!=null&&a.borderBoxSize){const u=a.borderBoxSize[0];if(u){o({width:u.inlineSize,height:u.blockSize});return}}o(rs(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(s):s()});return i.observe(n,{box:"border-box"}),()=>{i.unobserve(n)}},os={passive:!0},is=typeof window>"u"?!0:"onscrollend"in window,$p=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let o=0;const i=e.options.useScrollendEvent&&is?()=>{}:Cp(r,()=>{t(o,!1)},e.options.isScrollingResetDelay),l=d=>()=>{const{horizontal:f,isRtl:p}=e.options;o=f?n.scrollLeft*(p&&-1||1):n.scrollTop,i(),t(o,d)},s=l(!0),a=l(!1);a(),n.addEventListener("scroll",s,os);const u=e.options.useScrollendEvent&&is;return u&&n.addEventListener("scrollend",a,os),()=>{n.removeEventListener("scroll",s),u&&n.removeEventListener("scrollend",a)}},Rp=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},Ap=(e,{adjustments:t=0,behavior:n},r)=>{var o,i;const l=e+t;(i=(o=r.scrollElement)==null?void 0:o.scrollTo)==null||i.call(o,{[r.options.horizontal?"left":"top"]:l,behavior:n})};class Op{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(o=>{o.forEach(i=>{const l=()=>{this._measureElement(i.target,i)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()})}));return{disconnect:()=>{var o;(o=r())==null||o.disconnect(),n=null},observe:o=>{var i;return(i=r())==null?void 0:i.observe(o,{box:"border-box"})},unobserve:o=>{var i;return(i=r())==null?void 0:i.unobserve(o)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,o])=>{typeof o>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:xp,rangeExtractor:Ep,onChange:()=>{},measureElement:Rp,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,o;(o=(r=this.options).onChange)==null||o.call(r,this,n)},this.maybeNotify=fn(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(o=>{this.observer.observe(o)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,o=>{this.scrollRect=o,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(o,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.getScrollOffset()<o?"forward":"backward":null,this.scrollOffset=o,this.isScrolling=i,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const o=new Map,i=new Map;for(let l=r-1;l>=0;l--){const s=n[l];if(o.has(s.lane))continue;const a=i.get(s.lane);if(a==null||s.end>a.end?i.set(s.lane,s):s.end<a.end&&o.set(s.lane,!0),o.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((l,s)=>l.end===s.end?l.index-s.index:l.end-s.end)[0]:void 0},this.getMeasurementOptions=fn(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,o,i,l)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:o,getItemKey:i,enabled:l}),{key:!1}),this.getMeasurements=fn(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:o,getItemKey:i,enabled:l},s)=>{if(!l)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(d=>{this.itemSizeCache.set(d.key,d.size)}));const a=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,a);for(let d=a;d<n;d++){const f=i(d),p=this.options.lanes===1?u[d-1]:this.getFurthestMeasurement(u,d),c=p?p.end+this.options.gap:r+o,g=s.get(f),h=typeof g=="number"?g:this.options.estimateSize(d),v=c+h,b=p?p.lane:d%this.options.lanes;u[d]={index:d,start:c,size:h,end:v,key:f,lane:b}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=fn(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,o,i)=>this.range=n.length>0&&r>0?Tp({measurements:n,outerSize:r,scrollOffset:o,lanes:i}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=fn(()=>{let n=null,r=null;const o=this.calculateRange();return o&&(n=o.startIndex,r=o.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,o,i,l)=>i===null||l===null?[]:n({startIndex:i,endIndex:l,overscan:r,count:o}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,o=n.getAttribute(r);return o?parseInt(o,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const o=this.indexFromElement(n),i=this.measurementsCache[o];if(!i)return;const l=i.key,s=this.elementsCache.get(l);s!==n&&(s&&this.observer.unobserve(s),this.observer.observe(n),this.elementsCache.set(l,n)),n.isConnected&&this.resizeItem(o,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const o=this.measurementsCache[n];if(!o)return;const i=this.itemSizeCache.get(o.key)??o.size,l=r-i;l!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(o,l,this):this.scrollDirection==="backward"&&o.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=l,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(o.index),this.itemSizeCache=new Map(this.itemSizeCache.set(o.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,o)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(o))});return}this._measureElement(n,void 0)},this.getVirtualItems=fn(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const o=[];for(let i=0,l=n.length;i<l;i++){const s=n[i],a=r[s];o.push(a)}return o},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return ns(r[vu(0,r.length-1,o=>ns(r[o]).start,n)])},this.getOffsetForAlignment=(n,r,o=0)=>{const i=this.getSize(),l=this.getScrollOffset();r==="auto"&&(r=n>=l+i?"end":"start"),r==="center"?n+=(o-i)/2:r==="end"&&(n-=i);const s=this.getTotalSize()-i;return Math.max(Math.min(s,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const o=this.measurementsCache[n];if(!o)return;const i=this.getSize(),l=this.getScrollOffset();if(r==="auto")if(o.end>=l+i-this.options.scrollPaddingEnd)r="end";else if(o.start<=l+this.options.scrollPaddingStart)r="start";else return[l,r];const s=r==="end"?o.end+this.options.scrollPaddingEnd:o.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(s,r,o.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:r="start",behavior:o}={})=>{this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:o})},this.scrollToIndex=(n,{align:r="auto",behavior:o}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const i=this.getOffsetForIndex(n,r);if(!i)return;const[l,s]=i;this._scrollToOffset(l,{adjustments:void 0,behavior:o}),o!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(n))){const u=this.getOffsetForIndex(n,s);if(!u)return;const[d]=u,f=this.getScrollOffset();Fp(d,f)||this.scrollToIndex(n,{align:s,behavior:o})}else this.scrollToIndex(n,{align:s,behavior:o})}))},this.scrollBy=(n,{behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let o;if(r.length===0)o=this.options.paddingStart;else if(this.options.lanes===1)o=((n=r[r.length-1])==null?void 0:n.end)??0;else{const i=Array(this.options.lanes).fill(null);let l=r.length-1;for(;l>=0&&i.some(s=>s===null);){const s=r[l];i[s.lane]===null&&(i[s.lane]=s.end),l--}o=Math.max(...i.filter(s=>s!==null))}return Math.max(o-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:o})=>{this.options.scrollToFn(n,{behavior:o,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t)}}const vu=(e,t,n,r)=>{for(;e<=t;){const o=(e+t)/2|0,i=n(o);if(i<r)e=o+1;else if(i>r)t=o-1;else return o}return e>0?e-1:0};function Tp({measurements:e,outerSize:t,scrollOffset:n,lanes:r}){const o=e.length-1,i=a=>e[a].start;if(e.length<=r)return{startIndex:0,endIndex:o};let l=vu(0,o,i,n),s=l;if(r===1)for(;s<o&&e[s].end<n+t;)s++;else if(r>1){const a=Array(r).fill(0);for(;s<o&&a.some(d=>d<n+t);){const d=e[s];a[d.lane]=d.end,s++}const u=Array(r).fill(n+t);for(;l>=0&&u.some(d=>d>=n);){const d=e[l];u[d.lane]=d.start,l--}l=Math.max(0,l-l%r),s=Math.min(o,s+(r-1-s%r))}return{startIndex:l,endIndex:s}}const ls=typeof document<"u"?pt:K;function Np(e){const t=Tt(()=>({}),{})[1],n={...e,onChange:(o,i)=>{var l;i?De(t):t(),(l=e.onChange)==null||l.call(e,o,i)}},[r]=O(()=>new Op(n));return r.setOptions(n),ls(()=>r._didMount(),[]),ls(()=>r._willUpdate()),r}function Ip(e){return Np({observeElementRect:Pp,observeElementOffset:$p,scrollToFn:Ap,...e})}function kp(e,t){return e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"&&"id"in e&&"id"in t?e.id===t.id:e===t}function bu(e=kp){return ee((t,n)=>{if(typeof e=="string"){let r=e;return(t==null?void 0:t[r])===(n==null?void 0:n[r])}return e(t,n)},[e])}function Lp(e){if(e===null)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function ci(e,t=!1){let[n,r]=Tt(()=>({}),{}),o=I(()=>Lp(e),[e,n]);return ae(()=>{if(!e)return;let i=new ResizeObserver(r);return i.observe(e),()=>{i.disconnect()}},[e]),t?{width:`${o.width}px`,height:`${o.height}px`}:o}let _u=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};var Dp=Object.defineProperty,Mp=(e,t,n)=>t in e?Dp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Gp=(e,t,n)=>(Mp(e,t+"",n),n),wu=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},et=(e,t,n)=>(wu(e,t,"read from private field"),n?n.call(e):t.get(e)),Ao=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},ss=(e,t,n,r)=>(wu(e,t,"write to private field"),t.set(e,n),n),mt,Vn,Hn;let nl=class{constructor(t){Ao(this,mt,{}),Ao(this,Vn,new _u(()=>new Set)),Ao(this,Hn,new Set),Gp(this,"disposables",st()),ss(this,mt,t)}dispose(){this.disposables.dispose()}get state(){return et(this,mt)}subscribe(t,n){let r={selector:t,callback:n,current:t(et(this,mt))};return et(this,Hn).add(r),this.disposables.add(()=>{et(this,Hn).delete(r)})}on(t,n){return et(this,Vn).get(t).add(n),this.disposables.add(()=>{et(this,Vn).get(t).delete(n)})}send(t){let n=this.reduce(et(this,mt),t);if(n!==et(this,mt)){ss(this,mt,n);for(let r of et(this,Hn)){let o=r.selector(et(this,mt));yu(r.current,o)||(r.current=o,r.callback(o))}for(let r of et(this,Vn).get(t.type))r(et(this,mt),t)}}};mt=new WeakMap,Vn=new WeakMap,Hn=new WeakMap;function yu(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:Oo(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:Oo(e.entries(),t.entries()):as(e)&&as(t)?Oo(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function Oo(e,t){do{let n=e.next(),r=t.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function as(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}function To(e){let[t,n]=e(),r=st();return(...o)=>{t(...o),r.dispose(),r.microTask(n)}}var Bp=Object.defineProperty,Vp=(e,t,n)=>t in e?Bp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,us=(e,t,n)=>(Vp(e,typeof t!="symbol"?t+"":t,n),n),rl=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(rl||{});let Hp={0(e,t){let n=t.id,r=e.stack,o=e.stack.indexOf(n);if(o!==-1){let i=e.stack.slice();return i.splice(o,1),i.push(n),r=i,{...e,stack:r}}return{...e,stack:[...e.stack,n]}},1(e,t){let n=t.id,r=e.stack.indexOf(n);if(r===-1)return e;let o=e.stack.slice();return o.splice(r,1),{...e,stack:o}}},zp=class Su extends nl{constructor(){super(...arguments),us(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),us(this,"selectors",{isTop:(t,n)=>t.stack[t.stack.length-1]===n,inStack:(t,n)=>t.stack.includes(n)})}static new(){return new Su({stack:[]})}reduce(t,n){return ye(n.type,Hp,t,n)}};const An=new _u(()=>zp.new());function Up(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var No={exports:{}},Io={};const jp=Up(Ir);/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cs;function Wp(){if(cs)return Io;cs=1;var e=jp;function t(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,o=e.useRef,i=e.useEffect,l=e.useMemo,s=e.useDebugValue;return Io.useSyncExternalStoreWithSelector=function(a,u,d,f,p){var c=o(null);if(c.current===null){var g={hasValue:!1,value:null};c.current=g}else g=c.current;c=l(function(){function v(y){if(!b){if(b=!0,_=y,y=f(y),p!==void 0&&g.hasValue){var C=g.value;if(p(C,y))return w=C}return w=y}if(C=w,n(_,y))return C;var R=f(y);return p!==void 0&&p(C,R)?(_=y,C):(_=y,w=R)}var b=!1,_,w,S=d===void 0?null:d;return[function(){return v(u())},S===null?void 0:function(){return v(S())}]},[u,d,f,p]);var h=r(a,c[0],c[1]);return i(function(){g.hasValue=!0,g.value=h},[h]),s(h),h},Io}var ds;function qp(){return ds||(ds=1,No.exports=Wp()),No.exports}var Kp=qp();function _e(e,t,n=yu){return Kp.useSyncExternalStoreWithSelector(D(r=>e.subscribe(Yp,r)),D(()=>e.state),D(()=>e.state),D(t),n)}function Yp(e){return e}function ur(e,t){let n=Ee(),r=An.get(t),[o,i]=_e(r,ee(l=>[r.selectors.isTop(l,n),r.selectors.inStack(l,n)],[r,n]));return ae(()=>{if(e)return r.actions.push(n),()=>r.actions.pop(n)},[r,e,n]),e?i?o:!0:!1}let di=new Map,Xn=new Map;function fs(e){var t;let n=(t=Xn.get(e))!=null?t:0;return Xn.set(e,n+1),n!==0?()=>ps(e):(di.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>ps(e))}function ps(e){var t;let n=(t=Xn.get(e))!=null?t:1;if(n===1?Xn.delete(e):Xn.set(e,n-1),n!==1)return;let r=di.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,di.delete(e))}function ol(e,{allowed:t,disallowed:n}={}){let r=ur(e,"inert-others");ae(()=>{var o,i;if(!r)return;let l=st();for(let a of(o=n==null?void 0:n())!=null?o:[])a&&l.add(fs(a));let s=(i=t==null?void 0:t())!=null?i:[];for(let a of s){if(!a)continue;let u=It(a);if(!u)continue;let d=a.parentElement;for(;d&&d!==u.body;){for(let f of d.children)s.some(p=>f.contains(p))||l.add(fs(f));d=d.parentElement}}return l.dispose},[r,t,n])}function il(e,t,n){let r=Je(o=>{let i=o.getBoundingClientRect();i.x===0&&i.y===0&&i.width===0&&i.height===0&&n()});K(()=>{if(!e)return;let o=t===null?null:We(t)?t:t.current;if(!o)return;let i=st();if(typeof ResizeObserver<"u"){let l=new ResizeObserver(()=>r.current(o));l.observe(o),i.add(()=>l.disconnect())}if(typeof IntersectionObserver<"u"){let l=new IntersectionObserver(()=>r.current(o));l.observe(o),i.add(()=>l.disconnect())}return()=>i.dispose()},[t,r,e])}let Mr=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),Xp=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Te=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(Te||{}),tn=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(tn||{}),Jp=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Jp||{});function Fu(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Mr)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function Qp(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Xp)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var ll=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(ll||{});function Cu(e,t=0){var n;return e===((n=It(e))==null?void 0:n.body)?!1:ye(t,{0(){return e.matches(Mr)},1(){let r=e;for(;r!==null;){if(r.matches(Mr))return!0;r=r.parentElement}return!1}})}var Zp=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Zp||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Rt(e){e==null||e.focus({preventScroll:!0})}let eg=["textarea","input"].join(",");function tg(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,eg))!=null?n:!1}function Gt(e,t=n=>n){return e.slice().sort((n,r)=>{let o=t(n),i=t(r);if(o===null||i===null)return 0;let l=o.compareDocumentPosition(i);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function ng(e,t){return nt(Fu(),t,{relativeTo:e})}function nt(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:o=[]}={}){let i=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,l=Array.isArray(e)?n?Gt(e):e:t&64?Qp(e):Fu(e);o.length>0&&l.length>1&&(l=l.filter(c=>!o.some(g=>g!=null&&"current"in g?(g==null?void 0:g.current)===c:g===c))),r=r??i.activeElement;let s=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),a=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,l.indexOf(r))-1;if(t&4)return Math.max(0,l.indexOf(r))+1;if(t&8)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},d=0,f=l.length,p;do{if(d>=f||d+f<=0)return 0;let c=a+d;if(t&16)c=(c+f)%f;else{if(c<0)return 3;if(c>=f)return 1}p=l[c],p==null||p.focus(u),d+=s}while(p!==i.activeElement);return t&6&&tg(p)&&p.select(),2}function xu(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function rg(){return/Android/gi.test(window.navigator.userAgent)}function fi(){return xu()||rg()}function bn(e,t,n,r){let o=Je(n);K(()=>{if(!e)return;function i(l){o.current(l)}return document.addEventListener(t,i,r),()=>document.removeEventListener(t,i,r)},[e,t,r])}function Eu(e,t,n,r){let o=Je(n);K(()=>{if(!e)return;function i(l){o.current(l)}return window.addEventListener(t,i,r),()=>window.removeEventListener(t,i,r)},[e,t,r])}const gs=30;function sl(e,t,n){let r=Je(n),o=ee(function(s,a){if(s.defaultPrevented)return;let u=a(s);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let d=function f(p){return typeof p=="function"?f(p()):Array.isArray(p)||p instanceof Set?p:[p]}(t);for(let f of d)if(f!==null&&(f.contains(u)||s.composed&&s.composedPath().includes(f)))return;return!Cu(u,ll.Loose)&&u.tabIndex!==-1&&s.preventDefault(),r.current(s,u)},[r,t]),i=T(null);bn(e,"pointerdown",s=>{var a,u;fi()||(i.current=((u=(a=s.composedPath)==null?void 0:a.call(s))==null?void 0:u[0])||s.target)},!0),bn(e,"pointerup",s=>{if(fi()||!i.current)return;let a=i.current;return i.current=null,o(s,()=>a)},!0);let l=T({x:0,y:0});bn(e,"touchstart",s=>{l.current.x=s.touches[0].clientX,l.current.y=s.touches[0].clientY},!0),bn(e,"touchend",s=>{let a={x:s.changedTouches[0].clientX,y:s.changedTouches[0].clientY};if(!(Math.abs(a.x-l.current.x)>=gs||Math.abs(a.y-l.current.y)>=gs))return o(s,()=>ut(s.target)?s.target:null)},!0),Eu(e,"blur",s=>o(s,()=>fp(window.document.activeElement)?window.document.activeElement:null),!0)}function Ot(...e){return I(()=>It(...e),[...e])}var og=(e=>(e[e.Ignore=0]="Ignore",e[e.Select=1]="Select",e[e.Close=2]="Close",e))(og||{});const Et={Ignore:{kind:0},Select:e=>({kind:1,target:e}),Close:{kind:2}},ig=200;function Pu(e,{trigger:t,action:n,close:r,select:o}){let i=T(null);bn(e&&t!==null,"pointerdown",l=>{Qi(l==null?void 0:l.target)&&t!=null&&t.contains(l.target)&&(i.current=new Date)}),bn(e&&t!==null,"pointerup",l=>{if(i.current===null||!ut(l.target))return;let s=n(l),a=new Date().getTime()-i.current.getTime();switch(i.current=null,s.kind){case 0:return;case 1:{a>ig&&(o(s.target),r());break}case 2:{r();break}}},{capture:!0})}function al(e,t,n,r){let o=Je(n);K(()=>{e=e??window;function i(l){o.current(l)}return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i,r)},[e,t,r])}function $u(e){let t=T({value:"",selectionStart:null,selectionEnd:null});return al(e,"blur",n=>{let r=n.target;Dr(r)&&(t.current={value:r.value,selectionStart:r.selectionStart,selectionEnd:r.selectionEnd})}),D(()=>{if(document.activeElement!==e&&Dr(e)&&e.isConnected){if(e.focus({preventScroll:!0}),e.value!==t.current.value)e.setSelectionRange(e.value.length,e.value.length);else{let{selectionStart:n,selectionEnd:r}=t.current;n!==null&&r!==null&&e.setSelectionRange(n,r)}t.current={value:"",selectionStart:null,selectionEnd:null}}})}function Yr(e,t){return I(()=>{var n;if(e.type)return e.type;let r=(n=e.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(t==null?void 0:t.tagName)==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function lg(e){return zr(e.subscribe,e.getSnapshot,e.getSnapshot)}function sg(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(o){return r.add(o),()=>r.delete(o)},dispatch(o,...i){let l=t[o].call(n,...i);l&&(n=l,r.forEach(s=>s()))}}}function ag(){let e;return{before({doc:t}){var n;let r=t.documentElement,o=(n=t.defaultView)!=null?n:window;e=Math.max(0,o.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,o=Math.max(0,r.clientWidth-r.offsetWidth),i=Math.max(0,e-o);n.style(r,"paddingRight",`${i}px`)}}}function ug(){return xu()?{before({doc:e,d:t,meta:n}){function r(o){return n.containers.flatMap(i=>i()).some(i=>i.contains(o))}t.microTask(()=>{var o;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let s=st();s.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>s.dispose()))}let i=(o=window.scrollY)!=null?o:window.pageYOffset,l=null;t.addEventListener(e,"click",s=>{if(ut(s.target))try{let a=s.target.closest("a");if(!a)return;let{hash:u}=new URL(a.href),d=e.querySelector(u);ut(d)&&!r(d)&&(l=d)}catch{}},!0),t.addEventListener(e,"touchstart",s=>{if(ut(s.target)&&dp(s.target))if(r(s.target)){let a=s.target;for(;a.parentElement&&r(a.parentElement);)a=a.parentElement;t.style(a,"overscrollBehavior","contain")}else t.style(s.target,"touchAction","none")}),t.addEventListener(e,"touchmove",s=>{if(ut(s.target)){if(Dr(s.target))return;if(r(s.target)){let a=s.target;for(;a.parentElement&&a.dataset.headlessuiPortal!==""&&!(a.scrollHeight>a.clientHeight||a.scrollWidth>a.clientWidth);)a=a.parentElement;a.dataset.headlessuiPortal===""&&s.preventDefault()}else s.preventDefault()}},{passive:!1}),t.add(()=>{var s;let a=(s=window.scrollY)!=null?s:window.pageYOffset;i!==a&&window.scrollTo(0,i),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function cg(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function dg(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let nn=sg(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:st(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:dg(n)},o=[ug(),ag(),cg()];o.forEach(({before:i})=>i==null?void 0:i(r)),o.forEach(({after:i})=>i==null?void 0:i(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});nn.subscribe(()=>{let e=nn.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",o=n.count!==0;(o&&!r||!o&&r)&&nn.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&nn.dispatch("TEARDOWN",n)}});function fg(e,t,n=()=>({containers:[]})){let r=lg(nn),o=t?r.get(t):void 0,i=o?o.count>0:!1;return ae(()=>{if(!(!t||!e))return nn.dispatch("PUSH",t,n),()=>nn.dispatch("POP",t,n)},[e,t]),i}function ul(e,t,n=()=>[document.body]){let r=ur(e,"scroll-lock");fg(r,t,o=>{var i;return{containers:[...(i=o.containers)!=null?i:[],n]}})}function ms(e){return[e.screenX,e.screenY]}function Ru(){let e=T([-1,-1]);return{wasMoved(t){let n=ms(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=ms(t)}}}function pg(e=0){let[t,n]=O(e),r=ee(a=>n(a),[t]),o=ee(a=>n(u=>u|a),[t]),i=ee(a=>(t&a)===a,[t]),l=ee(a=>n(u=>u&~a),[n]),s=ee(a=>n(u=>u^a),[n]);return{flags:t,setFlag:r,addFlag:o,hasFlag:i,removeFlag:l,toggleFlag:s}}var gg={},hs,vs;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((hs=process==null?void 0:gg)==null?void 0:hs.NODE_ENV)==="test"&&typeof((vs=Element==null?void 0:Element.prototype)==null?void 0:vs.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var mg=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(mg||{});function Xr(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function Jr(e,t,n,r){let[o,i]=O(n),{hasFlag:l,addFlag:s,removeFlag:a}=pg(e&&o?3:0),u=T(!1),d=T(!1),f=Kt();return ae(()=>{var p;if(e){if(n&&i(!0),!t){n&&s(3);return}return(p=r==null?void 0:r.start)==null||p.call(r,n),hg(t,{inFlight:u,prepare(){d.current?d.current=!1:d.current=u.current,u.current=!0,!d.current&&(n?(s(3),a(4)):(s(4),a(2)))},run(){d.current?n?(a(3),s(4)):(a(4),s(3)):n?a(1):s(1)},done(){var c;d.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(u.current=!1,a(7),n||i(!1),(c=r==null?void 0:r.end)==null||c.call(r,n))}})}},[e,n,t,f]),e?[o,{closed:l(1),enter:l(2),leave:l(4),transition:l(2)||l(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function hg(e,{prepare:t,run:n,done:r,inFlight:o}){let i=st();return bg(e,{prepare:t,inFlight:o}),i.nextFrame(()=>{n(),i.requestAnimationFrame(()=>{i.add(vg(e,r))})}),i.dispose}function vg(e,t){var n,r;let o=st();if(!e)return o.dispose;let i=!1;o.add(()=>{i=!0});let l=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(s=>s instanceof CSSTransition))!=null?r:[];return l.length===0?(t(),o.dispose):(Promise.allSettled(l.map(s=>s.finished)).then(()=>{i||t()}),o.dispose)}function bg(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function _g(e,{container:t,accept:n,walk:r}){let o=T(n),i=T(r);K(()=>{o.current=n,i.current=r},[n,r]),ae(()=>{if(!t||!e)return;let l=It(t);if(!l)return;let s=o.current,a=i.current,u=Object.assign(f=>s(f),{acceptNode:s}),d=l.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,u,!1);for(;d.nextNode();)a(d.currentNode)},[t,e,o,i])}function Zn(e,t){let n=T([]),r=D(e);K(()=>{let o=[...n.current];for(let[i,l]of t.entries())if(n.current[i]!==l){let s=r(t,o);return n.current=t,s}},[r,...t])}function Qr(){return typeof window<"u"}function On(e){return Au(e)?(e.nodeName||"").toLowerCase():"#document"}function Qe(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ft(e){var t;return(t=(Au(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Au(e){return Qr()?e instanceof Node||e instanceof Qe(e).Node:!1}function ze(e){return Qr()?e instanceof Element||e instanceof Qe(e).Element:!1}function St(e){return Qr()?e instanceof HTMLElement||e instanceof Qe(e).HTMLElement:!1}function bs(e){return!Qr()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Qe(e).ShadowRoot}function cr(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=ft(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function wg(e){return["table","td","th"].includes(On(e))}function Zr(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function cl(e){const t=dl(),n=ze(e)?ft(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function yg(e){let t=Ut(e);for(;St(t)&&!xn(t);){if(cl(t))return t;if(Zr(t))return null;t=Ut(t)}return null}function dl(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function xn(e){return["html","body","#document"].includes(On(e))}function ft(e){return Qe(e).getComputedStyle(e)}function eo(e){return ze(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ut(e){if(On(e)==="html")return e;const t=e.assignedSlot||e.parentNode||bs(e)&&e.host||Ft(e);return bs(t)?t.host:t}function Ou(e){const t=Ut(e);return xn(t)?e.ownerDocument?e.ownerDocument.body:e.body:St(t)&&cr(t)?t:Ou(t)}function er(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=Ou(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),l=Qe(o);if(i){const s=pi(l);return t.concat(l,l.visualViewport||[],cr(o)?o:[],s&&n?er(s):[])}return t.concat(o,er(o,[],n))}function pi(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Sg(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}const ln=Math.min,Ve=Math.max,tr=Math.round,Er=Math.floor,yt=e=>({x:e,y:e}),Fg={left:"right",right:"left",bottom:"top",top:"bottom"},Cg={start:"end",end:"start"};function _s(e,t,n){return Ve(e,ln(t,n))}function Tn(e,t){return typeof e=="function"?e(t):e}function jt(e){return e.split("-")[0]}function dr(e){return e.split("-")[1]}function Tu(e){return e==="x"?"y":"x"}function Nu(e){return e==="y"?"height":"width"}function Pt(e){return["top","bottom"].includes(jt(e))?"y":"x"}function Iu(e){return Tu(Pt(e))}function xg(e,t,n){n===void 0&&(n=!1);const r=dr(e),o=Iu(e),i=Nu(o);let l=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(l=Gr(l)),[l,Gr(l)]}function Eg(e){const t=Gr(e);return[gi(e),t,gi(t)]}function gi(e){return e.replace(/start|end/g,t=>Cg[t])}function Pg(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:l;default:return[]}}function $g(e,t,n,r){const o=dr(e);let i=Pg(jt(e),n==="start",r);return o&&(i=i.map(l=>l+"-"+o),t&&(i=i.concat(i.map(gi)))),i}function Gr(e){return e.replace(/left|right|bottom|top/g,t=>Fg[t])}function Rg(e){return{top:0,right:0,bottom:0,left:0,...e}}function Ag(e){return typeof e!="number"?Rg(e):{top:e,right:e,bottom:e,left:e}}function Br(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function ws(e,t,n){let{reference:r,floating:o}=e;const i=Pt(t),l=Iu(t),s=Nu(l),a=jt(t),u=i==="y",d=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,p=r[s]/2-o[s]/2;let c;switch(a){case"top":c={x:d,y:r.y-o.height};break;case"bottom":c={x:d,y:r.y+r.height};break;case"right":c={x:r.x+r.width,y:f};break;case"left":c={x:r.x-o.width,y:f};break;default:c={x:r.x,y:r.y}}switch(dr(t)){case"start":c[l]-=p*(n&&u?-1:1);break;case"end":c[l]+=p*(n&&u?-1:1);break}return c}const Og=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:l}=n,s=i.filter(Boolean),a=await(l.isRTL==null?void 0:l.isRTL(t));let u=await l.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:f}=ws(u,r,a),p=r,c={},g=0;for(let h=0;h<s.length;h++){const{name:v,fn:b}=s[h],{x:_,y:w,data:S,reset:y}=await b({x:d,y:f,initialPlacement:r,placement:p,strategy:o,middlewareData:c,rects:u,platform:l,elements:{reference:e,floating:t}});d=_??d,f=w??f,c={...c,[v]:{...c[v],...S}},y&&g<=50&&(g++,typeof y=="object"&&(y.placement&&(p=y.placement),y.rects&&(u=y.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:o}):y.rects),{x:d,y:f}=ws(u,p,a)),h=-1)}return{x:d,y:f,placement:p,strategy:o,middlewareData:c}};async function to(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:l,elements:s,strategy:a}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:c=0}=Tn(t,e),g=Ag(c),v=s[p?f==="floating"?"reference":"floating":f],b=Br(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(v)))==null||n?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(s.floating)),boundary:u,rootBoundary:d,strategy:a})),_=f==="floating"?{x:r,y:o,width:l.floating.width,height:l.floating.height}:l.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(s.floating)),S=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},y=Br(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:_,offsetParent:w,strategy:a}):_);return{top:(b.top-y.top+g.top)/S.y,bottom:(y.bottom-b.bottom+g.bottom)/S.y,left:(b.left-y.left+g.left)/S.x,right:(y.right-b.right+g.right)/S.x}}const Tg=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:l,initialPlacement:s,platform:a,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:c="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:h=!0,...v}=Tn(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=jt(o),_=Pt(s),w=jt(s)===s,S=await(a.isRTL==null?void 0:a.isRTL(u.floating)),y=p||(w||!h?[Gr(s)]:Eg(s)),C=g!=="none";!p&&C&&y.push(...$g(s,h,g,S));const R=[s,...y],N=await to(t,v),k=[];let E=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&k.push(N[b]),f){const H=xg(o,l,S);k.push(N[H[0]],N[H[1]])}if(E=[...E,{placement:o,overflows:k}],!k.every(H=>H<=0)){var A,M;const H=(((A=i.flip)==null?void 0:A.index)||0)+1,L=R[H];if(L&&(!(f==="alignment"?_!==Pt(L):!1)||E.every(W=>W.overflows[0]>0&&Pt(W.placement)===_)))return{data:{index:H,overflows:E},reset:{placement:L}};let Y=(M=E.filter(fe=>fe.overflows[0]<=0).sort((fe,W)=>fe.overflows[1]-W.overflows[1])[0])==null?void 0:M.placement;if(!Y)switch(c){case"bestFit":{var U;const fe=(U=E.filter(W=>{if(C){const te=Pt(W.placement);return te===_||te==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(te=>te>0).reduce((te,j)=>te+j,0)]).sort((W,te)=>W[1]-te[1])[0])==null?void 0:U[0];fe&&(Y=fe);break}case"initialPlacement":Y=s;break}if(o!==Y)return{reset:{placement:Y}}}return{}}}};async function Ng(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),l=jt(n),s=dr(n),a=Pt(n)==="y",u=["left","top"].includes(l)?-1:1,d=i&&a?-1:1,f=Tn(t,e);let{mainAxis:p,crossAxis:c,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof g=="number"&&(c=s==="end"?g*-1:g),a?{x:c*d,y:p*u}:{x:p*u,y:c*d}}const Ig=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:l,middlewareData:s}=t,a=await Ng(t,e);return l===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:o+a.x,y:i+a.y,data:{...a,placement:l}}}}},kg=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:l=!1,limiter:s={fn:v=>{let{x:b,y:_}=v;return{x:b,y:_}}},...a}=Tn(e,t),u={x:n,y:r},d=await to(t,a),f=Pt(jt(o)),p=Tu(f);let c=u[p],g=u[f];if(i){const v=p==="y"?"top":"left",b=p==="y"?"bottom":"right",_=c+d[v],w=c-d[b];c=_s(_,c,w)}if(l){const v=f==="y"?"top":"left",b=f==="y"?"bottom":"right",_=g+d[v],w=g-d[b];g=_s(_,g,w)}const h=s.fn({...t,[p]:c,[f]:g});return{...h,data:{x:h.x-n,y:h.y-r,enabled:{[p]:i,[f]:l}}}}}},Lg=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:i,platform:l,elements:s}=t,{apply:a=()=>{},...u}=Tn(e,t),d=await to(t,u),f=jt(o),p=dr(o),c=Pt(o)==="y",{width:g,height:h}=i.floating;let v,b;f==="top"||f==="bottom"?(v=f,b=p===(await(l.isRTL==null?void 0:l.isRTL(s.floating))?"start":"end")?"left":"right"):(b=f,v=p==="end"?"top":"bottom");const _=h-d.top-d.bottom,w=g-d.left-d.right,S=ln(h-d[v],_),y=ln(g-d[b],w),C=!t.middlewareData.shift;let R=S,N=y;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(N=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(R=_),C&&!p){const E=Ve(d.left,0),A=Ve(d.right,0),M=Ve(d.top,0),U=Ve(d.bottom,0);c?N=g-2*(E!==0||A!==0?E+A:Ve(d.left,d.right)):R=h-2*(M!==0||U!==0?M+U:Ve(d.top,d.bottom))}await a({...t,availableWidth:N,availableHeight:R});const k=await l.getDimensions(s.floating);return g!==k.width||h!==k.height?{reset:{rects:!0}}:{}}}};function ku(e){const t=ft(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=St(e),i=o?e.offsetWidth:n,l=o?e.offsetHeight:r,s=tr(n)!==i||tr(r)!==l;return s&&(n=i,r=l),{width:n,height:r,$:s}}function fl(e){return ze(e)?e:e.contextElement}function yn(e){const t=fl(e);if(!St(t))return yt(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=ku(t);let l=(i?tr(n.width):n.width)/r,s=(i?tr(n.height):n.height)/o;return(!l||!Number.isFinite(l))&&(l=1),(!s||!Number.isFinite(s))&&(s=1),{x:l,y:s}}const Dg=yt(0);function Lu(e){const t=Qe(e);return!dl()||!t.visualViewport?Dg:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Mg(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Qe(e)?!1:t}function sn(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=fl(e);let l=yt(1);t&&(r?ze(r)&&(l=yn(r)):l=yn(e));const s=Mg(i,n,r)?Lu(i):yt(0);let a=(o.left+s.x)/l.x,u=(o.top+s.y)/l.y,d=o.width/l.x,f=o.height/l.y;if(i){const p=Qe(i),c=r&&ze(r)?Qe(r):r;let g=p,h=pi(g);for(;h&&r&&c!==g;){const v=yn(h),b=h.getBoundingClientRect(),_=ft(h),w=b.left+(h.clientLeft+parseFloat(_.paddingLeft))*v.x,S=b.top+(h.clientTop+parseFloat(_.paddingTop))*v.y;a*=v.x,u*=v.y,d*=v.x,f*=v.y,a+=w,u+=S,g=Qe(h),h=pi(g)}}return Br({width:d,height:f,x:a,y:u})}function pl(e,t){const n=eo(e).scrollLeft;return t?t.left+n:sn(Ft(e)).left+n}function Du(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-(n?0:pl(e,r)),i=r.top+t.scrollTop;return{x:o,y:i}}function Gg(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",l=Ft(r),s=t?Zr(t.floating):!1;if(r===l||s&&i)return n;let a={scrollLeft:0,scrollTop:0},u=yt(1);const d=yt(0),f=St(r);if((f||!f&&!i)&&((On(r)!=="body"||cr(l))&&(a=eo(r)),St(r))){const c=sn(r);u=yn(r),d.x=c.x+r.clientLeft,d.y=c.y+r.clientTop}const p=l&&!f&&!i?Du(l,a,!0):yt(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-a.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-a.scrollTop*u.y+d.y+p.y}}function Bg(e){return Array.from(e.getClientRects())}function Vg(e){const t=Ft(e),n=eo(e),r=e.ownerDocument.body,o=Ve(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Ve(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+pl(e);const s=-n.scrollTop;return ft(r).direction==="rtl"&&(l+=Ve(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:l,y:s}}function Hg(e,t){const n=Qe(e),r=Ft(e),o=n.visualViewport;let i=r.clientWidth,l=r.clientHeight,s=0,a=0;if(o){i=o.width,l=o.height;const u=dl();(!u||u&&t==="fixed")&&(s=o.offsetLeft,a=o.offsetTop)}return{width:i,height:l,x:s,y:a}}function zg(e,t){const n=sn(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=St(e)?yn(e):yt(1),l=e.clientWidth*i.x,s=e.clientHeight*i.y,a=o*i.x,u=r*i.y;return{width:l,height:s,x:a,y:u}}function ys(e,t,n){let r;if(t==="viewport")r=Hg(e,n);else if(t==="document")r=Vg(Ft(e));else if(ze(t))r=zg(t,n);else{const o=Lu(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Br(r)}function Mu(e,t){const n=Ut(e);return n===t||!ze(n)||xn(n)?!1:ft(n).position==="fixed"||Mu(n,t)}function Ug(e,t){const n=t.get(e);if(n)return n;let r=er(e,[],!1).filter(s=>ze(s)&&On(s)!=="body"),o=null;const i=ft(e).position==="fixed";let l=i?Ut(e):e;for(;ze(l)&&!xn(l);){const s=ft(l),a=cl(l);!a&&s.position==="fixed"&&(o=null),(i?!a&&!o:!a&&s.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||cr(l)&&!a&&Mu(e,l))?r=r.filter(d=>d!==l):o=s,l=Ut(l)}return t.set(e,r),r}function jg(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const l=[...n==="clippingAncestors"?Zr(t)?[]:Ug(t,this._c):[].concat(n),r],s=l[0],a=l.reduce((u,d)=>{const f=ys(t,d,o);return u.top=Ve(f.top,u.top),u.right=ln(f.right,u.right),u.bottom=ln(f.bottom,u.bottom),u.left=Ve(f.left,u.left),u},ys(t,s,o));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function Wg(e){const{width:t,height:n}=ku(e);return{width:t,height:n}}function qg(e,t,n){const r=St(t),o=Ft(t),i=n==="fixed",l=sn(e,!0,i,t);let s={scrollLeft:0,scrollTop:0};const a=yt(0);function u(){a.x=pl(o)}if(r||!r&&!i)if((On(t)!=="body"||cr(o))&&(s=eo(t)),r){const c=sn(t,!0,i,t);a.x=c.x+t.clientLeft,a.y=c.y+t.clientTop}else o&&u();i&&!r&&o&&u();const d=o&&!r&&!i?Du(o,s):yt(0),f=l.left+s.scrollLeft-a.x-d.x,p=l.top+s.scrollTop-a.y-d.y;return{x:f,y:p,width:l.width,height:l.height}}function ko(e){return ft(e).position==="static"}function Ss(e,t){if(!St(e)||ft(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ft(e)===n&&(n=n.ownerDocument.body),n}function Gu(e,t){const n=Qe(e);if(Zr(e))return n;if(!St(e)){let o=Ut(e);for(;o&&!xn(o);){if(ze(o)&&!ko(o))return o;o=Ut(o)}return n}let r=Ss(e,t);for(;r&&wg(r)&&ko(r);)r=Ss(r,t);return r&&xn(r)&&ko(r)&&!cl(r)?n:r||yg(e)||n}const Kg=async function(e){const t=this.getOffsetParent||Gu,n=this.getDimensions,r=await n(e.floating);return{reference:qg(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Yg(e){return ft(e).direction==="rtl"}const Xg={convertOffsetParentRelativeRectToViewportRelativeRect:Gg,getDocumentElement:Ft,getClippingRect:jg,getOffsetParent:Gu,getElementRects:Kg,getClientRects:Bg,getDimensions:Wg,getScale:yn,isElement:ze,isRTL:Yg};function Bu(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Jg(e,t){let n=null,r;const o=Ft(e);function i(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function l(s,a){s===void 0&&(s=!1),a===void 0&&(a=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:p,height:c}=u;if(s||t(),!p||!c)return;const g=Er(f),h=Er(o.clientWidth-(d+p)),v=Er(o.clientHeight-(f+c)),b=Er(d),w={rootMargin:-g+"px "+-h+"px "+-v+"px "+-b+"px",threshold:Ve(0,ln(1,a))||1};let S=!0;function y(C){const R=C[0].intersectionRatio;if(R!==a){if(!S)return l();R?l(!1,R):r=setTimeout(()=>{l(!1,1e-7)},1e3)}R===1&&!Bu(u,e.getBoundingClientRect())&&l(),S=!1}try{n=new IntersectionObserver(y,{...w,root:o.ownerDocument})}catch{n=new IntersectionObserver(y,w)}n.observe(e)}return l(!0),i}function Qg(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:a=!1}=r,u=fl(e),d=o||i?[...u?er(u):[],...er(t)]:[];d.forEach(b=>{o&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const f=u&&s?Jg(u,n):null;let p=-1,c=null;l&&(c=new ResizeObserver(b=>{let[_]=b;_&&_.target===u&&c&&(c.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=c)==null||w.observe(t)})),n()}),u&&!a&&c.observe(u),c.observe(t));let g,h=a?sn(e):null;a&&v();function v(){const b=sn(e);h&&!Bu(h,b)&&n(),h=b,g=requestAnimationFrame(v)}return n(),()=>{var b;d.forEach(_=>{o&&_.removeEventListener("scroll",n),i&&_.removeEventListener("resize",n)}),f==null||f(),(b=c)==null||b.disconnect(),c=null,a&&cancelAnimationFrame(g)}}const Lo=to,Zg=Ig,em=kg,tm=Tg,nm=Lg,rm=(e,t,n)=>{const r=new Map,o={platform:Xg,...n},i={...o.platform,_c:r};return Og(e,t,{...o,platform:i})};var om=typeof document<"u",im=function(){},Rr=om?pt:im;function Vr(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Vr(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!Vr(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Vu(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Fs(e,t){const n=Vu(e);return Math.round(t*n)/n}function Do(e){const t=T(e);return Rr(()=>{t.current=e}),t}function lm(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:l}={},transform:s=!0,whileElementsMounted:a,open:u}=e,[d,f]=O({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,c]=O(r);Vr(p,r)||c(r);const[g,h]=O(null),[v,b]=O(null),_=ee(W=>{W!==C.current&&(C.current=W,h(W))},[]),w=ee(W=>{W!==R.current&&(R.current=W,b(W))},[]),S=i||g,y=l||v,C=T(null),R=T(null),N=T(d),k=a!=null,E=Do(a),A=Do(o),M=Do(u),U=ee(()=>{if(!C.current||!R.current)return;const W={placement:t,strategy:n,middleware:p};A.current&&(W.platform=A.current),rm(C.current,R.current,W).then(te=>{const j={...te,isPositioned:M.current!==!1};H.current&&!Vr(N.current,j)&&(N.current=j,De(()=>{f(j)}))})},[p,t,n,A,M]);Rr(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(W=>({...W,isPositioned:!1})))},[u]);const H=T(!1);Rr(()=>(H.current=!0,()=>{H.current=!1}),[]),Rr(()=>{if(S&&(C.current=S),y&&(R.current=y),S&&y){if(E.current)return E.current(S,y,U);U()}},[S,y,U,E,k]);const L=I(()=>({reference:C,floating:R,setReference:_,setFloating:w}),[_,w]),Y=I(()=>({reference:S,floating:y}),[S,y]),fe=I(()=>{const W={position:n,left:0,top:0};if(!Y.floating)return W;const te=Fs(Y.floating,d.x),j=Fs(Y.floating,d.y);return s?{...W,transform:"translate("+te+"px, "+j+"px)",...Vu(Y.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:te,top:j}},[n,s,Y.floating,d.x,d.y]);return I(()=>({...d,update:U,refs:L,elements:Y,floatingStyles:fe}),[d,U,L,Y,fe])}const Hu=(e,t)=>({...Zg(e),options:[e,t]}),sm=(e,t)=>({...em(e),options:[e,t]}),am=(e,t)=>({...tm(e),options:[e,t]}),um=(e,t)=>({...nm(e),options:[e,t]}),zu={...Ir},cm=zu.useInsertionEffect,dm=cm||(e=>e());function Uu(e){const t=T(()=>{});return dm(()=>{t.current=e}),ee(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}var mi=typeof document<"u"?pt:K;let Cs=!1,fm=0;const xs=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+fm++;function pm(){const[e,t]=O(()=>Cs?xs():void 0);return mi(()=>{e==null&&t(xs())},[]),K(()=>{Cs=!0},[]),e}const gm=zu.useId,mm=gm||pm;function hm(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(o=>o!==n))||[])}}}const vm=he(null),bm=he(null),_m=()=>{var e;return((e=ne(vm))==null?void 0:e.id)||null},wm=()=>ne(bm),ym="data-floating-ui-focusable";function Sm(e){const{open:t=!1,onOpenChange:n,elements:r}=e,o=mm(),i=T({}),[l]=O(()=>hm()),s=_m()!=null,[a,u]=O(r.reference),d=Uu((c,g,h)=>{i.current.openEvent=c?g:void 0,l.emit("openchange",{open:c,event:g,reason:h,nested:s}),n==null||n(c,g,h)}),f=I(()=>({setPositionReference:u}),[]),p=I(()=>({reference:a||r.reference||null,floating:r.floating||null,domReference:r.reference}),[a,r.reference,r.floating]);return I(()=>({dataRef:i,open:t,onOpenChange:d,elements:p,events:l,floatingId:o,refs:f}),[t,d,p,l,o,f])}function Fm(e){e===void 0&&(e={});const{nodeId:t}=e,n=Sm({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,o=r.elements,[i,l]=O(null),[s,a]=O(null),d=(o==null?void 0:o.domReference)||i,f=T(null),p=wm();mi(()=>{d&&(f.current=d)},[d]);const c=lm({...e,elements:{...o,...s&&{reference:s}}}),g=ee(w=>{const S=ze(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),contextElement:w}:w;a(S),c.refs.setReference(S)},[c.refs]),h=ee(w=>{(ze(w)||w===null)&&(f.current=w,l(w)),(ze(c.refs.reference.current)||c.refs.reference.current===null||w!==null&&!ze(w))&&c.refs.setReference(w)},[c.refs]),v=I(()=>({...c.refs,setReference:h,setPositionReference:g,domReference:f}),[c.refs,h,g]),b=I(()=>({...c.elements,domReference:d}),[c.elements,d]),_=I(()=>({...c,...r,refs:v,elements:b,nodeId:t}),[c,v,b,t,r]);return mi(()=>{r.dataRef.current.floatingContext=_;const w=p==null?void 0:p.nodesRef.current.find(S=>S.id===t);w&&(w.context=_)}),I(()=>({...c,context:_,refs:v,elements:b}),[c,v,b,_])}const Es="active",Ps="selected";function Mo(e,t,n){const r=new Map,o=n==="item";let i=e;if(o&&e){const{[Es]:l,[Ps]:s,...a}=e;i=a}return{...n==="floating"&&{tabIndex:-1,[ym]:""},...i,...t.map(l=>{const s=l?l[n]:null;return typeof s=="function"?e?s(e):null:s}).concat(e).reduce((l,s)=>(s&&Object.entries(s).forEach(a=>{let[u,d]=a;if(!(o&&[Es,Ps].includes(u)))if(u.indexOf("on")===0){if(r.has(u)||r.set(u,[]),typeof d=="function"){var f;(f=r.get(u))==null||f.push(d),l[u]=function(){for(var p,c=arguments.length,g=new Array(c),h=0;h<c;h++)g[h]=arguments[h];return(p=r.get(u))==null?void 0:p.map(v=>v(...g)).find(v=>v!==void 0)}}}else l[u]=d}),l),{})}}function Cm(e){e===void 0&&(e=[]);const t=e.map(s=>s==null?void 0:s.reference),n=e.map(s=>s==null?void 0:s.floating),r=e.map(s=>s==null?void 0:s.item),o=ee(s=>Mo(s,e,"reference"),t),i=ee(s=>Mo(s,e,"floating"),n),l=ee(s=>Mo(s,e,"item"),r);return I(()=>({getReferenceProps:o,getFloatingProps:i,getItemProps:l}),[o,i,l])}function $s(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const xm=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:r,onFallbackChange:o,offset:i=0,index:l=0,minItemsVisible:s=4,referenceOverflowThreshold:a=0,scrollRef:u,...d}=Tn(e,t),{rects:f,elements:{floating:p}}=t,c=n.current[l],g=(u==null?void 0:u.current)||p,h=p.clientTop||g.clientTop,v=p.clientTop!==0,b=g.clientTop!==0,_=p===g;if(!c)return{};const w={...t,...await Hu(-c.offsetTop-p.clientTop-f.reference.height/2-c.offsetHeight/2-i).fn(t)},S=await Lo($s(w,g.scrollHeight+h+p.clientTop),d),y=await Lo(w,{...d,elementContext:"reference"}),C=Ve(0,S.top),R=w.y+C,E=(g.scrollHeight>g.clientHeight?A=>A:tr)(Ve(0,g.scrollHeight+(v&&_||b?h*2:0)-C-Ve(0,S.bottom)));if(g.style.maxHeight=E+"px",g.scrollTop=C,o){const A=g.offsetHeight<c.offsetHeight*ln(s,n.current.length)-1||y.top>=-a||y.bottom>=-a;De(()=>o(A))}return r&&(r.current=await Lo($s({...w,y:R},g.offsetHeight+h+p.clientTop),d)),{y:R}}});function Em(e,t){const{open:n,elements:r}=e,{enabled:o=!0,overflowRef:i,scrollRef:l,onChange:s}=t,a=Uu(s),u=T(!1),d=T(null),f=T(null);K(()=>{if(!o)return;function c(h){if(h.ctrlKey||!g||i.current==null)return;const v=h.deltaY,b=i.current.top>=-.5,_=i.current.bottom>=-.5,w=g.scrollHeight-g.clientHeight,S=v<0?-1:1,y=v<0?"max":"min";g.scrollHeight<=g.clientHeight||(!b&&v>0||!_&&v<0?(h.preventDefault(),De(()=>{a(C=>C+Math[y](v,w*S))})):/firefox/i.test(Sg())&&(g.scrollTop+=v))}const g=(l==null?void 0:l.current)||r.floating;if(n&&g)return g.addEventListener("wheel",c),requestAnimationFrame(()=>{d.current=g.scrollTop,i.current!=null&&(f.current={...i.current})}),()=>{d.current=null,f.current=null,g.removeEventListener("wheel",c)}},[o,n,r.floating,i,l,a]);const p=I(()=>({onKeyDown(){u.current=!0},onWheel(){u.current=!1},onPointerMove(){u.current=!1},onScroll(){const c=(l==null?void 0:l.current)||r.floating;if(!(!i.current||!c||!u.current)){if(d.current!==null){const g=c.scrollTop-d.current;(i.current.bottom<-.5&&g<-1||i.current.top<-.5&&g>1)&&De(()=>a(h=>h+g))}requestAnimationFrame(()=>{d.current=c.scrollTop})}}}),[r.floating,a,i,l]);return I(()=>o?{floating:p}:{},[o,p])}let Nn=he({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Nn.displayName="FloatingContext";let gl=he(null);gl.displayName="PlacementContext";function ju(e){return I(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function Wu(){return ne(Nn).setReference}function Pm(){return ne(Nn).getReferenceProps}function qu(){let{getFloatingProps:e,slot:t}=ne(Nn);return ee((...n)=>Object.assign({},e(...n),{"data-anchor":t.anchor}),[e,t])}function Ku(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=ne(gl),n=I(()=>e,[JSON.stringify(e,(o,i)=>{var l;return(l=i==null?void 0:i.outerHTML)!=null?l:i})]);ae(()=>{t==null||t(n??null)},[t,n]);let r=ne(Nn);return I(()=>[r.setFloating,e?r.styles:{}],[r.setFloating,e,r.styles])}let Rs=4;function Yu({children:e,enabled:t=!0}){let[n,r]=O(null),[o,i]=O(0),l=T(null),[s,a]=O(null);$m(s);let u=t&&n!==null&&s!==null,{to:d="bottom",gap:f=0,offset:p=0,padding:c=0,inner:g}=Rm(n,s),[h,v="center"]=d.split(" ");ae(()=>{u&&i(0)},[u]);let{refs:b,floatingStyles:_,context:w}=Fm({open:u,placement:h==="selection"?v==="center"?"bottom":`bottom-${v}`:v==="center"?`${h}`:`${h}-${v}`,strategy:"absolute",transform:!1,middleware:[Hu({mainAxis:h==="selection"?0:f,crossAxis:p}),sm({padding:c}),h!=="selection"&&am({padding:c}),h==="selection"&&g?xm({...g,padding:c,overflowRef:l,offset:o,minItemsVisible:Rs,referenceOverflowThreshold:c,onFallbackChange(A){var M,U;if(!A)return;let H=w.elements.floating;if(!H)return;let L=parseFloat(getComputedStyle(H).scrollPaddingBottom)||0,Y=Math.min(Rs,H.childElementCount),fe=0,W=0;for(let te of(U=(M=w.elements.floating)==null?void 0:M.childNodes)!=null?U:[])if(We(te)){let j=te.offsetTop,le=j+te.clientHeight+L,ce=H.scrollTop,q=ce+H.clientHeight;if(j>=ce&&le<=q)Y--;else{W=Math.max(0,Math.min(le,q)-Math.max(j,ce)),fe=te.clientHeight;break}}Y>=1&&i(te=>{let j=fe*Y-W+L;return te>=j?te:j})}}):null,um({padding:c,apply({availableWidth:A,availableHeight:M,elements:U}){Object.assign(U.floating.style,{overflow:"auto",maxWidth:`${A}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${M}px)`})}})].filter(Boolean),whileElementsMounted:Qg}),[S=h,y=v]=w.placement.split("-");h==="selection"&&(S="selection");let C=I(()=>({anchor:[S,y].filter(Boolean).join(" ")}),[S,y]),R=Em(w,{overflowRef:l,onChange:i}),{getReferenceProps:N,getFloatingProps:k}=Cm([R]),E=D(A=>{a(A),b.setFloating(A)});return Ge(gl.Provider,{value:r},Ge(Nn.Provider,{value:{setFloating:E,setReference:b.setReference,styles:_,getReferenceProps:N,getFloatingProps:k,slot:C}},e))}function $m(e){ae(()=>{if(!e)return;let t=new MutationObserver(()=>{let n=window.getComputedStyle(e).maxHeight,r=parseFloat(n);if(isNaN(r))return;let o=parseInt(n);isNaN(o)||r!==o&&(e.style.maxHeight=`${Math.ceil(r)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function Rm(e,t){var n,r,o;let i=Go((n=e==null?void 0:e.gap)!=null?n:"var(--anchor-gap, 0)",t),l=Go((r=e==null?void 0:e.offset)!=null?r:"var(--anchor-offset, 0)",t),s=Go((o=e==null?void 0:e.padding)!=null?o:"var(--anchor-padding, 0)",t);return{...e,gap:i,offset:l,padding:s}}function Go(e,t,n=void 0){let r=Kt(),o=D((a,u)=>{if(a==null)return[n,null];if(typeof a=="number")return[a,null];if(typeof a=="string"){if(!u)return[n,null];let d=As(a,u);return[d,f=>{let p=Xu(a);{let c=p.map(g=>window.getComputedStyle(u).getPropertyValue(g));r.requestAnimationFrame(function g(){r.nextFrame(g);let h=!1;for(let[b,_]of p.entries()){let w=window.getComputedStyle(u).getPropertyValue(_);if(c[b]!==w){c[b]=w,h=!0;break}}if(!h)return;let v=As(a,u);d!==v&&(f(v),d=v)})}return r.dispose}]}return[n,null]}),i=I(()=>o(e,t)[0],[e,t]),[l=i,s]=O();return ae(()=>{let[a,u]=o(e,t);if(s(a),!!u)return u(s)},[e,t]),l}function Xu(e){let t=/var\((.*)\)/.exec(e);if(t){let n=t[1].indexOf(",");if(n===-1)return[t[1]];let r=t[1].slice(0,n).trim(),o=t[1].slice(n+1).trim();return o?[r,...Xu(o)]:[r]}return[]}function As(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),r}function Am({children:e,freeze:t}){let n=Hr(t,e);return x.createElement(x.Fragment,null,n)}function Hr(e,t){let[n,r]=O(t);return!e&&n!==t&&r(t),e?n:t}let no=he(null);no.displayName="OpenClosedContext";var $e=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))($e||{});function cn(){return ne(no)}function ro({value:e,children:t}){return x.createElement(no.Provider,{value:e},t)}function Ju({children:e}){return x.createElement(no.Provider,{value:null},e)}function Om(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let vt=[];Om(()=>{function e(t){if(!ut(t.target)||t.target===document.body||vt[0]===t.target)return;let n=t.target;n=n.closest(Mr),vt.unshift(n??t.target),vt=vt.filter(r=>r!=null&&r.isConnected),vt.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function Tm(e){throw new Error("Unexpected object: "+e)}var re=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(re||{});function _n(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),o=r??-1;switch(e.focus){case 0:{for(let i=0;i<n.length;++i)if(!t.resolveDisabled(n[i],i,n))return i;return r}case 1:{o===-1&&(o=n.length);for(let i=o-1;i>=0;--i)if(!t.resolveDisabled(n[i],i,n))return i;return r}case 2:{for(let i=o+1;i<n.length;++i)if(!t.resolveDisabled(n[i],i,n))return i;return r}case 3:{for(let i=n.length-1;i>=0;--i)if(!t.resolveDisabled(n[i],i,n))return i;return r}case 4:{for(let i=0;i<n.length;++i)if(t.resolveId(n[i],i,n)===e.id)return i;return r}case 5:return null;default:Tm(e)}}var ml=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(ml||{});function oo(e){let t=D(e),n=T(!1);K(()=>(n.current=!1,()=>{n.current=!0,lr(()=>{n.current&&t()})}),[t])}function Nm(){let e=typeof document>"u";return"useSyncExternalStore"in Ir?(t=>t.useSyncExternalStore)(Ir)(()=>()=>{},()=>!1,()=>!e):!1}function fr(){let e=Nm(),[t,n]=O(rn.isHandoffComplete);return t&&rn.isHandoffComplete===!1&&n(!1),K(()=>{t!==!0&&n(!0)},[t]),K(()=>rn.handoff(),[]),e?!1:t}let Qu=he(!1);function Im(){return ne(Qu)}function Os(e){return x.createElement(Qu.Provider,{value:e.force},e.children)}function km(e){let t=Im(),n=ne(ec),[r,o]=O(()=>{var i;if(!t&&n!==null)return(i=n.current)!=null?i:null;if(rn.isServer)return null;let l=e==null?void 0:e.getElementById("headlessui-portal-root");if(l)return l;if(e===null)return null;let s=e.createElement("div");return s.setAttribute("id","headlessui-portal-root"),e.body.appendChild(s)});return K(()=>{r!==null&&(e!=null&&e.body.contains(r)||e==null||e.body.appendChild(r))},[r,e]),K(()=>{t||n!==null&&o(n.current)},[n,o,t]),r}let Zu=de,Lm=ue(function(e,t){let{ownerDocument:n=null,...r}=e,o=T(null),i=Ce(fu(c=>{o.current=c}),t),l=Ot(o),s=n??l,a=km(s),[u]=O(()=>{var c;return rn.isServer?null:(c=s==null?void 0:s.createElement("div"))!=null?c:null}),d=ne(hi),f=fr();ae(()=>{!a||!u||a.contains(u)||(u.setAttribute("data-headlessui-portal",""),a.appendChild(u))},[a,u]),ae(()=>{if(u&&d)return d.register(u)},[d,u]),oo(()=>{var c;!a||!u||(Qi(u)&&a.contains(u)&&a.removeChild(u),a.childNodes.length<=0&&((c=a.parentElement)==null||c.removeChild(a)))});let p=ge();return f?!a||!u?null:Ur(p({ourProps:{ref:i},theirProps:r,slot:{},defaultTag:Zu,name:"Portal"}),u):null});function Dm(e,t){let n=Ce(t),{enabled:r=!0,ownerDocument:o,...i}=e,l=ge();return r?x.createElement(Lm,{...i,ownerDocument:o,ref:n}):l({ourProps:{ref:n},theirProps:i,slot:{},defaultTag:Zu,name:"Portal"})}let Mm=de,ec=he(null);function Gm(e,t){let{target:n,...r}=e,o={ref:Ce(t)},i=ge();return x.createElement(ec.Provider,{value:n},i({ourProps:o,theirProps:r,defaultTag:Mm,name:"Popover.Group"}))}let hi=he(null);function Bm(){let e=ne(hi),t=T([]),n=D(i=>(t.current.push(i),e&&e.register(i),()=>r(i))),r=D(i=>{let l=t.current.indexOf(i);l!==-1&&t.current.splice(l,1),e&&e.unregister(i)}),o=I(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,I(()=>function({children:i}){return x.createElement(hi.Provider,{value:o},i)},[o])]}let Vm=ue(Dm),tc=ue(Gm),hl=Object.assign(Vm,{Group:tc});var Hm=Object.defineProperty,zm=(e,t,n)=>t in e?Hm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ts=(e,t,n)=>(zm(e,typeof t!="symbol"?t+"":t,n),n),pe=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(pe||{}),Xe=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Xe||{}),Bt=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(Bt||{}),nc=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.SetTyping=3]="SetTyping",e[e.RegisterOption=4]="RegisterOption",e[e.UnregisterOption=5]="UnregisterOption",e[e.DefaultToFirstOption=6]="DefaultToFirstOption",e[e.SetActivationTrigger=7]="SetActivationTrigger",e[e.UpdateVirtualConfiguration=8]="UpdateVirtualConfiguration",e[e.SetInputElement=9]="SetInputElement",e[e.SetButtonElement=10]="SetButtonElement",e[e.SetOptionsElement=11]="SetOptionsElement",e))(nc||{});function Bo(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=t(e.options.slice()),o=r.length>0&&r[0].dataRef.current.order!==null?r.sort((l,s)=>l.dataRef.current.order-s.dataRef.current.order):Gt(r,l=>l.dataRef.current.domRef.current),i=n?o.indexOf(n):null;return i===-1&&(i=null),{options:o,activeOptionIndex:i}}let Um={1(e){var t;return(t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1,isTyping:!1,activationTrigger:2,__demoMode:!1}},0(e){var t,n;if((t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===0)return e;if((n=e.dataRef.current)!=null&&n.value){let r=e.dataRef.current.calculateIndex(e.dataRef.current.value);if(r!==-1)return{...e,activeOptionIndex:r,comboboxState:0,__demoMode:!1}}return{...e,comboboxState:0,__demoMode:!1}},3(e,t){return e.isTyping===t.isTyping?e:{...e,isTyping:t.isTyping}},2(e,t){var n,r,o,i;if((n=e.dataRef.current)!=null&&n.disabled||e.optionsElement&&!((r=e.dataRef.current)!=null&&r.optionsPropsRef.current.static)&&e.comboboxState===1)return e;if(e.virtual){let{options:u,disabled:d}=e.virtual,f=t.focus===re.Specific?t.idx:_n(t,{resolveItems:()=>u,resolveActiveIndex:()=>{var c,g;return(g=(c=e.activeOptionIndex)!=null?c:u.findIndex(h=>!d(h)))!=null?g:null},resolveDisabled:d,resolveId(){throw new Error("Function not implemented.")}}),p=(o=t.trigger)!=null?o:2;return e.activeOptionIndex===f&&e.activationTrigger===p?e:{...e,activeOptionIndex:f,activationTrigger:p,isTyping:!1,__demoMode:!1}}let l=Bo(e);if(l.activeOptionIndex===null){let u=l.options.findIndex(d=>!d.dataRef.current.disabled);u!==-1&&(l.activeOptionIndex=u)}let s=t.focus===re.Specific?t.idx:_n(t,{resolveItems:()=>l.options,resolveActiveIndex:()=>l.activeOptionIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled}),a=(i=t.trigger)!=null?i:2;return e.activeOptionIndex===s&&e.activationTrigger===a?e:{...e,...l,isTyping:!1,activeOptionIndex:s,activationTrigger:a,__demoMode:!1}},4:(e,t)=>{var n,r,o,i;if((n=e.dataRef.current)!=null&&n.virtual)return{...e,options:[...e.options,t.payload]};let l=t.payload,s=Bo(e,u=>(u.push(l),u));e.activeOptionIndex===null&&(o=(r=e.dataRef.current).isSelected)!=null&&o.call(r,t.payload.dataRef.current.value)&&(s.activeOptionIndex=s.options.indexOf(l));let a={...e,...s,activationTrigger:2};return(i=e.dataRef.current)!=null&&i.__demoMode&&e.dataRef.current.value===void 0&&(a.activeOptionIndex=0),a},5:(e,t)=>{var n;if((n=e.dataRef.current)!=null&&n.virtual)return{...e,options:e.options.filter(o=>o.id!==t.id)};let r=Bo(e,o=>{let i=o.findIndex(l=>l.id===t.id);return i!==-1&&o.splice(i,1),o});return{...e,...r,activationTrigger:2}},6:(e,t)=>e.defaultToFirstOption===t.value?e:{...e,defaultToFirstOption:t.value},7:(e,t)=>e.activationTrigger===t.trigger?e:{...e,activationTrigger:t.trigger},8:(e,t)=>{var n,r;if(e.virtual===null)return{...e,virtual:{options:t.options,disabled:(n=t.disabled)!=null?n:()=>!1}};if(e.virtual.options===t.options&&e.virtual.disabled===t.disabled)return e;let o=e.activeOptionIndex;if(e.activeOptionIndex!==null){let i=t.options.indexOf(e.virtual.options[e.activeOptionIndex]);i!==-1?o=i:o=null}return{...e,activeOptionIndex:o,virtual:{options:t.options,disabled:(r=t.disabled)!=null?r:()=>!1}}},9:(e,t)=>e.inputElement===t.element?e:{...e,inputElement:t.element},10:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},11:(e,t)=>e.optionsElement===t.element?e:{...e,optionsElement:t.element}},jm=class rc extends nl{constructor(t){super(t),Ts(this,"actions",{onChange:n=>{let{onChange:r,compare:o,mode:i,value:l}=this.state.dataRef.current;return ye(i,{0:()=>r==null?void 0:r(n),1:()=>{let s=l.slice(),a=s.findIndex(u=>o(u,n));return a===-1?s.push(n):s.splice(a,1),r==null?void 0:r(s)}})},registerOption:(n,r)=>(this.send({type:4,payload:{id:n,dataRef:r}}),()=>{this.state.activeOptionIndex===this.state.dataRef.current.calculateIndex(r.current.value)&&this.send({type:6,value:!0}),this.send({type:5,id:n})}),goToOption:(n,r)=>(this.send({type:6,value:!1}),this.send({type:2,...n,trigger:r})),setIsTyping:n=>{this.send({type:3,isTyping:n})},closeCombobox:()=>{var n,r;this.send({type:1}),this.send({type:6,value:!1}),(r=(n=this.state.dataRef.current).onClose)==null||r.call(n)},openCombobox:()=>{this.send({type:0}),this.send({type:6,value:!0})},setActivationTrigger:n=>{this.send({type:7,trigger:n})},selectActiveOption:()=>{let n=this.selectors.activeOptionIndex(this.state);if(n!==null){if(this.actions.setIsTyping(!1),this.state.virtual)this.actions.onChange(this.state.virtual.options[n]);else{let{dataRef:r}=this.state.options[n];this.actions.onChange(r.current.value)}this.actions.goToOption({focus:re.Specific,idx:n})}},setInputElement:n=>{this.send({type:9,element:n})},setButtonElement:n=>{this.send({type:10,element:n})},setOptionsElement:n=>{this.send({type:11,element:n})}}),Ts(this,"selectors",{activeDescendantId:n=>{var r,o;let i=this.selectors.activeOptionIndex(n);if(i!==null)return n.virtual?(o=n.options.find(l=>!l.dataRef.current.disabled&&n.dataRef.current.compare(l.dataRef.current.value,n.virtual.options[i])))==null?void 0:o.id:(r=n.options[i])==null?void 0:r.id},activeOptionIndex:n=>{if(n.defaultToFirstOption&&n.activeOptionIndex===null&&(n.virtual?n.virtual.options.length>0:n.options.length>0)){if(n.virtual){let{options:o,disabled:i}=n.virtual,l=o.findIndex(s=>{var a;return!((a=i==null?void 0:i(s))!=null&&a)});if(l!==-1)return l}let r=n.options.findIndex(o=>!o.dataRef.current.disabled);if(r!==-1)return r}return n.activeOptionIndex},activeOption:n=>{var r,o;let i=this.selectors.activeOptionIndex(n);return i===null?null:n.virtual?n.virtual.options[i??0]:(o=(r=n.options[i])==null?void 0:r.dataRef.current.value)!=null?o:null},isActive:(n,r,o)=>{var i;let l=this.selectors.activeOptionIndex(n);return l===null?!1:n.virtual?l===n.dataRef.current.calculateIndex(r):((i=n.options[l])==null?void 0:i.id)===o},shouldScrollIntoView:(n,r,o)=>!(n.virtual||n.__demoMode||n.comboboxState!==0||n.activationTrigger===0||!this.selectors.isActive(n,r,o))});{let n=this.state.id,r=An.get(null);this.disposables.add(r.on(rl.Push,o=>{!r.selectors.isTop(o,n)&&this.state.comboboxState===0&&this.actions.closeCombobox()})),this.on(0,()=>r.actions.push(n)),this.on(1,()=>r.actions.pop(n))}}static new({id:t,virtual:n=null,__demoMode:r=!1}){var o;return new rc({id:t,dataRef:{current:{}},comboboxState:r?0:1,isTyping:!1,options:[],virtual:n?{options:n.options,disabled:(o=n.disabled)!=null?o:()=>!1}:null,activeOptionIndex:null,activationTrigger:2,inputElement:null,buttonElement:null,optionsElement:null,__demoMode:r})}reduce(t,n){return ye(n.type,Um,t,n)}};const oc=he(null);function pr(e){let t=ne(oc);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ic),n}return t}function ic({id:e,virtual:t=null,__demoMode:n=!1}){let r=I(()=>jm.new({id:e,virtual:t,__demoMode:n}),[]);return oo(()=>r.dispose()),r}let nr=he(null);nr.displayName="ComboboxDataContext";function In(e){let t=ne(nr);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,In),n}return t}let lc=he(null);function Wm(e){let t=pr("VirtualProvider"),n=In("VirtualProvider"),{options:r}=n.virtual,o=_e(t,c=>c.optionsElement),[i,l]=I(()=>{let c=o;if(!c)return[0,0];let g=window.getComputedStyle(c);return[parseFloat(g.paddingBlockStart||g.paddingTop),parseFloat(g.paddingBlockEnd||g.paddingBottom)]},[o]),s=Ip({enabled:r.length!==0,scrollPaddingStart:i,scrollPaddingEnd:l,count:r.length,estimateSize(){return 40},getScrollElement(){return t.state.optionsElement},overscan:12}),[a,u]=O(0);ae(()=>{u(c=>c+1)},[r]);let d=s.getVirtualItems(),f=_e(t,c=>c.activationTrigger===Bt.Pointer),p=_e(t,t.selectors.activeOptionIndex);return d.length===0?null:x.createElement(lc.Provider,{value:s},x.createElement("div",{style:{position:"relative",width:"100%",height:`${s.getTotalSize()}px`},ref:c=>{c&&(f||p!==null&&r.length>p&&s.scrollToIndex(p))}},d.map(c=>{var g;return x.createElement(de,{key:c.key},x.cloneElement((g=e.children)==null?void 0:g.call(e,{...e.slot,option:r[c.index]}),{key:`${a}-${c.key}`,"data-index":c.index,"aria-setsize":r.length,"aria-posinset":c.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${c.start}px)`,overflowAnchor:"none"}}))})))}let qm=de;function Km(e,t){let n=Ee(),r=Yt(),{value:o,defaultValue:i,onChange:l,form:s,name:a,by:u,invalid:d=!1,disabled:f=r||!1,onClose:p,__demoMode:c=!1,multiple:g=!1,immediate:h=!1,virtual:v=null,nullable:b,..._}=e,w=ru(i),[S=g?[]:void 0,y]=nu(o,l,w),C=ic({id:n,virtual:v,__demoMode:c}),R=T({static:!1,hold:!1}),N=bu(u),k=D(V=>v?u===null?v.options.indexOf(V):v.options.findIndex(ie=>N(ie,V)):C.state.options.findIndex(ie=>N(ie.dataRef.current.value,V))),E=ee(V=>ye(U.mode,{[Xe.Multi]:()=>S.some(ie=>N(ie,V)),[Xe.Single]:()=>N(S,V)}),[S]),A=_e(C,V=>V.virtual),M=D(()=>p==null?void 0:p()),U=I(()=>({__demoMode:c,immediate:h,optionsPropsRef:R,value:S,defaultValue:w,disabled:f,invalid:d,mode:g?Xe.Multi:Xe.Single,virtual:v?A:null,onChange:y,isSelected:E,calculateIndex:k,compare:N,onClose:M}),[S,w,f,d,g,y,E,c,C,v,A,M]);ae(()=>{var V;v&&C.send({type:nc.UpdateVirtualConfiguration,options:v.options,disabled:(V=v.disabled)!=null?V:null})},[v,v==null?void 0:v.options,v==null?void 0:v.disabled]),ae(()=>{C.state.dataRef.current=U},[U]);let[H,L,Y,fe]=_e(C,V=>[V.comboboxState,V.buttonElement,V.inputElement,V.optionsElement]),W=An.get(null),te=_e(W,ee(V=>W.selectors.isTop(V,n),[W,n]));sl(te,[L,Y,fe],()=>C.actions.closeCombobox());let j=_e(C,C.selectors.activeOptionIndex),le=_e(C,C.selectors.activeOption),ce=I(()=>({open:H===pe.Open,disabled:f,invalid:d,activeIndex:j,activeOption:le,value:S}),[U,f,S,d,le,H]),[q,B]=tl(),we=t===null?{}:{ref:t},Se=ee(()=>{if(w!==void 0)return y==null?void 0:y(w)},[y,w]),z=ge();return x.createElement(B,{value:q,props:{htmlFor:Y==null?void 0:Y.id},slot:{open:H===pe.Open,disabled:f}},x.createElement(Yu,null,x.createElement(nr.Provider,{value:U},x.createElement(oc.Provider,{value:C},x.createElement(ro,{value:ye(H,{[pe.Open]:$e.Open,[pe.Closed]:$e.Closed})},a!=null&&x.createElement(au,{disabled:f,data:S!=null?{[a]:S}:{},form:s,onReset:Se}),z({ourProps:we,theirProps:_,slot:ce,defaultTag:qm,name:"Combobox"}))))))}let Ym="input";function Xm(e,t){var n,r;let o=pr("Combobox.Input"),i=In("Combobox.Input"),l=Ee(),s=ar(),{id:a=s||`headlessui-combobox-input-${l}`,onChange:u,displayValue:d,disabled:f=i.disabled||!1,autoFocus:p=!1,type:c="text",...g}=e,[h]=_e(o,B=>[B.inputElement]),v=T(null),b=Ce(v,t,Wu(),o.actions.setInputElement),_=Ot(h),[w,S]=_e(o,B=>[B.comboboxState,B.isTyping]),y=Kt(),C=D(()=>{o.actions.onChange(null),o.state.optionsElement&&(o.state.optionsElement.scrollTop=0),o.actions.goToOption({focus:re.Nothing})}),R=I(()=>{var B;return typeof d=="function"&&i.value!==void 0?(B=d(i.value))!=null?B:"":typeof i.value=="string"?i.value:""},[i.value,d]);Zn(([B,we],[Se,z])=>{if(o.state.isTyping)return;let V=v.current;V&&((z===pe.Open&&we===pe.Closed||B!==Se)&&(V.value=B),requestAnimationFrame(()=>{if(o.state.isTyping||!V||(_==null?void 0:_.activeElement)!==V)return;let{selectionStart:ie,selectionEnd:be}=V;Math.abs((be??0)-(ie??0))===0&&ie===0&&V.setSelectionRange(V.value.length,V.value.length)}))},[R,w,_,S]),Zn(([B],[we])=>{if(B===pe.Open&&we===pe.Closed){if(o.state.isTyping)return;let Se=v.current;if(!Se)return;let z=Se.value,{selectionStart:V,selectionEnd:ie,selectionDirection:be}=Se;Se.value="",Se.value=z,be!==null?Se.setSelectionRange(V,ie,be):Se.setSelectionRange(V,ie)}},[w]);let N=T(!1),k=D(()=>{N.current=!0}),E=D(()=>{y.nextFrame(()=>{N.current=!1})}),A=D(B=>{switch(o.actions.setIsTyping(!0),B.key){case Z.Enter:if(o.state.comboboxState!==pe.Open||N.current)return;if(B.preventDefault(),B.stopPropagation(),o.selectors.activeOptionIndex(o.state)===null){o.actions.closeCombobox();return}o.actions.selectActiveOption(),i.mode===Xe.Single&&o.actions.closeCombobox();break;case Z.ArrowDown:return B.preventDefault(),B.stopPropagation(),ye(o.state.comboboxState,{[pe.Open]:()=>o.actions.goToOption({focus:re.Next}),[pe.Closed]:()=>o.actions.openCombobox()});case Z.ArrowUp:return B.preventDefault(),B.stopPropagation(),ye(o.state.comboboxState,{[pe.Open]:()=>o.actions.goToOption({focus:re.Previous}),[pe.Closed]:()=>{De(()=>o.actions.openCombobox()),i.value||o.actions.goToOption({focus:re.Last})}});case Z.Home:if(B.shiftKey)break;return B.preventDefault(),B.stopPropagation(),o.actions.goToOption({focus:re.First});case Z.PageUp:return B.preventDefault(),B.stopPropagation(),o.actions.goToOption({focus:re.First});case Z.End:if(B.shiftKey)break;return B.preventDefault(),B.stopPropagation(),o.actions.goToOption({focus:re.Last});case Z.PageDown:return B.preventDefault(),B.stopPropagation(),o.actions.goToOption({focus:re.Last});case Z.Escape:return o.state.comboboxState!==pe.Open?void 0:(B.preventDefault(),o.state.optionsElement&&!i.optionsPropsRef.current.static&&B.stopPropagation(),i.mode===Xe.Single&&i.value===null&&C(),o.actions.closeCombobox());case Z.Tab:if(o.state.comboboxState!==pe.Open)return;i.mode===Xe.Single&&o.state.activationTrigger!==Bt.Focus&&o.actions.selectActiveOption(),o.actions.closeCombobox();break}}),M=D(B=>{u==null||u(B),i.mode===Xe.Single&&B.target.value===""&&C(),o.actions.openCombobox()}),U=D(B=>{var we,Se,z;let V=(we=B.relatedTarget)!=null?we:vt.find(ie=>ie!==B.currentTarget);if(!((Se=o.state.optionsElement)!=null&&Se.contains(V))&&!((z=o.state.buttonElement)!=null&&z.contains(V))&&o.state.comboboxState===pe.Open)return B.preventDefault(),i.mode===Xe.Single&&i.value===null&&C(),o.actions.closeCombobox()}),H=D(B=>{var we,Se,z;let V=(we=B.relatedTarget)!=null?we:vt.find(ie=>ie!==B.currentTarget);(Se=o.state.buttonElement)!=null&&Se.contains(V)||(z=o.state.optionsElement)!=null&&z.contains(V)||i.disabled||i.immediate&&o.state.comboboxState!==pe.Open&&y.microTask(()=>{De(()=>o.actions.openCombobox()),o.actions.setActivationTrigger(Bt.Focus)})}),L=un(),Y=qr(),{isFocused:fe,focusProps:W}=Nt({autoFocus:p}),{isHovered:te,hoverProps:j}=qt({isDisabled:f}),le=_e(o,B=>B.optionsElement),ce=I(()=>({open:w===pe.Open,disabled:f,invalid:i.invalid,hover:te,focus:fe,autofocus:p}),[i,te,fe,p,f,i.invalid]),q=it({ref:b,id:a,role:"combobox",type:c,"aria-controls":le==null?void 0:le.id,"aria-expanded":w===pe.Open,"aria-activedescendant":_e(o,o.selectors.activeDescendantId),"aria-labelledby":L,"aria-describedby":Y,"aria-autocomplete":"list",defaultValue:(r=(n=e.defaultValue)!=null?n:i.defaultValue!==void 0?d==null?void 0:d(i.defaultValue):null)!=null?r:i.defaultValue,disabled:f||void 0,autoFocus:p,onCompositionStart:k,onCompositionEnd:E,onKeyDown:A,onChange:M,onFocus:H,onBlur:U},W,j);return ge()({ourProps:q,theirProps:g,slot:ce,defaultTag:Ym,name:"Combobox.Input"})}let Jm="button";function Qm(e,t){let n=pr("Combobox.Button"),r=In("Combobox.Button"),[o,i]=O(null),l=Ce(t,i,n.actions.setButtonElement),s=Ee(),{id:a=`headlessui-combobox-button-${s}`,disabled:u=r.disabled||!1,autoFocus:d=!1,...f}=e,[p,c,g]=_e(n,M=>[M.comboboxState,M.inputElement,M.optionsElement]),h=$u(c),v=p===pe.Open;Pu(v,{trigger:o,action:ee(M=>{if(o!=null&&o.contains(M.target)||c!=null&&c.contains(M.target))return Et.Ignore;let U=M.target.closest('[role="option"]:not([data-disabled])');return We(U)?Et.Select(U):g!=null&&g.contains(M.target)?Et.Ignore:Et.Close},[o,c,g]),close:n.actions.closeCombobox,select:n.actions.selectActiveOption});let b=D(M=>{switch(M.key){case Z.Space:case Z.Enter:M.preventDefault(),M.stopPropagation(),n.state.comboboxState===pe.Closed&&De(()=>n.actions.openCombobox()),h();return;case Z.ArrowDown:M.preventDefault(),M.stopPropagation(),n.state.comboboxState===pe.Closed&&(De(()=>n.actions.openCombobox()),n.state.dataRef.current.value||n.actions.goToOption({focus:re.First})),h();return;case Z.ArrowUp:M.preventDefault(),M.stopPropagation(),n.state.comboboxState===pe.Closed&&(De(()=>n.actions.openCombobox()),n.state.dataRef.current.value||n.actions.goToOption({focus:re.Last})),h();return;case Z.Escape:if(n.state.comboboxState!==pe.Open)return;M.preventDefault(),n.state.optionsElement&&!r.optionsPropsRef.current.static&&M.stopPropagation(),De(()=>n.actions.closeCombobox()),h();return;default:return}}),_=D(M=>{M.preventDefault(),!Zi(M.currentTarget)&&(M.button===ml.Left&&(n.state.comboboxState===pe.Open?n.actions.closeCombobox():n.actions.openCombobox()),h())}),w=un([a]),{isFocusVisible:S,focusProps:y}=Nt({autoFocus:d}),{isHovered:C,hoverProps:R}=qt({isDisabled:u}),{pressed:N,pressProps:k}=sr({disabled:u}),E=I(()=>({open:p===pe.Open,active:N||p===pe.Open,disabled:u,invalid:r.invalid,value:r.value,hover:C,focus:S}),[r,C,S,N,u,p]),A=it({ref:l,id:a,type:Yr(e,o),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":g==null?void 0:g.id,"aria-expanded":p===pe.Open,"aria-labelledby":w,disabled:u||void 0,autoFocus:d,onPointerDown:_,onKeyDown:b},y,R,k);return ge()({ourProps:A,theirProps:f,slot:E,defaultTag:Jm,name:"Combobox.Button"})}let Zm="div",eh=ot.RenderStrategy|ot.Static;function th(e,t){var n,r,o;let i=Ee(),{id:l=`headlessui-combobox-options-${i}`,hold:s=!1,anchor:a,portal:u=!1,modal:d=!0,transition:f=!1,...p}=e,c=pr("Combobox.Options"),g=In("Combobox.Options"),h=ju(a);h&&(u=!0);let[v,b]=Ku(h),[_,w]=O(null),S=qu(),y=Ce(t,h?v:null,c.actions.setOptionsElement,w),[C,R,N,k,E]=_e(c,be=>[be.comboboxState,be.inputElement,be.buttonElement,be.optionsElement,be.activationTrigger]),A=Ot(R||N),M=Ot(k),U=cn(),[H,L]=Jr(f,_,U!==null?(U&$e.Open)===$e.Open:C===pe.Open);il(H,R,c.actions.closeCombobox);let Y=g.__demoMode?!1:d&&C===pe.Open;ul(Y,M);let fe=g.__demoMode?!1:d&&C===pe.Open;ol(fe,{allowed:ee(()=>[R,N,k],[R,N,k])}),ae(()=>{var be;g.optionsPropsRef.current.static=(be=e.static)!=null?be:!1},[g.optionsPropsRef,e.static]),ae(()=>{g.optionsPropsRef.current.hold=s},[g.optionsPropsRef,s]),_g(C===pe.Open,{container:k,accept(be){return be.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:be.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(be){be.setAttribute("role","none")}});let W=un([N==null?void 0:N.id]),te=I(()=>({open:C===pe.Open,option:void 0}),[C]),j=D(()=>{c.actions.setActivationTrigger(Bt.Pointer)}),le=D(be=>{be.preventDefault(),c.actions.setActivationTrigger(Bt.Pointer)}),ce=it(h?S():{},{"aria-labelledby":W,role:"listbox","aria-multiselectable":g.mode===Xe.Multi?!0:void 0,id:l,ref:y,style:{...p.style,...b,"--input-width":ci(R,!0).width,"--button-width":ci(N,!0).width},onWheel:E===Bt.Pointer?void 0:j,onMouseDown:le,...Xr(L)}),q=H&&C===pe.Closed,B=Hr(q,(n=g.virtual)==null?void 0:n.options),we=Hr(q,g.value),Se=D(be=>g.compare(we,be)),z=I(()=>{if(!g.virtual)return g;if(B===void 0)throw new Error("Missing `options` in virtual mode");return B!==g.virtual.options?{...g,virtual:{...g.virtual,options:B}}:g},[g,B,(r=g.virtual)==null?void 0:r.options]);g.virtual&&Object.assign(p,{children:x.createElement(nr.Provider,{value:z},x.createElement(Wm,{slot:te},p.children))});let V=ge(),ie=I(()=>g.mode===Xe.Multi?g:{...g,isSelected:Se},[g,Se]);return x.createElement(hl,{enabled:u?e.static||H:!1,ownerDocument:A},x.createElement(nr.Provider,{value:ie},V({ourProps:ce,theirProps:{...p,children:x.createElement(Am,{freeze:q},typeof p.children=="function"?(o=p.children)==null?void 0:o.call(p,te):p.children)},slot:te,defaultTag:Zm,features:eh,visible:H,name:"Combobox.Options"})))}let nh="div";function rh(e,t){var n,r,o;let i=In("Combobox.Option"),l=pr("Combobox.Option"),s=Ee(),{id:a=`headlessui-combobox-option-${s}`,value:u,disabled:d=(o=(r=(n=i.virtual)==null?void 0:n.disabled)==null?void 0:r.call(n,u))!=null?o:!1,order:f=null,...p}=e,[c]=_e(l,L=>[L.inputElement]),g=$u(c),h=_e(l,ee(L=>l.selectors.isActive(L,u,a),[u,a])),v=i.isSelected(u),b=T(null),_=Je({disabled:d,value:u,domRef:b,order:f}),w=ne(lc),S=Ce(t,b,w?w.measureElement:null),y=D(()=>{l.actions.setIsTyping(!1),l.actions.onChange(u)});ae(()=>l.actions.registerOption(a,_),[_,a]);let C=_e(l,ee(L=>l.selectors.shouldScrollIntoView(L,u,a),[u,a]));ae(()=>{if(C)return st().requestAnimationFrame(()=>{var L,Y;(Y=(L=b.current)==null?void 0:L.scrollIntoView)==null||Y.call(L,{block:"nearest"})})},[C,b]);let R=D(L=>{L.preventDefault(),L.button===ml.Left&&(d||(y(),fi()||requestAnimationFrame(()=>g()),i.mode===Xe.Single&&l.actions.closeCombobox()))}),N=D(()=>{if(d)return l.actions.goToOption({focus:re.Nothing});let L=i.calculateIndex(u);l.actions.goToOption({focus:re.Specific,idx:L})}),k=Ru(),E=D(L=>k.update(L)),A=D(L=>{if(!k.wasMoved(L)||d||h)return;let Y=i.calculateIndex(u);l.actions.goToOption({focus:re.Specific,idx:Y},Bt.Pointer)}),M=D(L=>{k.wasMoved(L)&&(d||h&&(i.optionsPropsRef.current.hold||l.actions.goToOption({focus:re.Nothing})))}),U=I(()=>({active:h,focus:h,selected:v,disabled:d}),[h,v,d]),H={id:a,ref:S,role:"option",tabIndex:d===!0?void 0:-1,"aria-disabled":d===!0?!0:void 0,"aria-selected":v,disabled:void 0,onMouseDown:R,onFocus:N,onPointerEnter:E,onMouseEnter:E,onPointerMove:A,onMouseMove:A,onPointerLeave:M,onMouseLeave:M};return ge()({ourProps:H,theirProps:p,slot:U,defaultTag:nh,name:"Combobox.Option"})}let oh=ue(Km),vi=ue(Qm),bi=ue(Xm),ih=je,_i=ue(th),wi=ue(rh),Ns=Object.assign(oh,{Input:bi,Button:vi,Label:ih,Options:_i,Option:wi});function lh(e,t=typeof document<"u"?document.defaultView:null,n){let r=ur(e,"escape");al(t,"keydown",o=>{r&&(o.defaultPrevented||o.key===Z.Escape&&n(o))})}function sh(){var e;let[t]=O(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=O((e=t==null?void 0:t.matches)!=null?e:!1);return ae(()=>{if(!t)return;function o(i){r(i.matches)}return t.addEventListener("change",o),()=>t.removeEventListener("change",o)},[t]),n}function ah({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=Ot(n),o=D(()=>{var i,l;let s=[];for(let a of e)a!==null&&($t(a)?s.push(a):"current"in a&&$t(a.current)&&s.push(a.current));if(t!=null&&t.current)for(let a of t.current)s.push(a);for(let a of(i=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?i:[])a!==document.body&&a!==document.head&&$t(a)&&a.id!=="headlessui-portal-root"&&(n&&(a.contains(n)||a.contains((l=n==null?void 0:n.getRootNode())==null?void 0:l.host))||s.some(u=>a.contains(u))||s.push(a));return s});return{resolveContainers:o,contains:D(i=>o().some(l=>l.contains(i)))}}let sc=he(null);function Is({children:e,node:t}){let[n,r]=O(null),o=ac(t??n);return x.createElement(sc.Provider,{value:o},e,o===null&&x.createElement(zt,{features:Ht.Hidden,ref:i=>{var l,s;if(i){for(let a of(s=(l=It(i))==null?void 0:l.querySelectorAll("html > *, body > *"))!=null?s:[])if(a!==document.body&&a!==document.head&&$t(a)&&a!=null&&a.contains(i)){r(a);break}}}}))}function ac(e=null){var t;return(t=ne(sc))!=null?t:e}function io(){let e=T(!1);return ae(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var zn=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(zn||{});function uh(){let e=T(0);return Eu(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function uc(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)$t(n.current)&&t.add(n.current);return t}let ch="div";var Zt=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(Zt||{});function dh(e,t){let n=T(null),r=Ce(n,t),{initialFocus:o,initialFocusFallback:i,containers:l,features:s=15,...a}=e;fr()||(s=0);let u=Ot(n);mh(s,{ownerDocument:u});let d=hh(s,{ownerDocument:u,container:n,initialFocus:o,initialFocusFallback:i});vh(s,{ownerDocument:u,container:n,containers:l,previousActiveElement:d});let f=uh(),p=D(_=>{if(!We(n.current))return;let w=n.current;(S=>S())(()=>{ye(f.current,{[zn.Forwards]:()=>{nt(w,Te.First,{skipElements:[_.relatedTarget,i]})},[zn.Backwards]:()=>{nt(w,Te.Last,{skipElements:[_.relatedTarget,i]})}})})}),c=ur(!!(s&2),"focus-trap#tab-lock"),g=Kt(),h=T(!1),v={ref:r,onKeyDown(_){_.key=="Tab"&&(h.current=!0,g.requestAnimationFrame(()=>{h.current=!1}))},onBlur(_){if(!(s&4))return;let w=uc(l);We(n.current)&&w.add(n.current);let S=_.relatedTarget;ut(S)&&S.dataset.headlessuiFocusGuard!=="true"&&(cc(w,S)||(h.current?nt(n.current,ye(f.current,{[zn.Forwards]:()=>Te.Next,[zn.Backwards]:()=>Te.Previous})|Te.WrapAround,{relativeTo:_.target}):ut(_.target)&&Rt(_.target)))}},b=ge();return x.createElement(x.Fragment,null,c&&x.createElement(zt,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:Ht.Focusable}),b({ourProps:v,theirProps:a,defaultTag:ch,name:"FocusTrap"}),c&&x.createElement(zt,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:Ht.Focusable}))}let fh=ue(dh),ph=Object.assign(fh,{features:Zt});function gh(e=!0){let t=T(vt.slice());return Zn(([n],[r])=>{r===!0&&n===!1&&lr(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=vt.slice())},[e,vt,t]),D(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function mh(e,{ownerDocument:t}){let n=!!(e&8),r=gh(n);Zn(()=>{n||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&Rt(r())},[n]),oo(()=>{n&&Rt(r())})}function hh(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:o}){let i=T(null),l=ur(!!(e&1),"focus-trap#initial-focus"),s=io();return Zn(()=>{if(e===0)return;if(!l){o!=null&&o.current&&Rt(o.current);return}let a=n.current;a&&lr(()=>{if(!s.current)return;let u=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===u){i.current=u;return}}else if(a.contains(u)){i.current=u;return}if(r!=null&&r.current)Rt(r.current);else{if(e&16){if(nt(a,Te.First|Te.AutoFocus)!==tn.Error)return}else if(nt(a,Te.First)!==tn.Error)return;if(o!=null&&o.current&&(Rt(o.current),(t==null?void 0:t.activeElement)===o.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}i.current=t==null?void 0:t.activeElement})},[o,l,e]),i}function vh(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:o}){let i=io(),l=!!(e&4);al(t==null?void 0:t.defaultView,"focus",s=>{if(!l||!i.current)return;let a=uc(r);We(n.current)&&a.add(n.current);let u=o.current;if(!u)return;let d=s.target;We(d)?cc(a,d)?(o.current=d,Rt(d)):(s.preventDefault(),s.stopPropagation(),Rt(u)):Rt(o.current)},!0)}function cc(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function dc(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:pc)!==de||x.Children.count(e.children)===1}let lo=he(null);lo.displayName="TransitionContext";var bh=(e=>(e.Visible="visible",e.Hidden="hidden",e))(bh||{});function _h(){let e=ne(lo);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function wh(){let e=ne(so);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let so=he(null);so.displayName="NestingContext";function ao(e){return"children"in e?ao(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function fc(e,t){let n=Je(e),r=T([]),o=io(),i=Kt(),l=D((c,g=Mt.Hidden)=>{let h=r.current.findIndex(({el:v})=>v===c);h!==-1&&(ye(g,{[Mt.Unmount](){r.current.splice(h,1)},[Mt.Hidden](){r.current[h].state="hidden"}}),i.microTask(()=>{var v;!ao(r)&&o.current&&((v=n.current)==null||v.call(n))}))}),s=D(c=>{let g=r.current.find(({el:h})=>h===c);return g?g.state!=="visible"&&(g.state="visible"):r.current.push({el:c,state:"visible"}),()=>l(c,Mt.Unmount)}),a=T([]),u=T(Promise.resolve()),d=T({enter:[],leave:[]}),f=D((c,g,h)=>{a.current.splice(0),t&&(t.chains.current[g]=t.chains.current[g].filter(([v])=>v!==c)),t==null||t.chains.current[g].push([c,new Promise(v=>{a.current.push(v)})]),t==null||t.chains.current[g].push([c,new Promise(v=>{Promise.all(d.current[g].map(([b,_])=>_)).then(()=>v())})]),g==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>h(g)):h(g)}),p=D((c,g,h)=>{Promise.all(d.current[g].splice(0).map(([v,b])=>b)).then(()=>{var v;(v=a.current.shift())==null||v()}).then(()=>h(g))});return I(()=>({children:r,register:s,unregister:l,onStart:f,onStop:p,wait:u,chains:d}),[s,l,r,f,p,d,u])}let pc=de,gc=ot.RenderStrategy;function yh(e,t){var n,r;let{transition:o=!0,beforeEnter:i,afterEnter:l,beforeLeave:s,afterLeave:a,enter:u,enterFrom:d,enterTo:f,entered:p,leave:c,leaveFrom:g,leaveTo:h,...v}=e,[b,_]=O(null),w=T(null),S=dc(e),y=Ce(...S?[w,t,_]:t===null?[]:[t]),C=(n=v.unmount)==null||n?Mt.Unmount:Mt.Hidden,{show:R,appear:N,initial:k}=_h(),[E,A]=O(R?"visible":"hidden"),M=wh(),{register:U,unregister:H}=M;ae(()=>U(w),[U,w]),ae(()=>{if(C===Mt.Hidden&&w.current){if(R&&E!=="visible"){A("visible");return}return ye(E,{hidden:()=>H(w),visible:()=>U(w)})}},[E,w,U,H,R,C]);let L=fr();ae(()=>{if(S&&L&&E==="visible"&&w.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[w,E,L,S]);let Y=k&&!N,fe=N&&R&&k,W=T(!1),te=fc(()=>{W.current||(A("hidden"),H(w))},M),j=D(z=>{W.current=!0;let V=z?"enter":"leave";te.onStart(w,V,ie=>{ie==="enter"?i==null||i():ie==="leave"&&(s==null||s())})}),le=D(z=>{let V=z?"enter":"leave";W.current=!1,te.onStop(w,V,ie=>{ie==="enter"?l==null||l():ie==="leave"&&(a==null||a())}),V==="leave"&&!ao(te)&&(A("hidden"),H(w))});K(()=>{S&&o||(j(R),le(R))},[R,S,o]);let ce=!(!o||!S||!L||Y),[,q]=Jr(ce,b,R,{start:j,end:le}),B=Lt({ref:y,className:((r=ui(v.className,fe&&u,fe&&d,q.enter&&u,q.enter&&q.closed&&d,q.enter&&!q.closed&&f,q.leave&&c,q.leave&&!q.closed&&g,q.leave&&q.closed&&h,!q.transition&&R&&p))==null?void 0:r.trim())||void 0,...Xr(q)}),we=0;E==="visible"&&(we|=$e.Open),E==="hidden"&&(we|=$e.Closed),R&&E==="hidden"&&(we|=$e.Opening),!R&&E==="visible"&&(we|=$e.Closing);let Se=ge();return x.createElement(so.Provider,{value:te},x.createElement(ro,{value:we},Se({ourProps:B,theirProps:v,defaultTag:pc,features:gc,visible:E==="visible",name:"Transition.Child"})))}function Sh(e,t){let{show:n,appear:r=!1,unmount:o=!0,...i}=e,l=T(null),s=dc(e),a=Ce(...s?[l,t]:t===null?[]:[t]);fr();let u=cn();if(n===void 0&&u!==null&&(n=(u&$e.Open)===$e.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[d,f]=O(n?"visible":"hidden"),p=fc(()=>{n||f("hidden")}),[c,g]=O(!0),h=T([n]);ae(()=>{c!==!1&&h.current[h.current.length-1]!==n&&(h.current.push(n),g(!1))},[h,n]);let v=I(()=>({show:n,appear:r,initial:c}),[n,r,c]);ae(()=>{n?f("visible"):!ao(p)&&l.current!==null&&f("hidden")},[n,p]);let b={unmount:o},_=D(()=>{var y;c&&g(!1),(y=e.beforeEnter)==null||y.call(e)}),w=D(()=>{var y;c&&g(!1),(y=e.beforeLeave)==null||y.call(e)}),S=ge();return x.createElement(so.Provider,{value:p},x.createElement(lo.Provider,{value:v},S({ourProps:{...b,as:de,children:x.createElement(mc,{ref:a,...b,...i,beforeEnter:_,beforeLeave:w})},theirProps:{},defaultTag:de,features:gc,visible:d==="visible",name:"Transition"})))}function Fh(e,t){let n=ne(lo)!==null,r=cn()!==null;return x.createElement(x.Fragment,null,!n&&r?x.createElement(yi,{ref:t,...e}):x.createElement(mc,{ref:t,...e}))}let yi=ue(Sh),mc=ue(yh),vl=ue(Fh),Ch=Object.assign(yi,{Child:vl,Root:yi});var xh=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(xh||{}),Eh=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(Eh||{});let Ph={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},bl=he(null);bl.displayName="DialogContext";function uo(e){let t=ne(bl);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,uo),n}return t}function $h(e,t){return ye(t.type,Ph,e,t)}let ks=ue(function(e,t){let n=Ee(),{id:r=`headlessui-dialog-${n}`,open:o,onClose:i,initialFocus:l,role:s="dialog",autoFocus:a=!0,__demoMode:u=!1,unmount:d=!1,...f}=e,p=T(!1);s=function(){return s==="dialog"||s==="alertdialog"?s:(p.current||(p.current=!0,console.warn(`Invalid role [${s}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let c=cn();o===void 0&&c!==null&&(o=(c&$e.Open)===$e.Open);let g=T(null),h=Ce(g,t),v=Ot(g),b=o?0:1,[_,w]=Tt($h,{titleId:null,descriptionId:null,panelRef:Ti()}),S=D(()=>i(!1)),y=D(q=>w({type:0,id:q})),C=fr()?b===0:!1,[R,N]=Bm(),k={get current(){var q;return(q=_.panelRef.current)!=null?q:g.current}},E=ac(),{resolveContainers:A}=ah({mainTreeNode:E,portals:R,defaultContainers:[k]}),M=c!==null?(c&$e.Closing)===$e.Closing:!1;ol(u||M?!1:C,{allowed:D(()=>{var q,B;return[(B=(q=g.current)==null?void 0:q.closest("[data-headlessui-portal]"))!=null?B:null]}),disallowed:D(()=>{var q;return[(q=E==null?void 0:E.closest("body > *:not(#headlessui-portal-root)"))!=null?q:null]})});let U=An.get(null);ae(()=>{if(C)return U.actions.push(r),()=>U.actions.pop(r)},[U,r,C]);let H=_e(U,ee(q=>U.selectors.isTop(q,r),[U,r]));sl(H,A,q=>{q.preventDefault(),S()}),lh(H,v==null?void 0:v.defaultView,q=>{q.preventDefault(),q.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),S()}),ul(u||M?!1:C,v,A),il(C,g,S);let[L,Y]=gu(),fe=I(()=>[{dialogState:b,close:S,setTitleId:y,unmount:d},_],[b,_,S,y,d]),W=I(()=>({open:b===0}),[b]),te={ref:h,id:r,role:s,tabIndex:-1,"aria-modal":u?void 0:b===0?!0:void 0,"aria-labelledby":_.titleId,"aria-describedby":L,unmount:d},j=!sh(),le=Zt.None;C&&!u&&(le|=Zt.RestoreFocus,le|=Zt.TabLock,a&&(le|=Zt.AutoFocus),j&&(le|=Zt.InitialFocus));let ce=ge();return x.createElement(Ju,null,x.createElement(Os,{force:!0},x.createElement(hl,null,x.createElement(bl.Provider,{value:fe},x.createElement(tc,{target:g},x.createElement(Os,{force:!1},x.createElement(Y,{slot:W},x.createElement(N,null,x.createElement(ph,{initialFocus:l,initialFocusFallback:g,containers:A,features:le},x.createElement(hu,{value:S},ce({ourProps:te,theirProps:f,slot:W,defaultTag:Rh,features:Ah,visible:b===0,name:"Dialog"})))))))))))}),Rh="div",Ah=ot.RenderStrategy|ot.Static;function Oh(e,t){let{transition:n=!1,open:r,...o}=e,i=cn(),l=e.hasOwnProperty("open")||i!==null,s=e.hasOwnProperty("onClose");if(!l&&!s)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!l)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!s)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!i&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!o.static?x.createElement(Is,null,x.createElement(Ch,{show:r,transition:n,unmount:o.unmount},x.createElement(ks,{ref:t,...o}))):x.createElement(Is,null,x.createElement(ks,{ref:t,open:r,...o}))}let Th="div";function Nh(e,t){let n=Ee(),{id:r=`headlessui-dialog-panel-${n}`,transition:o=!1,...i}=e,[{dialogState:l,unmount:s},a]=uo("Dialog.Panel"),u=Ce(t,a.panelRef),d=I(()=>({open:l===0}),[l]),f=D(v=>{v.stopPropagation()}),p={ref:u,id:r,onClick:f},c=o?vl:de,g=o?{unmount:s}:{},h=ge();return x.createElement(c,{...g},h({ourProps:p,theirProps:i,slot:d,defaultTag:Th,name:"Dialog.Panel"}))}let Ih="div";function kh(e,t){let{transition:n=!1,...r}=e,[{dialogState:o,unmount:i}]=uo("Dialog.Backdrop"),l=I(()=>({open:o===0}),[o]),s={ref:t,"aria-hidden":!0},a=n?vl:de,u=n?{unmount:i}:{},d=ge();return x.createElement(a,{...u},d({ourProps:s,theirProps:r,slot:l,defaultTag:Ih,name:"Dialog.Backdrop"}))}let Lh="h2";function Dh(e,t){let n=Ee(),{id:r=`headlessui-dialog-title-${n}`,...o}=e,[{dialogState:i,setTitleId:l}]=uo("Dialog.Title"),s=Ce(t);K(()=>(l(r),()=>l(null)),[r,l]);let a=I(()=>({open:i===0}),[i]),u={ref:s,id:r};return ge()({ourProps:u,theirProps:o,slot:a,defaultTag:Lh,name:"Dialog.Title"})}let Mh=ue(Oh),gr=ue(Nh),mr=ue(kh),hr=ue(Dh),vr=Object.assign(Mh,{Panel:gr,Title:hr,Description:el});var Ls;let Gh=(Ls=x.startTransition)!=null?Ls:function(e){e()};var Bh=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Bh||{}),Vh=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.SetButtonElement=4]="SetButtonElement",e[e.SetPanelElement=5]="SetPanelElement",e))(Vh||{});let Hh={0:e=>({...e,disclosureState:ye(e.disclosureState,{0:1,1:0})}),1:e=>e.disclosureState===1?e:{...e,disclosureState:1},2(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},3(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}},4(e,t){return e.buttonElement===t.element?e:{...e,buttonElement:t.element}},5(e,t){return e.panelElement===t.element?e:{...e,panelElement:t.element}}},_l=he(null);_l.displayName="DisclosureContext";function wl(e){let t=ne(_l);if(t===null){let n=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,wl),n}return t}let yl=he(null);yl.displayName="DisclosureAPIContext";function hc(e){let t=ne(yl);if(t===null){let n=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,hc),n}return t}let Sl=he(null);Sl.displayName="DisclosurePanelContext";function zh(){return ne(Sl)}function Uh(e,t){return ye(t.type,Hh,e,t)}let jh=de;function Wh(e,t){let{defaultOpen:n=!1,...r}=e,o=T(null),i=Ce(t,fu(h=>{o.current=h},e.as===void 0||e.as===de)),l=Tt(Uh,{disclosureState:n?0:1,buttonElement:null,panelElement:null,buttonId:null,panelId:null}),[{disclosureState:s,buttonId:a},u]=l,d=D(h=>{u({type:1});let v=It(o);if(!v||!a)return;let b=h?ut(h)?h:"current"in h&&ut(h.current)?h.current:v.getElementById(a):v.getElementById(a);b==null||b.focus()}),f=I(()=>({close:d}),[d]),p=I(()=>({open:s===0,close:d}),[s,d]),c={ref:i},g=ge();return x.createElement(_l.Provider,{value:l},x.createElement(yl.Provider,{value:f},x.createElement(hu,{value:d},x.createElement(ro,{value:ye(s,{0:$e.Open,1:$e.Closed})},g({ourProps:c,theirProps:r,slot:p,defaultTag:jh,name:"Disclosure"})))))}let qh="button";function Kh(e,t){let n=Ee(),{id:r=`headlessui-disclosure-button-${n}`,disabled:o=!1,autoFocus:i=!1,...l}=e,[s,a]=wl("Disclosure.Button"),u=zh(),d=u===null?!1:u===s.panelId,f=T(null),p=Ce(f,t,D(k=>{if(!d)return a({type:4,element:k})}));K(()=>{if(!d)return a({type:2,buttonId:r}),()=>{a({type:2,buttonId:null})}},[r,a,d]);let c=D(k=>{var E;if(d){if(s.disclosureState===1)return;switch(k.key){case Z.Space:case Z.Enter:k.preventDefault(),k.stopPropagation(),a({type:0}),(E=s.buttonElement)==null||E.focus();break}}else switch(k.key){case Z.Space:case Z.Enter:k.preventDefault(),k.stopPropagation(),a({type:0});break}}),g=D(k=>{switch(k.key){case Z.Space:k.preventDefault();break}}),h=D(k=>{var E;Zi(k.currentTarget)||o||(d?(a({type:0}),(E=s.buttonElement)==null||E.focus()):a({type:0}))}),{isFocusVisible:v,focusProps:b}=Nt({autoFocus:i}),{isHovered:_,hoverProps:w}=qt({isDisabled:o}),{pressed:S,pressProps:y}=sr({disabled:o}),C=I(()=>({open:s.disclosureState===0,hover:_,active:S,disabled:o,focus:v,autofocus:i}),[s,_,S,v,o,i]),R=Yr(e,s.buttonElement),N=it(d?{ref:p,type:R,disabled:o||void 0,autoFocus:i,onKeyDown:c,onClick:h}:{ref:p,id:r,type:R,"aria-expanded":s.disclosureState===0,"aria-controls":s.panelElement?s.panelId:void 0,disabled:o||void 0,autoFocus:i,onKeyDown:c,onKeyUp:g,onClick:h},b,w,y);return ge()({ourProps:N,theirProps:l,slot:C,defaultTag:qh,name:"Disclosure.Button"})}let Yh="div",Xh=ot.RenderStrategy|ot.Static;function Jh(e,t){let n=Ee(),{id:r=`headlessui-disclosure-panel-${n}`,transition:o=!1,...i}=e,[l,s]=wl("Disclosure.Panel"),{close:a}=hc("Disclosure.Panel"),[u,d]=O(null),f=Ce(t,D(_=>{Gh(()=>s({type:5,element:_}))}),d);K(()=>(s({type:3,panelId:r}),()=>{s({type:3,panelId:null})}),[r,s]);let p=cn(),[c,g]=Jr(o,u,p!==null?(p&$e.Open)===$e.Open:l.disclosureState===0),h=I(()=>({open:l.disclosureState===0,close:a}),[l.disclosureState,a]),v={ref:f,id:r,...Xr(g)},b=ge();return x.createElement(Ju,null,x.createElement(Sl.Provider,{value:l.panelId},b({ourProps:v,theirProps:i,slot:h,defaultTag:Yh,features:Xh,visible:c,name:"Disclosure.Panel"})))}let Qh=ue(Wh),Ar=ue(Kh),Or=ue(Jh),Vo=Object.assign(Qh,{Button:Ar,Panel:Or}),Zh="div";function e0(e,t){let n=`headlessui-control-${Ee()}`,[r,o]=tl(),[i,l]=gu(),s=Yt(),{disabled:a=s||!1,...u}=e,d=I(()=>({disabled:a}),[a]),f={ref:t,disabled:a||void 0,"aria-disabled":a||void 0},p=ge();return x.createElement(Jf,{value:a},x.createElement(o,{value:r},x.createElement(l,{value:i},x.createElement(cp,{id:n},p({ourProps:f,theirProps:{...u,children:x.createElement(sp,null,typeof u.children=="function"?u.children(d):u.children)},slot:d,defaultTag:Zh,name:"Field"})))))}let tt=ue(e0),t0="input";function n0(e,t){let n=Ee(),r=ar(),o=Yt(),{id:i=r||`headlessui-input-${n}`,disabled:l=o||!1,autoFocus:s=!1,invalid:a=!1,...u}=e,d=un(),f=qr(),{isFocused:p,focusProps:c}=Nt({autoFocus:s}),{isHovered:g,hoverProps:h}=qt({isDisabled:l}),v=it({ref:t,id:i,"aria-labelledby":d,"aria-describedby":f,"aria-invalid":a?"true":void 0,disabled:l||void 0,autoFocus:s},c,h),b=I(()=>({disabled:l,invalid:a,hover:g,focus:p,autofocus:s}),[l,a,g,p,s]);return ge()({ourProps:v,theirProps:u,slot:b,defaultTag:t0,name:"Input"})}let Ct=ue(n0);function r0(e,t){let n=T({left:0,top:0});if(ae(()=>{if(!t)return;let o=t.getBoundingClientRect();o&&(n.current=o)},[e,t]),t==null||!e||t===document.activeElement)return!1;let r=t.getBoundingClientRect();return r.top!==n.current.top||r.left!==n.current.left}let Ds=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Ms(e){var t,n;let r=(t=e.innerText)!=null?t:"",o=e.cloneNode(!0);if(!We(o))return r;let i=!1;for(let s of o.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))s.remove(),i=!0;let l=i?(n=o.innerText)!=null?n:"":r;return Ds.test(l)&&(l=l.replace(Ds,"")),l}function o0(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(o=>{let i=document.getElementById(o);if(i){let l=i.getAttribute("aria-label");return typeof l=="string"?l.trim():Ms(i).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return Ms(e).trim()}function i0(e){let t=T(""),n=T("");return D(()=>{let r=e.current;if(!r)return"";let o=r.innerText;if(t.current===o)return n.current;let i=o0(r).trim().toLowerCase();return t.current=o,n.current=i,i})}var l0=Object.defineProperty,s0=(e,t,n)=>t in e?l0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Gs=(e,t,n)=>(s0(e,typeof t!="symbol"?t+"":t,n),n),Le=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Le||{}),_t=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(_t||{}),Si=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Si||{}),vc=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOptions=5]="RegisterOptions",e[e.UnregisterOptions=6]="UnregisterOptions",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetOptionsElement=8]="SetOptionsElement",e[e.SortOptions=9]="SortOptions",e))(vc||{});function Bs(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=Gt(t(e.options.slice()),i=>i.dataRef.current.domRef.current),o=n?r.indexOf(n):null;return o===-1&&(o=null),{options:r,activeOptionIndex:o}}let a0={1(e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,pendingFocus:{focus:re.Nothing},listboxState:1,__demoMode:!1}},0(e,t){if(e.dataRef.current.disabled||e.listboxState===0)return e;let n=e.activeOptionIndex,{isSelected:r}=e.dataRef.current,o=e.options.findIndex(i=>r(i.dataRef.current.value));return o!==-1&&(n=o),{...e,pendingFocus:t.focus,listboxState:0,activeOptionIndex:n,__demoMode:!1}},2(e,t){var n,r,o,i,l;if(e.dataRef.current.disabled||e.listboxState===1)return e;let s={...e,searchQuery:"",activationTrigger:(n=t.trigger)!=null?n:1,__demoMode:!1};if(t.focus===re.Nothing)return{...s,activeOptionIndex:null};if(t.focus===re.Specific)return{...s,activeOptionIndex:e.options.findIndex(d=>d.id===t.id)};if(t.focus===re.Previous){let d=e.activeOptionIndex;if(d!==null){let f=e.options[d].dataRef.current.domRef,p=_n(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:c=>c.id,resolveDisabled:c=>c.dataRef.current.disabled});if(p!==null){let c=e.options[p].dataRef.current.domRef;if(((r=f.current)==null?void 0:r.previousElementSibling)===c.current||((o=c.current)==null?void 0:o.previousElementSibling)===null)return{...s,activeOptionIndex:p}}}}else if(t.focus===re.Next){let d=e.activeOptionIndex;if(d!==null){let f=e.options[d].dataRef.current.domRef,p=_n(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:c=>c.id,resolveDisabled:c=>c.dataRef.current.disabled});if(p!==null){let c=e.options[p].dataRef.current.domRef;if(((i=f.current)==null?void 0:i.nextElementSibling)===c.current||((l=c.current)==null?void 0:l.nextElementSibling)===null)return{...s,activeOptionIndex:p}}}}let a=Bs(e),u=_n(t,{resolveItems:()=>a.options,resolveActiveIndex:()=>a.activeOptionIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled});return{...s,...a,activeOptionIndex:u}},3:(e,t)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),o=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find(l=>{var s;return!l.dataRef.current.disabled&&((s=l.dataRef.current.textValue)==null?void 0:s.startsWith(r))}),i=o?e.options.indexOf(o):-1;return i===-1||i===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:i,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5:(e,t)=>{let n=e.options.concat(t.options),r=e.activeOptionIndex;if(e.pendingFocus.focus!==re.Nothing&&(r=_n(e.pendingFocus,{resolveItems:()=>n,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:o=>o.id,resolveDisabled:o=>o.dataRef.current.disabled})),e.activeOptionIndex===null){let{isSelected:o}=e.dataRef.current;if(o){let i=n.findIndex(l=>o==null?void 0:o(l.dataRef.current.value));i!==-1&&(r=i)}}return{...e,options:n,activeOptionIndex:r,pendingFocus:{focus:re.Nothing},pendingShouldSort:!0}},6:(e,t)=>{let n=e.options,r=[],o=new Set(t.options);for(let[i,l]of n.entries())if(o.has(l.id)&&(r.push(i),o.delete(l.id),o.size===0))break;if(r.length>0){n=n.slice();for(let i of r.reverse())n.splice(i,1)}return{...e,options:n,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.optionsElement===t.element?e:{...e,optionsElement:t.element},9:e=>e.pendingShouldSort?{...e,...Bs(e),pendingShouldSort:!1}:e},u0=class bc extends nl{constructor(t){super(t),Gs(this,"actions",{onChange:n=>{let{onChange:r,compare:o,mode:i,value:l}=this.state.dataRef.current;return ye(i,{0:()=>r==null?void 0:r(n),1:()=>{let s=l.slice(),a=s.findIndex(u=>o(u,n));return a===-1?s.push(n):s.splice(a,1),r==null?void 0:r(s)}})},registerOption:To(()=>{let n=[],r=new Set;return[(o,i)=>{r.has(i)||(r.add(i),n.push({id:o,dataRef:i}))},()=>(r.clear(),this.send({type:5,options:n.splice(0)}))]}),unregisterOption:To(()=>{let n=[];return[r=>n.push(r),()=>{this.send({type:6,options:n.splice(0)})}]}),goToOption:To(()=>{let n=null;return[(r,o)=>{n={type:2,...r,trigger:o}},()=>n&&this.send(n)]}),closeListbox:()=>{this.send({type:1})},openListbox:n=>{this.send({type:0,focus:n})},selectActiveOption:()=>{if(this.state.activeOptionIndex!==null){let{dataRef:n,id:r}=this.state.options[this.state.activeOptionIndex];this.actions.onChange(n.current.value),this.send({type:2,focus:re.Specific,id:r})}},selectOption:n=>{let r=this.state.options.find(o=>o.id===n);r&&this.actions.onChange(r.dataRef.current.value)},search:n=>{this.send({type:3,value:n})},clearSearch:()=>{this.send({type:4})},setButtonElement:n=>{this.send({type:7,element:n})},setOptionsElement:n=>{this.send({type:8,element:n})}}),Gs(this,"selectors",{activeDescendantId(n){var r;let o=n.activeOptionIndex,i=n.options;return o===null||(r=i[o])==null?void 0:r.id},isActive(n,r){var o;let i=n.activeOptionIndex,l=n.options;return i!==null?((o=l[i])==null?void 0:o.id)===r:!1},shouldScrollIntoView(n,r){return n.__demoMode||n.listboxState!==0||n.activationTrigger===0?!1:this.isActive(n,r)}}),this.on(5,()=>{requestAnimationFrame(()=>{this.send({type:9})})});{let n=this.state.id,r=An.get(null);this.disposables.add(r.on(rl.Push,o=>{!r.selectors.isTop(o,n)&&this.state.listboxState===0&&this.actions.closeListbox()})),this.on(0,()=>r.actions.push(n)),this.on(1,()=>r.actions.pop(n))}}static new({id:t,__demoMode:n=!1}){return new bc({id:t,dataRef:{current:{}},listboxState:n?0:1,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,buttonElement:null,optionsElement:null,pendingShouldSort:!1,pendingFocus:{focus:re.Nothing},__demoMode:n})}reduce(t,n){return ye(n.type,a0,t,n)}};const _c=he(null);function Fl(e){let t=ne(_c);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,wc),n}return t}function wc({id:e,__demoMode:t=!1}){let n=I(()=>u0.new({id:e,__demoMode:t}),[]);return oo(()=>n.dispose()),n}let co=he(null);co.displayName="ListboxDataContext";function br(e){let t=ne(co);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,br),n}return t}let c0=de;function d0(e,t){let n=Ee(),r=Yt(),{value:o,defaultValue:i,form:l,name:s,onChange:a,by:u,invalid:d=!1,disabled:f=r||!1,horizontal:p=!1,multiple:c=!1,__demoMode:g=!1,...h}=e;const v=p?"horizontal":"vertical";let b=Ce(t),_=ru(i),[w=c?[]:void 0,S]=nu(o,a,_),y=wc({id:n,__demoMode:g}),C=T({static:!1,hold:!1}),R=T(new Map),N=bu(u),k=ee(ce=>ye(E.mode,{[_t.Multi]:()=>w.some(q=>N(q,ce)),[_t.Single]:()=>N(w,ce)}),[w]),E=I(()=>({value:w,disabled:f,invalid:d,mode:c?_t.Multi:_t.Single,orientation:v,onChange:S,compare:N,isSelected:k,optionsPropsRef:C,listRef:R}),[w,f,d,c,v,S,N,k,C,R]);ae(()=>{y.state.dataRef.current=E},[E]);let A=_e(y,ce=>ce.listboxState),M=An.get(null),U=_e(M,ee(ce=>M.selectors.isTop(ce,n),[M,n])),[H,L]=_e(y,ce=>[ce.buttonElement,ce.optionsElement]);sl(U,[H,L],(ce,q)=>{y.send({type:vc.CloseListbox}),Cu(q,ll.Loose)||(ce.preventDefault(),H==null||H.focus())});let Y=I(()=>({open:A===Le.Open,disabled:f,invalid:d,value:w}),[A,f,d,w]),[fe,W]=tl({inherit:!0}),te={ref:b},j=ee(()=>{if(_!==void 0)return S==null?void 0:S(_)},[S,_]),le=ge();return x.createElement(W,{value:fe,props:{htmlFor:H==null?void 0:H.id},slot:{open:A===Le.Open,disabled:f}},x.createElement(Yu,null,x.createElement(_c.Provider,{value:y},x.createElement(co.Provider,{value:E},x.createElement(ro,{value:ye(A,{[Le.Open]:$e.Open,[Le.Closed]:$e.Closed})},s!=null&&w!=null&&x.createElement(au,{disabled:f,data:{[s]:w},form:l,onReset:j}),le({ourProps:te,theirProps:h,slot:Y,defaultTag:c0,name:"Listbox"}))))))}let f0="button";function p0(e,t){let n=Ee(),r=ar(),o=br("Listbox.Button"),i=Fl("Listbox.Button"),{id:l=r||`headlessui-listbox-button-${n}`,disabled:s=o.disabled||!1,autoFocus:a=!1,...u}=e,d=Ce(t,Wu(),i.actions.setButtonElement),f=Pm(),[p,c,g]=_e(i,L=>[L.listboxState,L.buttonElement,L.optionsElement]),h=p===Le.Open;Pu(h,{trigger:c,action:ee(L=>{if(c!=null&&c.contains(L.target))return Et.Ignore;let Y=L.target.closest('[role="option"]:not([data-disabled])');return We(Y)?Et.Select(Y):g!=null&&g.contains(L.target)?Et.Ignore:Et.Close},[c,g]),close:i.actions.closeListbox,select:i.actions.selectActiveOption});let v=D(L=>{switch(L.key){case Z.Enter:op(L.currentTarget);break;case Z.Space:case Z.ArrowDown:L.preventDefault(),i.actions.openListbox({focus:o.value?re.Nothing:re.First});break;case Z.ArrowUp:L.preventDefault(),i.actions.openListbox({focus:o.value?re.Nothing:re.Last});break}}),b=D(L=>{switch(L.key){case Z.Space:L.preventDefault();break}}),_=D(L=>{var Y;if(L.button===0){if(Zi(L.currentTarget))return L.preventDefault();i.state.listboxState===Le.Open?(De(()=>i.actions.closeListbox()),(Y=i.state.buttonElement)==null||Y.focus({preventScroll:!0})):(L.preventDefault(),i.actions.openListbox({focus:re.Nothing}))}}),w=D(L=>L.preventDefault()),S=un([l]),y=qr(),{isFocusVisible:C,focusProps:R}=Nt({autoFocus:a}),{isHovered:N,hoverProps:k}=qt({isDisabled:s}),{pressed:E,pressProps:A}=sr({disabled:s}),M=I(()=>({open:p===Le.Open,active:E||p===Le.Open,disabled:s,invalid:o.invalid,value:o.value,hover:N,focus:C,autofocus:a}),[p,o.value,s,N,C,E,o.invalid,a]),U=_e(i,L=>L.listboxState===Le.Open),H=it(f(),{ref:d,id:l,type:Yr(e,c),"aria-haspopup":"listbox","aria-controls":g==null?void 0:g.id,"aria-expanded":U,"aria-labelledby":S,"aria-describedby":y,disabled:s||void 0,autoFocus:a,onKeyDown:v,onKeyUp:b,onKeyPress:w,onPointerDown:_},R,k,A);return ge()({ourProps:H,theirProps:u,slot:M,defaultTag:f0,name:"Listbox.Button"})}let yc=he(!1),g0="div",m0=ot.RenderStrategy|ot.Static;function h0(e,t){let n=Ee(),{id:r=`headlessui-listbox-options-${n}`,anchor:o,portal:i=!1,modal:l=!0,transition:s=!1,...a}=e,u=ju(o),[d,f]=O(null);u&&(i=!0);let p=br("Listbox.Options"),c=Fl("Listbox.Options"),[g,h,v,b]=_e(c,z=>[z.listboxState,z.buttonElement,z.optionsElement,z.__demoMode]),_=Ot(h),w=Ot(v),S=cn(),[y,C]=Jr(s,d,S!==null?(S&$e.Open)===$e.Open:g===Le.Open);il(y,h,c.actions.closeListbox);let R=b?!1:l&&g===Le.Open;ul(R,w);let N=b?!1:l&&g===Le.Open;ol(N,{allowed:ee(()=>[h,v],[h,v])});let k=g!==Le.Open,E=r0(k,h)?!1:y,A=y&&g===Le.Closed,M=Hr(A,p.value),U=D(z=>p.compare(M,z)),H=_e(c,z=>{var V;if(u==null||!((V=u==null?void 0:u.to)!=null&&V.includes("selection")))return null;let ie=z.options.findIndex(be=>U(be.dataRef.current.value));return ie===-1&&(ie=0),ie}),L=(()=>{if(u==null)return;if(H===null)return{...u,inner:void 0};let z=Array.from(p.listRef.current.values());return{...u,inner:{listRef:{current:z},index:H}}})(),[Y,fe]=Ku(L),W=qu(),te=Ce(t,u?Y:null,c.actions.setOptionsElement,f),j=Kt();K(()=>{var z;let V=v;V&&g===Le.Open&&V!==((z=It(V))==null?void 0:z.activeElement)&&(V==null||V.focus({preventScroll:!0}))},[g,v]);let le=D(z=>{var V,ie;switch(j.dispose(),z.key){case Z.Space:if(c.state.searchQuery!=="")return z.preventDefault(),z.stopPropagation(),c.actions.search(z.key);case Z.Enter:if(z.preventDefault(),z.stopPropagation(),c.state.activeOptionIndex!==null){let{dataRef:be}=c.state.options[c.state.activeOptionIndex];c.actions.onChange(be.current.value)}p.mode===_t.Single&&(De(()=>c.actions.closeListbox()),(V=c.state.buttonElement)==null||V.focus({preventScroll:!0}));break;case ye(p.orientation,{vertical:Z.ArrowDown,horizontal:Z.ArrowRight}):return z.preventDefault(),z.stopPropagation(),c.actions.goToOption({focus:re.Next});case ye(p.orientation,{vertical:Z.ArrowUp,horizontal:Z.ArrowLeft}):return z.preventDefault(),z.stopPropagation(),c.actions.goToOption({focus:re.Previous});case Z.Home:case Z.PageUp:return z.preventDefault(),z.stopPropagation(),c.actions.goToOption({focus:re.First});case Z.End:case Z.PageDown:return z.preventDefault(),z.stopPropagation(),c.actions.goToOption({focus:re.Last});case Z.Escape:z.preventDefault(),z.stopPropagation(),De(()=>c.actions.closeListbox()),(ie=c.state.buttonElement)==null||ie.focus({preventScroll:!0});return;case Z.Tab:z.preventDefault(),z.stopPropagation(),De(()=>c.actions.closeListbox()),ng(c.state.buttonElement,z.shiftKey?Te.Previous:Te.Next);break;default:z.key.length===1&&(c.actions.search(z.key),j.setTimeout(()=>c.actions.clearSearch(),350));break}}),ce=_e(c,z=>{var V;return(V=z.buttonElement)==null?void 0:V.id}),q=I(()=>({open:g===Le.Open}),[g]),B=it(u?W():{},{id:r,ref:te,"aria-activedescendant":_e(c,c.selectors.activeDescendantId),"aria-multiselectable":p.mode===_t.Multi?!0:void 0,"aria-labelledby":ce,"aria-orientation":p.orientation,onKeyDown:le,role:"listbox",tabIndex:g===Le.Open?0:void 0,style:{...a.style,...fe,"--button-width":ci(h,!0).width},...Xr(C)}),we=ge(),Se=I(()=>p.mode===_t.Multi?p:{...p,isSelected:U},[p,U]);return x.createElement(hl,{enabled:i?e.static||y:!1,ownerDocument:_},x.createElement(co.Provider,{value:Se},we({ourProps:B,theirProps:a,slot:q,defaultTag:g0,features:m0,visible:E,name:"Listbox.Options"})))}let v0="div";function b0(e,t){let n=Ee(),{id:r=`headlessui-listbox-option-${n}`,disabled:o=!1,value:i,...l}=e,s=ne(yc)===!0,a=br("Listbox.Option"),u=Fl("Listbox.Option"),d=_e(u,E=>u.selectors.isActive(E,r)),f=a.isSelected(i),p=T(null),c=i0(p),g=Je({disabled:o,value:i,domRef:p,get textValue(){return c()}}),h=Ce(t,p,E=>{E?a.listRef.current.set(r,E):a.listRef.current.delete(r)}),v=_e(u,E=>u.selectors.shouldScrollIntoView(E,r));ae(()=>{if(v)return st().requestAnimationFrame(()=>{var E,A;(A=(E=p.current)==null?void 0:E.scrollIntoView)==null||A.call(E,{block:"nearest"})})},[v,p]),ae(()=>{if(!s)return u.actions.registerOption(r,g),()=>u.actions.unregisterOption(r)},[g,r,s]);let b=D(E=>{var A;if(o)return E.preventDefault();u.actions.onChange(i),a.mode===_t.Single&&(De(()=>u.actions.closeListbox()),(A=u.state.buttonElement)==null||A.focus({preventScroll:!0}))}),_=D(()=>{if(o)return u.actions.goToOption({focus:re.Nothing});u.actions.goToOption({focus:re.Specific,id:r})}),w=Ru(),S=D(E=>{w.update(E),!o&&(d||u.actions.goToOption({focus:re.Specific,id:r},Si.Pointer))}),y=D(E=>{w.wasMoved(E)&&(o||d||u.actions.goToOption({focus:re.Specific,id:r},Si.Pointer))}),C=D(E=>{w.wasMoved(E)&&(o||d&&u.actions.goToOption({focus:re.Nothing}))}),R=I(()=>({active:d,focus:d,selected:f,disabled:o,selectedOption:f&&s}),[d,f,o,s]),N=s?{}:{id:r,ref:h,role:"option",tabIndex:o===!0?void 0:-1,"aria-disabled":o===!0?!0:void 0,"aria-selected":f,disabled:void 0,onClick:b,onFocus:_,onPointerEnter:S,onMouseEnter:S,onPointerMove:y,onMouseMove:y,onPointerLeave:C,onMouseLeave:C},k=ge();return!f&&s?null:k({ourProps:N,theirProps:l,slot:R,defaultTag:v0,name:"Listbox.Option"})}let _0=de;function w0(e,t){let{options:n,placeholder:r,...o}=e,i={ref:Ce(t)},l=br("ListboxSelectedOption"),s=I(()=>({}),[]),a=l.value===void 0||l.value===null||l.mode===_t.Multi&&Array.isArray(l.value)&&l.value.length===0,u=ge();return x.createElement(yc.Provider,{value:!0},u({ourProps:i,theirProps:{...o,children:x.createElement(x.Fragment,null,r&&a?r:n)},slot:s,defaultTag:_0,name:"ListboxSelectedOption"}))}let y0=ue(d0),gn=ue(p0),S0=je,mn=ue(h0),Jt=ue(b0),F0=ue(w0),Mn=Object.assign(y0,{Button:gn,Label:S0,Options:mn,Option:Jt,SelectedOption:F0});function C0({onFocus:e}){let[t,n]=O(!0),r=io();return t?x.createElement(zt,{as:"button",type:"button",features:Ht.Focusable,onFocus:o=>{o.preventDefault();let i,l=50;function s(){if(l--<=0){i&&cancelAnimationFrame(i);return}if(e()){if(cancelAnimationFrame(i),!r.current)return;n(!1);return}i=requestAnimationFrame(s)}i=requestAnimationFrame(s)}}):null}const Sc=he(null);function x0(){return{groups:new Map,get(e,t){var n;let r=this.groups.get(e);r||(r=new Map,this.groups.set(e,r));let o=(n=r.get(t))!=null?n:0;r.set(t,o+1);let i=Array.from(r.keys()).indexOf(t);function l(){let s=r.get(t);s>1?r.set(t,s-1):r.delete(t)}return[i,l]}}}function E0({children:e}){let t=T(x0());return Ge(Sc.Provider,{value:t},e)}function Fc(e){let t=ne(Sc);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let n=Ee(),[r,o]=t.current.get(e,n);return K(()=>o,[]),r}var P0=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(P0||{}),$0=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))($0||{}),R0=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(R0||{});let A0={0(e,t){var n;let r=Gt(e.tabs,d=>d.current),o=Gt(e.panels,d=>d.current),i=r.filter(d=>{var f;return!((f=d.current)!=null&&f.hasAttribute("disabled"))}),l={...e,tabs:r,panels:o};if(t.index<0||t.index>r.length-1){let d=ye(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>ye(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(i.length===0)return l;let f=ye(d,{0:()=>r.indexOf(i[0]),1:()=>r.indexOf(i[i.length-1])});return{...l,selectedIndex:f===-1?e.selectedIndex:f}}let s=r.slice(0,t.index),a=[...r.slice(t.index),...s].find(d=>i.includes(d));if(!a)return l;let u=(n=r.indexOf(a))!=null?n:e.selectedIndex;return u===-1&&(u=e.selectedIndex),{...l,selectedIndex:u}},1(e,t){if(e.tabs.includes(t.tab))return e;let n=e.tabs[e.selectedIndex],r=Gt([...e.tabs,t.tab],i=>i.current),o=e.selectedIndex;return e.info.current.isControlled||(o=r.indexOf(n),o===-1&&(o=e.selectedIndex)),{...e,tabs:r,selectedIndex:o}},2(e,t){return{...e,tabs:e.tabs.filter(n=>n!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:Gt([...e.panels,t.panel],n=>n.current)}},4(e,t){return{...e,panels:e.panels.filter(n=>n!==t.panel)}}},Cl=he(null);Cl.displayName="TabsDataContext";function En(e){let t=ne(Cl);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,En),n}return t}let xl=he(null);xl.displayName="TabsActionsContext";function El(e){let t=ne(xl);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,El),n}return t}function O0(e,t){return ye(t.type,A0,e,t)}let T0="div";function N0(e,t){let{defaultIndex:n=0,vertical:r=!1,manual:o=!1,onChange:i,selectedIndex:l=null,...s}=e;const a=r?"vertical":"horizontal",u=o?"manual":"auto";let d=l!==null,f=Je({isControlled:d}),p=Ce(t),[c,g]=Tt(O0,{info:f,selectedIndex:l??n,tabs:[],panels:[]}),h=I(()=>({selectedIndex:c.selectedIndex}),[c.selectedIndex]),v=Je(i||(()=>{})),b=Je(c.tabs),_=I(()=>({orientation:a,activation:u,...c}),[a,u,c]),w=D(E=>(g({type:1,tab:E}),()=>g({type:2,tab:E}))),S=D(E=>(g({type:3,panel:E}),()=>g({type:4,panel:E}))),y=D(E=>{C.current!==E&&v.current(E),d||g({type:0,index:E})}),C=Je(d?e.selectedIndex:c.selectedIndex),R=I(()=>({registerTab:w,registerPanel:S,change:y}),[]);ae(()=>{g({type:0,index:l??n})},[l]),ae(()=>{if(C.current===void 0||c.tabs.length<=0)return;let E=Gt(c.tabs,A=>A.current);E.some((A,M)=>c.tabs[M]!==A)&&y(E.indexOf(c.tabs[C.current]))});let N={ref:p},k=ge();return x.createElement(E0,null,x.createElement(xl.Provider,{value:R},x.createElement(Cl.Provider,{value:_},_.tabs.length<=0&&x.createElement(C0,{onFocus:()=>{var E,A;for(let M of b.current)if(((E=M.current)==null?void 0:E.tabIndex)===0)return(A=M.current)==null||A.focus(),!0;return!1}}),k({ourProps:N,theirProps:s,slot:h,defaultTag:T0,name:"Tabs"}))))}let I0="div";function k0(e,t){let{orientation:n,selectedIndex:r}=En("Tab.List"),o=Ce(t),i=I(()=>({selectedIndex:r}),[r]),l=e,s={ref:o,role:"tablist","aria-orientation":n};return ge()({ourProps:s,theirProps:l,slot:i,defaultTag:I0,name:"Tabs.List"})}let L0="button";function D0(e,t){var n,r;let o=Ee(),{id:i=`headlessui-tabs-tab-${o}`,disabled:l=!1,autoFocus:s=!1,...a}=e,{orientation:u,activation:d,selectedIndex:f,tabs:p,panels:c}=En("Tab"),g=El("Tab"),h=En("Tab"),[v,b]=O(null),_=T(null),w=Ce(_,t,b);ae(()=>g.registerTab(_),[g,_]);let S=Fc("tabs"),y=p.indexOf(_);y===-1&&(y=S);let C=y===f,R=D(j=>{var le;let ce=j();if(ce===tn.Success&&d==="auto"){let q=(le=It(_))==null?void 0:le.activeElement,B=h.tabs.findIndex(we=>we.current===q);B!==-1&&g.change(B)}return ce}),N=D(j=>{let le=p.map(ce=>ce.current).filter(Boolean);if(j.key===Z.Space||j.key===Z.Enter){j.preventDefault(),j.stopPropagation(),g.change(y);return}switch(j.key){case Z.Home:case Z.PageUp:return j.preventDefault(),j.stopPropagation(),R(()=>nt(le,Te.First));case Z.End:case Z.PageDown:return j.preventDefault(),j.stopPropagation(),R(()=>nt(le,Te.Last))}if(R(()=>ye(u,{vertical(){return j.key===Z.ArrowUp?nt(le,Te.Previous|Te.WrapAround):j.key===Z.ArrowDown?nt(le,Te.Next|Te.WrapAround):tn.Error},horizontal(){return j.key===Z.ArrowLeft?nt(le,Te.Previous|Te.WrapAround):j.key===Z.ArrowRight?nt(le,Te.Next|Te.WrapAround):tn.Error}}))===tn.Success)return j.preventDefault()}),k=T(!1),E=D(()=>{var j;k.current||(k.current=!0,(j=_.current)==null||j.focus({preventScroll:!0}),g.change(y),lr(()=>{k.current=!1}))}),A=D(j=>{j.preventDefault()}),{isFocusVisible:M,focusProps:U}=Nt({autoFocus:s}),{isHovered:H,hoverProps:L}=qt({isDisabled:l}),{pressed:Y,pressProps:fe}=sr({disabled:l}),W=I(()=>({selected:C,hover:H,active:Y,focus:M,autofocus:s,disabled:l}),[C,H,M,Y,s,l]),te=it({ref:w,onKeyDown:N,onMouseDown:A,onClick:E,id:i,role:"tab",type:Yr(e,v),"aria-controls":(r=(n=c[y])==null?void 0:n.current)==null?void 0:r.id,"aria-selected":C,tabIndex:C?0:-1,disabled:l||void 0,autoFocus:s},U,L,fe);return ge()({ourProps:te,theirProps:a,slot:W,defaultTag:L0,name:"Tabs.Tab"})}let M0="div";function G0(e,t){let{selectedIndex:n}=En("Tab.Panels"),r=Ce(t),o=I(()=>({selectedIndex:n}),[n]),i=e,l={ref:r};return ge()({ourProps:l,theirProps:i,slot:o,defaultTag:M0,name:"Tabs.Panels"})}let B0="div",V0=ot.RenderStrategy|ot.Static;function H0(e,t){var n,r,o,i;let l=Ee(),{id:s=`headlessui-tabs-panel-${l}`,tabIndex:a=0,...u}=e,{selectedIndex:d,tabs:f,panels:p}=En("Tab.Panel"),c=El("Tab.Panel"),g=T(null),h=Ce(g,t);ae(()=>c.registerPanel(g),[c,g]);let v=Fc("panels"),b=p.indexOf(g);b===-1&&(b=v);let _=b===d,{isFocusVisible:w,focusProps:S}=Nt(),y=I(()=>({selected:_,focus:w}),[_,w]),C=it({ref:h,id:s,role:"tabpanel","aria-labelledby":(r=(n=f[b])==null?void 0:n.current)==null?void 0:r.id,tabIndex:_?a:-1},S),R=ge();return!_&&((o=u.unmount)==null||o)&&!((i=u.static)!=null&&i)?x.createElement(zt,{"aria-hidden":"true",...C}):R({ourProps:C,theirProps:u,slot:y,defaultTag:B0,features:V0,visible:_,name:"Tabs.Panel"})}let z0=ue(D0),Cc=ue(N0),xc=ue(k0),Ec=ue(G0),Fi=ue(H0),Vs=Object.assign(z0,{Group:Cc,List:xc,Panels:Ec,Panel:Fi}),U0="textarea";function j0(e,t){let n=Ee(),r=ar(),o=Yt(),{id:i=r||`headlessui-textarea-${n}`,disabled:l=o||!1,autoFocus:s=!1,invalid:a=!1,...u}=e,d=un(),f=qr(),{isFocused:p,focusProps:c}=Nt({autoFocus:s}),{isHovered:g,hoverProps:h}=qt({isDisabled:l}),v=it({ref:t,id:i,"aria-labelledby":d,"aria-describedby":f,"aria-invalid":a?"true":void 0,disabled:l||void 0,autoFocus:s},c,h),b=I(()=>({disabled:l,invalid:a,hover:g,focus:p,autofocus:s}),[l,a,g,p,s]);return ge()({ourProps:v,theirProps:u,slot:b,defaultTag:U0,name:"Textarea"})}let W0=ue(j0);function q0({onSecurityKeyChanged:e}){const{securityKey:t,setSecurityKey:n}=ne(Rn),r=T(null),o=T(null);return m(vr,{open:!0,onClose:()=>{},initialFocus:o,children:[m(mr,{className:"dialog-backdrop"}),m("div",{className:"dialog-container",children:m("div",{className:"security-key-section",children:[m("h3",{children:"Security Key:"}),m(Ct,{ref:o,placeholder:"Enter Security Key",className:"security-key-input",type:"text",value:t,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellcheck:!1,onChange:l=>{n(l.currentTarget.value),clearTimeout(r.current),r.current=setTimeout(()=>{e()},500)}})]})})]})}function K0({isMobile:e,columnFilters:t,onSetColumnFilters:n}){var i,l;const r=s=>{const a=t.find(u=>u.id===s);return(a==null?void 0:a.value)||""},o=(s,a)=>{n(u=>{const d=u.filter(f=>f.id!==s);return a&&d.push({id:s,value:a}),d})};return m("div",{className:"filters-section",children:[m("h3",{children:["Filters"," ",m("span",{className:"filters-hint",children:e?"(Comma-seperated keywords)":"(Enter keywords (comma-separated, may include spaces)"}),m("button",{onClick:()=>n([]),className:"clear-filters-btn",children:`Clear${e?"":" Filters"}`})]}),m("div",{className:"filters-grid",children:[m("div",{className:"filter-group",children:[m("label",{children:"Material:"}),m("input",{type:"text",placeholder:"e.g. PLA, PETG",value:String(r("material_type")),onChange:s=>o("material_type",s.target.value),className:"filter-input"})]}),m("div",{className:"filter-group",children:[m("label",{children:"Subtype:"}),m("input",{type:"text",placeholder:"e.g. Plus, High Speed, Pro",value:String(r("material_subtype")),onChange:s=>o("material_subtype",s.target.value),className:"filter-input"})]}),m("div",{className:"filter-group",children:[m("label",{children:"Color:"}),m("input",{type:"text",placeholder:"e.g. Red Matte, Orange",value:String(r("color_name")),onChange:s=>o("color_name",s.target.value),className:"filter-input"})]}),m("div",{className:"filter-group",children:[m("label",{children:"Brand:"}),m("input",{type:"text",placeholder:"e.g. Bambu, Elegoo, Poly",value:String(r("brand")),onChange:s=>o("brand",s.target.value),className:"filter-input"})]}),m("div",{className:"filter-group",children:[m("label",{children:"Note:"}),m("input",{type:"text",placeholder:"e.g. good, art",value:String(r("note")),onChange:s=>o("note",s.target.value),className:"filter-input"})]}),m("div",{className:"filter-group weight-filter",children:[m("label",{children:"Left (g):"}),m("div",{className:"weight-inputs",children:[m("input",{type:"number",placeholder:"Min",value:((i=r("weight_left"))==null?void 0:i.min)||"",onChange:s=>{const a=r("weight_left")||{};o("weight_left",{...a,min:s.target.value?Number(s.target.value):void 0})},className:"weight-input"}),m("span",{children:"-"}),m("input",{type:"number",placeholder:"Max",value:((l=r("weight_left"))==null?void 0:l.max)||"",onChange:s=>{const a=r("weight_left")||{};o("weight_left",{...a,max:s.target.value?Number(s.target.value):void 0})},className:"weight-input"})]})]})]})]})}function fo(){return(fo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Pc(e,t){if(e==null)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(o[n]=e[n]);return o}function Ci(e){var t=T(e),n=T(function(r){t.current&&t.current(r)});return t.current=e,n.current}var Pn=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e<t?t:e},Jn=function(e){return"touches"in e},xi=function(e){return e&&e.ownerDocument.defaultView||self},Hs=function(e,t,n){var r=e.getBoundingClientRect(),o=Jn(t)?function(i,l){for(var s=0;s<i.length;s++)if(i[s].identifier===l)return i[s];return i[0]}(t.touches,n):t;return{left:Pn((o.pageX-(r.left+xi(e).pageXOffset))/r.width),top:Pn((o.pageY-(r.top+xi(e).pageYOffset))/r.height)}},zs=function(e){!Jn(e)&&e.preventDefault()},Pl=x.memo(function(e){var t=e.onMove,n=e.onKey,r=Pc(e,["onMove","onKey"]),o=T(null),i=Ci(t),l=Ci(n),s=T(null),a=T(!1),u=I(function(){var c=function(v){zs(v),(Jn(v)?v.touches.length>0:v.buttons>0)&&o.current?i(Hs(o.current,v,s.current)):h(!1)},g=function(){return h(!1)};function h(v){var b=a.current,_=xi(o.current),w=v?_.addEventListener:_.removeEventListener;w(b?"touchmove":"mousemove",c),w(b?"touchend":"mouseup",g)}return[function(v){var b=v.nativeEvent,_=o.current;if(_&&(zs(b),!function(S,y){return y&&!Jn(S)}(b,a.current)&&_)){if(Jn(b)){a.current=!0;var w=b.changedTouches||[];w.length&&(s.current=w[0].identifier)}_.focus(),i(Hs(_,b,s.current)),h(!0)}},function(v){var b=v.which||v.keyCode;b<37||b>40||(v.preventDefault(),l({left:b===39?.05:b===37?-.05:0,top:b===40?.05:b===38?-.05:0}))},h]},[l,i]),d=u[0],f=u[1],p=u[2];return K(function(){return p},[p]),x.createElement("div",fo({},r,{onTouchStart:d,onMouseDown:d,className:"react-colorful__interactive",ref:o,onKeyDown:f,tabIndex:0,role:"slider"}))}),po=function(e){return e.filter(Boolean).join(" ")},$l=function(e){var t=e.color,n=e.left,r=e.top,o=r===void 0?.5:r,i=po(["react-colorful__pointer",e.className]);return x.createElement("div",{className:i,style:{top:100*o+"%",left:100*n+"%"}},x.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},Me=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n},Y0=function(e){return Z0(Ei(e))},Ei=function(e){return e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?Me(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?Me(parseInt(e.substring(6,8),16)/255,2):1}},X0=function(e){return Q0(J0(e))},$c=function(e){var t=e.s,n=e.v,r=e.a,o=(200-t)*n/100;return{h:Me(e.h),s:Me(o>0&&o<200?t*n/100/(o<=100?o:200-o)*100:0),l:Me(o/2),a:Me(r,2)}},Pi=function(e){var t=$c(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},Ho=function(e){var t=$c(e);return"hsla("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},J0=function(e){var t=e.h,n=e.s,r=e.v,o=e.a;t=t/360*6,n/=100,r/=100;var i=Math.floor(t),l=r*(1-n),s=r*(1-(t-i)*n),a=r*(1-(1-t+i)*n),u=i%6;return{r:Me(255*[r,s,l,l,a,r][u]),g:Me(255*[a,r,r,s,l,l][u]),b:Me(255*[l,l,a,r,r,s][u]),a:Me(o,2)}},Pr=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},Q0=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,i=o<1?Pr(Me(255*o)):"";return"#"+Pr(t)+Pr(n)+Pr(r)+i},Z0=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,i=Math.max(t,n,r),l=i-Math.min(t,n,r),s=l?i===t?(n-r)/l:i===n?2+(r-t)/l:4+(t-n)/l:0;return{h:Me(60*(s<0?s+6:s)),s:Me(i?l/i*100:0),v:Me(i/255*100),a:o}},ev=x.memo(function(e){var t=e.hue,n=e.onChange,r=po(["react-colorful__hue",e.className]);return x.createElement("div",{className:r},x.createElement(Pl,{onMove:function(o){n({h:360*o.left})},onKey:function(o){n({h:Pn(t+360*o.left,0,360)})},"aria-label":"Hue","aria-valuenow":Me(t),"aria-valuemax":"360","aria-valuemin":"0"},x.createElement($l,{className:"react-colorful__hue-pointer",left:t/360,color:Pi({h:t,s:100,v:100,a:1})})))}),tv=x.memo(function(e){var t=e.hsva,n=e.onChange,r={backgroundColor:Pi({h:t.h,s:100,v:100,a:1})};return x.createElement("div",{className:"react-colorful__saturation",style:r},x.createElement(Pl,{onMove:function(o){n({s:100*o.left,v:100-100*o.top})},onKey:function(o){n({s:Pn(t.s+100*o.left,0,100),v:Pn(t.v-100*o.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Me(t.s)+"%, Brightness "+Me(t.v)+"%"},x.createElement($l,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:Pi(t)})))}),Rc=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0},nv=function(e,t){return e.toLowerCase()===t.toLowerCase()||Rc(Ei(e),Ei(t))};function rv(e,t,n){var r=Ci(n),o=O(function(){return e.toHsva(t)}),i=o[0],l=o[1],s=T({color:t,hsva:i});K(function(){if(!e.equal(t,s.current.color)){var u=e.toHsva(t);s.current={hsva:u,color:t},l(u)}},[t,e]),K(function(){var u;Rc(i,s.current.hsva)||e.equal(u=e.fromHsva(i),s.current.color)||(s.current={hsva:i,color:u},r(u))},[i,e,r]);var a=ee(function(u){l(function(d){return Object.assign({},d,u)})},[]);return[i,a]}var ov=typeof window<"u"?pt:K,iv=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},Us=new Map,lv=function(e){ov(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!Us.has(t)){var n=t.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,Us.set(t,n);var r=iv();r&&n.setAttribute("nonce",r),t.head.appendChild(n)}},[])},sv=function(e){var t=e.className,n=e.hsva,r=e.onChange,o={backgroundImage:"linear-gradient(90deg, "+Ho(Object.assign({},n,{a:0}))+", "+Ho(Object.assign({},n,{a:1}))+")"},i=po(["react-colorful__alpha",t]),l=Me(100*n.a);return x.createElement("div",{className:i},x.createElement("div",{className:"react-colorful__alpha-gradient",style:o}),x.createElement(Pl,{onMove:function(s){r({a:s.left})},onKey:function(s){r({a:Pn(n.a+s.left)})},"aria-label":"Alpha","aria-valuetext":l+"%","aria-valuenow":l,"aria-valuemin":"0","aria-valuemax":"100"},x.createElement($l,{className:"react-colorful__alpha-pointer",left:n.a,color:Ho(n)})))},av=function(e){var t=e.className,n=e.colorModel,r=e.color,o=r===void 0?n.defaultColor:r,i=e.onChange,l=Pc(e,["className","colorModel","color","onChange"]),s=T(null);lv(s);var a=rv(n,o,i),u=a[0],d=a[1],f=po(["react-colorful",t]);return x.createElement("div",fo({},l,{ref:s,className:f}),x.createElement(tv,{hsva:u,onChange:d}),x.createElement(ev,{hue:u.h,onChange:d}),x.createElement(sv,{hsva:u,onChange:d,className:"react-colorful__last-control"}))},uv={defaultColor:"0001",toHsva:Y0,fromHsva:X0,equal:nv},cv=function(e){return x.createElement(av,fo({},e,{colorModel:uv}))};function dv(e){return Object.keys(e.printers).length===0}const fv=`material,filament_info,temp_min,temp_high
ABS,GFB99,240,280
ABS-GF,GFB50,240,280
ABS-S,GFS06,240,270
ASA,GFB98,240,280
ASA-AERO,GFB02,240,280
ASA-CF,GFB51,240,280
BVOH,GFS97,190,240
EVA,GFR99,190,240
HIPS,GFS98,220,270
PA,GFN99,260,300
PA-CF,GFN98,260,300
PA-GF,GFN08,260,300
PA-S,GFS01,260,300
PA6-CF,GFN05,260,300
PC,GFC99,260,290
PCTG,GFG97,220,260
PE,GFP99,190,240
PE-CF,GFP98,190,240
PET-CF,GFT01,220,260
PETG,GFG99,220,260
PETG-CF,GFG98,220,260
PHA,GFR98,190,240
PLA,GFL99,190,240
PLA-AERO,GFA11,190,240
PLA-CF,GFL98,190,240
PLA-S,GFS00,190,240
PP,GFP97,220,250
PP-CF,GFP96,220,250
PP-GF,GFP95,220,250
PPA-CF,GFN97,280,320
PPA-GF,GFN96,280,320
PPS,GFT97,300,340
PPS-CF,GFT98,300,340
PVA,GFS99,190,240
TPU,GFU99,200,250
TPU-AMS,GFU98,200,250
`,pv=["PLA","PETG","ABS","TPU","ASA",...fv.split(`
`).slice(1).map(e=>e.split(",")[0].trim()).filter(e=>e.length>0)],gv=`Beige,F5F5DCFF
Black,000000FF
Blue,0000FFFF
Brown,8B4513FF
Cyan,00FFFFFF
Dark Blue,00008BFF
Dark Green,006400FF
Dark Red,8B0000FF
Gray,808080FF
Green,008000FF
Light Blue,ADD8E6FF
Light Green,90EE90FF
Light Red,FF7F7FFF
Magenta,FF00FFFF
Olive,808000FF
Orange,FFA500FF
Pink,EE79A8FF
Purple,800080FF
Red,FF0000FF
Teal,008080FF
Violet,EE82EEFF
White,FFFFFFFF
Yellow,FFFF00FF
Gold,FFD700FF
Silver,C0C0C0FF
Light Wood,A5886EFF,
Wood,705A4EFF,
Dark Wood,56413E,
Bronze,7B6245FF,
Copper,8F4D2EFF,
`,Un=location.hostname==="localhost"||location.hostname==="127.0.0.1"||location.hostname==="192.168.10.114",jn=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),rt=e=>{const t=e.startsWith("/")?"":"/";return(Un&&jn?"http://192.168.10.49":"")+t+e};function pn(e){const t=e.trim();if(t==="")return null;const n=Number(t);return isNaN(n)?null:n}function js(e){const t=e.length===8?e.slice(0,6):e;let n=parseInt(t.slice(0,2),16)/255,r=parseInt(t.slice(2,4),16)/255,o=parseInt(t.slice(4,6),16)/255;const i=Math.max(n,r,o),l=Math.min(n,r,o);let s=0,a=0,u=(i+l)/2;if(i!==l){const d=i-l;switch(a=u>.5?d/(2-i-l):d/(i+l),i){case n:s=((r-o)/d+(r<o?6:0))/6;break;case r:s=((o-n)/d+2)/6;break;case o:s=((n-r)/d+4)/6;break}}return{h:s*360,s:a*100,l:u*100}}function mv(e,t){if(e==="00000000")return 1;if(t==="00000000")return-1;const n=js(e),r=js(t),o=n.s<15,i=r.s<15;if(o&&!i)return 1;if(!o&&i)return-1;if(o&&i){if(n.l!==r.l)return n.l-r.l;const a=parseInt(e.slice(6,8),16),u=parseInt(t.slice(6,8),16);return a-u}if(n.h!==r.h)return n.h-r.h;if(n.s!==r.s)return n.s-r.s;if(n.l!==r.l)return n.l-r.l;const l=parseInt(e.slice(6,8),16),s=parseInt(t.slice(6,8),16);return l-s}function hv({children:e,title:t,message:n,onConfirm:r,confirmText:o="Confirm",cancelText:i="Cancel"}){const[l,s]=O(!1);return m(de,{children:[m("span",{onClick:()=>s(!0),children:e}),m(vr,{open:l,onClose:()=>s(!1),className:"fixed inset-0 z-50 flex items-center justify-center",children:[m(mr,{className:"dialog-backdrop"}),m("div",{className:"p-4 rounded shadow max-w-lg w-full",children:m(gr,{className:"spool-dialog-panel",children:[m(hr,{className:"dialog-title",children:[t,m(Oe,{onClick:()=>s(!1),className:"p-1.5 hover:bg-base-200 rounded-md transition-colors",type:"button",children:m(Mi,{className:"w-4 h-4"})})]}),m(el,{className:"dialog-description text-warning ",children:n}),m("div",{className:"mt-4 flex justify-end gap-2",children:[m("button",{className:"btn btn-outline",onClick:()=>s(!1),children:i}),m("button",{className:"btn btn-primary",onClick:()=>{r(),s(!1)},children:o})]})]})})]})]})}const Ws=[{label:"Unspecified",value:""},{label:"Full Unused",value:"y"},{label:"Used",value:"n"}],$i=[{label:"Unspecified",grams:0},{label:"1kg",grams:1e3},{label:"200g",grams:200},{label:"250g",grams:250},{label:"500g",grams:500},{label:"750g",grams:750},{label:"800g",grams:800},{label:"900g/2lbs",grams:900},{label:"1.1kg",grams:1100},{label:"2kg",grams:2e3},{label:"5lbs",grams:2268},{label:"2.5kg",grams:2500},{label:"3kg",grams:3e3}],Ri=e=>{const t=e||0,n=$i.find(r=>r.grams===t);return n?n.label:"Unspecified"};function vv(e){return e.trim().split(`
`).map((t,n)=>{const[r,o]=t.split(",");return{id:n+1,rgba:o,name:r}}).sort((t,n)=>t.name.localeCompare(n.name))}const Gn=vv(gv);function bv(e){const t={printers:{}};for(const[n,r]of Object.entries(e.printers))for(const[o,i]of Object.entries(r.extruders))for(const[l,s]of Object.entries(i.diameters))for(const[a,u]of Object.entries(s.nozzles))u!==null&&(t.printers[n]||(t.printers[n]={extruders:{}}),t.printers[n].extruders[o]||(t.printers[n].extruders[o]={diameters:{}}),t.printers[n].extruders[o].diameters[l]||(t.printers[n].extruders[o].diameters[l]={nozzles:{}}),t.printers[n].extruders[o].diameters[l].nozzles[a]=u);return t}function _v({isMobile:e,info:t,materials:n,cores:r,slicerFilaments:o,filamentBrands:i,unsortedFilamentBrands:l,onSave:s,onCancel:a,onAddSimilar:u,onAddNew:d,onRefresh:f}){var wr,Ln;const[p,c]=O({id:"",tagId:"",rgba:"000000FF",colorName:"",material:"",subtype:"",brand:"",label:Ri(null),labelGrams:null,coreGrams:null,note:"",slicerFilamentCode:"",fullUnused:""});K(()=>{kn()},[p]);const[g,h]=O(""),[v,b]=O(!1),[_,w]=O(""),[S,y]=O({}),C=T(null),[R,N]=O(""),[k,E]=O(""),[A,M]=O(""),U=Gn.filter(P=>P.name.toLowerCase().includes(A.toLowerCase())),[H,L]=O(0),[Y,fe]=O(0),[W,te]=O(0),[j,le]=O({}),[ce,q]=O({}),[B,we]=O(!1),[Se,z]=O({printers:{}}),[V,ie]=O({printers:{}}),be=async P=>{if(!p.slicerFilamentCode){q({}),le({});return}try{const G=rt("api/printers-filament-pa"),se={slicer_filament_code:P},Ye=await(await encryptedFetch(G,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)})).json();le(Ye.printers),we(!0)}catch{console.log("Error fetching printers filaments pressure advancee")}};K(()=>{(async()=>await be(p.slicerFilamentCode))()},[p.slicerFilamentCode]);const go=async P=>{if(!p.id){ie({printers:{}});return}try{const G=rt("api/spool-kinfo"),se={id:P},Ye=await(await encryptedFetch(G,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)})).json();Ye.k_info?(z(Ye.k_info),ie(structuredClone(Ye.k_info)),we(!0)):ie({printers:{}})}catch(G){ie({printers:{}}),console.log("Error fetching kinfo for spool",G)}};K(()=>{(async()=>await go(p.id))()},[p.id]),K(()=>{if(B){const P=yv(j,Se);q(P),we(!1)}},[B]);const mo=T(null);K(()=>{t.open&&t.spool?c(t.spool):t.open&&t.mode==="add"&&c({id:"",tagId:"",rgba:"000000FF",colorName:"",material:"",subtype:"",brand:"",label:Ri(null),labelGrams:null,coreGrams:null,note:"",slicerFilamentCode:"",fullUnused:""}),y({})},[t.open,t.spool,t.mode]),K(()=>{const P=G=>{C.current&&!C.current.contains(G.target)&&b(!1)};return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[]);const _r=P=>/^([A-Fa-f0-9]{6}|[A-Fa-f0-9]{8})$/.test(P),Xt=P=>{const G=P.startsWith("#")?P.slice(1).toUpperCase():P.toUpperCase();return G.length===6?G+"FF":G},kn=()=>{},ke=P=>{c(G=>({...G,rgba:P}))},ho=P=>{const G=Xt(P);c(se=>({...se,rgba:G}))},vo=P=>{const G=$i.find(se=>se.label===P);c(se=>({...se,label:P,labelGrams:(G==null?void 0:G.grams)||0}))},F=P=>{c(G=>({...G,fullUnused:P}))},$=()=>{const P=Gn.find(G=>G.name===p.colorName);P&&c(G=>({...G,rgba:P.rgba}))},Q=r.filter(P=>P.name.toLowerCase().includes(g.toLowerCase())),me=o.filter(P=>P.name.toLowerCase().includes(R.toLowerCase())),Ae=i.filter(P=>P.displayName.toLowerCase().startsWith(k.toLowerCase())),He=n.filter(P=>P.toLowerCase().includes(_.toLowerCase())),qe=P=>{const se=o.find(kt=>kt.code===P).name.toLowerCase(),Ye=l.find(kt=>se.toLowerCase().startsWith(kt.displayName.toLowerCase()))||l.find(kt=>se.toLowerCase().includes(kt.displayName.toLowerCase()));return(Ye==null?void 0:Ye.fillName)??null},ve=()=>{const P={};{if(_r(p.rgba)?c(se=>({...se,rgba:Xt(se.rgba).toUpperCase()})):P.rgba="Invalid hex color format",p.material.trim()||(P.material="Material is required"),p.labelGrams||(P.labelGrams="Label W. Required"),Object.keys(P).length>0){y(P);return}y({})}const G=dv(V)?null:V;s({...p,rgba:Xt(p.rgba).toUpperCase()},G)},Ue=_r(p.rgba)?p.rgba.substring(0,8):"000000FF",Re=!1,Ke=t.tray_id?t.tray_id<998:!1,Fe=t.tray_id?t.tray_id===-1:!1,Ie=t.complete==="successDone";return m(vr,{open:t.open,onClose:()=>{},initialFocus:mo,children:[m(mr,{className:"dialog-backdrop"}),m("div",{className:"dialog-container",children:m(gr,{className:"spool-dialog-panel w-[32.2rem] h-[58.2rem]",children:[m(hr,{className:"dialog-title",children:[t.mode==="add"?"Add a New Spool":t.mode==="edit"?"Edit Spool Information":"Edit Encode Information",t.mode=="encode"&&m(Oe,{className:"btn",onClick:()=>f(),children:"Refresh"}),t.mode!=="encode"&&m(Oe,{onClick:a,className:"p-1.5 hover:bg-base-200 rounded-md transition-colors",type:"button",children:m(Mi,{className:"w-4 h-4"})})]}),Fe&&m("div",{className:"form-error",children:"Encode flow not started â€” start in console, then refresh."}),m(Cc,{selectedIndex:W,onChange:te,className:"flex flex-col flex-1 xxxoverflow-auto",children:[m(xc,{className:"tab-list",children:[m(Vs,{className:"tab-button",children:"Filament Info"}),m(Vs,{className:"tab-button",children:"PA Profile (K)"})]}),m(Ec,{className:"tab-panels-container",children:[m(Fi,{className:"h-full",children:m("div",{className:"spool-form",children:[m("div",{className:"form-row grid-cols-2",children:[m(tt,{className:"form-field",children:[m(je,{className:"form-label",children:"ID"}),m(Ct,{className:"form-input",value:p.id,readOnly:!0,disabled:!0})]}),m(tt,{className:"form-field",children:[m(je,{className:"form-label",children:"Tag ID"}),m(Ct,{className:"form-input",value:p.tagId,readOnly:!0,disabled:!0})]})]}),m(tt,{className:"form-field",children:[m(je,{className:"form-label",children:"Slicer Filament"}),m(Mn,{value:p.slicerFilamentCode||"",onChange:P=>{const G=qe(p.slicerFilamentCode),se=!p.brand||p.brand===G?qe(P):p.brand;c(gt=>({...gt,material:o.find(Ye=>Ye.code===P).material,slicerFilamentCode:P,brand:se}))},children:m("div",{className:"relative",children:[m(gn,{tabindex:0,disabled:Fe||Re||Ke||Ie,className:"listbox-button  w-full flex items-center justify-between",children:[m("span",{className:"flex-1 text-left",children:p.slicerFilamentCode?((wr=o.find(P=>P.code===p.slicerFilamentCode))==null?void 0:wr.name)||"Unknown":"Select slicer filament..."}),m(ht,{className:"listbox-icon"})]}),m(mn,{className:"listbox-options max-h-130",children:[m("div",{className:"listbox-search",children:m(Ct,{className:"form-input",placeholder:"Type to filter filaments...",value:R,onKeyDown:P=>{P.key===" "&&P.stopPropagation()},onChange:P=>N(P.target.value)})}),me.map(P=>m(Jt,{value:P.code,className:"listbox-option",children:[P.name," "]},P.code))]})]})})]}),m("div",{className:"form-row grid-cols-[1fr_9rem]",children:[m(tt,{className:"form-field",children:[m(je,{className:"form-label",children:"Filament Brand"}),m("div",{className:"flex",children:m(Ns,{value:p.brand,onChange:P=>{const G=i.find(se=>se.displayName===P);c(se=>({...se,brand:G.fillName}))},children:({open:P})=>m("div",{className:"listbox-container",children:[m(bi,{disabled:Fe||Re||Ie,className:"form-input",value:p.brand,onKeyDown:G=>{G.key==="Backspace"&&L(H+Gn.length)},onChange:G=>{const se=G.target.value;E(se),fe(Y+i.length),c(gt=>({...gt,brand:se}))},placeholder:"Enter/select filament brand"}),m(vi,{disabled:Fe||Re||Ie,className:"combobox-button",children:m(ht,{className:"listbox-icon"})}),m(_i,{className:"listbox-options max-h-110",children:Ae.map(G=>m(wi,{value:G.displayName,className:"listbox-option",children:m("div",{className:"flex items-center gap-2",children:G.displayName})},G.displayName+H))})]})})})]}),m(tt,{className:"form-field",children:[m(je,{className:"form-label",children:"Label Weight*"}),m(Mn,{value:p.label,onChange:vo,children:m("div",{className:"listbox-container",children:[m(gn,{tabindex:0,disabled:Fe||Re||Ie,className:`listbox-button ${S.labelGrams?"form-input-error":""}`,children:[m("span",{className:"listbox-selected",children:p.label}),m(ht,{className:"listbox-icon"})]}),m(mn,{className:"listbox-options max-h-60",children:$i.map(P=>m(Jt,{value:P.label,className:"listbox-option",children:P.label},P.label))})]})})]})]}),m("div",{className:"fields-section !mb-4",children:m("div",{className:"form-row grid-cols-[11rem_1fr]",children:[m(tt,{className:"form-field",children:[m(je,{className:"form-label",children:"Material *"}),m(Mn,{value:p.material,onChange:P=>c(G=>({...G,material:P})),children:m("div",{className:"listbox-container",children:[m(gn,{tabindex:0,disabled:Fe||Re||Ke||Ie||p.slicerFilamentCode!==""&&![void 0,""].includes(p.material),className:`listbox-button ${S.material?"form-input-error":""}`,children:[m("span",{className:"listbox-selected",children:p.material||"Select material..."}),m(ht,{className:"listbox-icon"})]}),m(mn,{className:"listbox-options max-h-85",children:[m("div",{className:"listbox-search",children:m(Ct,{className:"form-input",placeholder:"Type to filter...",value:_,onChange:P=>w(P.target.value)})}),He.map(P=>m(Jt,{value:P,className:"listbox-option",children:P},P)),_&&!He.includes(_)&&m(Jt,{value:_,className:"listbox-option listbox-option-new",children:['Add "',_,'"']})]})]})})]}),m(tt,{className:"form-field",children:[m(je,{className:"form-label",children:"Subtype"}),m(Ct,{disabled:Fe||Re||Ie,className:"form-input",autocorrect:"false",spellcheck:!1,autoCapitalize:"none",value:p.subtype,onChange:P=>c(G=>({...G,subtype:P.target.value})),placeholder:"Enter subtype"})]})]})}),m("div",{className:"fields-section",children:[m("div",{className:"color-preview",children:[m("div",{className:"absolute inset-0",style:{backgroundColor:`#${Ue}`}}),m("div",{className:"color-preview-text",children:"Color Preview"})]}),m("div",{className:"color-controls",children:[m(tt,{className:"form-field",children:[m(je,{className:"form-label",children:"RGBA Color"}),m("div",{className:"color-input-group",children:[m(Ct,{disabled:Fe||Re||Ke||Ie,maxLength:8,className:`form-input z-1 !rounded-r-none !border-r-0  ${S.rgba?"form-input-error !border-r-2":""}`,value:p.rgba,onChange:P=>ke(P.target.value),placeholder:"FF0000FF"}),m(Oe,{disabled:Fe||Re||Ke||Ie,className:"color-picker-button",onClick:()=>b(!v),children:m(td,{className:"color-picker-icon"})}),v&&m("div",{className:"color-picker-container",ref:C,children:m(cv,{color:Ue,onChange:ho})})]})]}),m(tt,{className:"form-field",children:[m(je,{className:"form-label",children:"Color Name"}),m("div",{className:"flex",children:[m(Oe,{disabled:Fe||Re||Ie||Ke,className:"color-set-rgba-button",onClick:$,children:m("div",{class:"relative w-4 h-4",children:[m(Jc,{className:"color-set-rgba-icon absolute top-1/8 left-1/4 -translate-y-1/2"}),m(Xc,{className:"color-set-rgba-icon absolute top-1/4 left-1/8 -translate-x-1/2"})]})}),m(Ns,{value:p.colorName,onChange:P=>{c(G=>({...G,colorName:P}))},children:({open:P})=>m("div",{className:"listbox-container",children:[m(bi,{disabled:Fe||Re||Ie,className:"form-input !rounded-l-none !border-l-0",value:p.colorName,onKeyDown:G=>{if(G.key==="Backspace"&&L(H+Gn.length),G.key==="Enter"&&!P){const se=G.target.value;!Ke&&p.colorName&&se===p.colorName&&$()}},onChange:G=>{const se=G.target.value;M(se),se==""&&L(H+Gn.length),c(gt=>({...gt,colorName:se}))},placeholder:"Enter/select color name"}),m(vi,{disabled:Fe||Re||Ie,className:"combobox-button",children:m(ht,{className:"listbox-icon"})}),m(_i,{className:"listbox-options max-h-48",children:U.map(G=>m(wi,{value:G.name,className:"listbox-option",children:m("div",{className:"flex items-center gap-2",children:[m("div",{className:"w-4 h-4 rounded border border-gray-300 dark:border-gray-600",style:{backgroundColor:`#${G.rgba.slice(0,6)}`}}),G.name]})},G.id+H))})]})})]})]})]})]}),m("div",{className:`form-row ${t.mode!=="encode"?"grid-cols-[9rem_1fr]":""}`,children:[t.mode!=="encode"&&m(tt,{className:"form-field",children:[m(je,{className:"form-label",children:"Full When Added"}),m(Mn,{value:p.fullUnused,onChange:F,children:m("div",{className:"relative",children:[m(gn,{tabindex:0,disabled:Fe||Re||Ie,className:`listbox-button ${S.material?"form-input-error":""}`,children:[m("span",{className:"listbox-selected",children:(Ln=Ws.find(P=>P.value===p.fullUnused))==null?void 0:Ln.label}),m(ht,{className:"listbox-icon"})]}),m(mn,{className:"listbox-options max-h-60",children:Ws.map(P=>m(Jt,{value:P.value,className:"listbox-option",children:P.label},P.value))})]})})]}),m(tt,{className:"form-field",children:[m(je,{className:"form-label",children:"Empty Weight(g)"}),m(Mn,{value:"",onChange:P=>{const G=r.find(se=>se.name===P);G&&c(se=>({...se,coreGrams:G.grams}))},children:m("div",{className:"relative",children:[m("div",{className:"listbox-button child-input-focus-ring  w-full flex items-center",children:[m(Ct,{disabled:Fe||Re||Ie,className:"w-full bg-transparent border-none p-0 m-0 outline-none focus:ring-0 focus:outline-none",value:p.coreGrams||"",onChange:P=>{const G=P.target.value;c(se=>({...se,coreGrams:G?parseInt(G):null}))},placeholder:"Enter weight in grams"}),m(gn,{disabled:Fe||Re||Ie,children:m(ht,{className:"listbox-icon"})})]}),m(mn,{className:"listbox-options max-h-45",children:[m("div",{className:"listbox-search",children:m(Ct,{className:"form-input",placeholder:"Type to filter spool types...",value:g,onChange:P=>h(P.target.value)})}),Q.map(P=>m(Jt,{value:P.name,className:"listbox-option",children:P.name},P.name))]})]})})]})]}),m(tt,{className:"form-field",children:[m(je,{className:"form-label",children:"Note"}),m(W0,{disabled:Fe||Ie,className:"form-note-textarea",value:p.note,onChange:P=>c(G=>({...G,note:P.target.value})),placeholder:"Enter any additional notes...",rows:1})]})]})}),m(Fi,{as:"div",className:"h-full overflow-auto",children:m("div",{className:"pressure-advance-form max-h-[100px]",children:m(wv,{filamentId:p.slicerFilamentCode,printerData:ce,selections:V,onSelectionsChange:ie})})})]})]}),m("div",{className:"dialog-actions",children:t.complete==null||t.complete=="successContinue"?m(de,{children:[m("div",{className:"self-center",children:qs(t,S)}),t.mode!=="encode"&&m(de,{children:[m(Oe,{className:"btn btn-outline",onClick:a,children:"Cancel"}),p.id!=""&&m(Oe,{className:"btn btn-outline",onClick:u,children:"Add Similar"})]}),m(Oe,{className:"btn btn-primary",onClick:ve,disabled:Fe||Ie,children:t.mode==="add"?"Add Spool":"Save Changes"})]}):m(de,{children:[m("div",{className:"self-center text-green-800",children:qs(t,S)}),t.mode==="add"&&m(de,{children:[m(Oe,{className:"btn btn-outline",onClick:u,children:"Add Similar"}),m(Oe,{className:"btn btn-outline",onClick:d,children:"Add New"})]}),m(Oe,{className:"btn btn-primary",onClick:a,children:"Close"})]})})]})})]})}function qs(e,t){var n,r;if(t&&Object.keys(t).length>0)return"âŒ Form Validation Errors";switch(e.complete){case"successContinue":case"successDone":switch(e.mode){case"add":return`âœ… Spool ${(n=e.spool)==null?void 0:n.id} Added`;case"edit":return`âœ… Spool ${(r=e.spool)==null?void 0:r.id} Updated`;case"encode":return"Encode Information Updated"}case"fail":switch(e.mode){case"add":return"âŒ Failed to Add Spool";case"edit":return"âŒ Failed to Update Spool";case"encode":return"âŒ Failed to Update Encode Information"}}}function wv({filamentId:e,printerData:t,selections:n,onSelectionsChange:r}){const i=(()=>{const d={};return Object.entries(t).forEach(([f,p])=>{d[f]={name:p.name,extruders:p.extruders,extruderData:{}},p.pressure_advance.forEach(c=>{d[f].extruderData[c.extruder]||(d[f].extruderData[c.extruder]={}),d[f].extruderData[c.extruder][c.diameter]||(d[f].extruderData[c.extruder][c.diameter]={}),d[f].extruderData[c.extruder][c.diameter][c.nozzle_id]||(d[f].extruderData[c.extruder][c.diameter][c.nozzle_id]=[]),d[f].extruderData[c.extruder][c.diameter][c.nozzle_id].push(c)})}),d})(),l=(d,f,p,c,g)=>{const h={...n};h.printers[d]||(h.printers[d]={extruders:{}}),h.printers[d].extruders[f]||(h.printers[d].extruders[f]={diameters:{}}),h.printers[d].extruders[f].diameters[p]||(h.printers[d].extruders[f].diameters[p]={nozzles:{}});const v=g?{name:g.name,k_value:g.k_value,cali_idx:g.cali_idx,setting_id:g.setting_id}:null;h.printers[d].extruders[f].diameters[p].nozzles[c]=v;const b=bv(h);r(b)},s=(d,f,p,c)=>{var g,h,v,b,_,w,S;return((S=(w=(_=(b=(v=(h=(g=n.printers)==null?void 0:g[d])==null?void 0:h.extruders)==null?void 0:v[f])==null?void 0:b.diameters)==null?void 0:_[p])==null?void 0:w.nozzles)==null?void 0:S[c])||null},a=d=>Object.values(d).some(f=>Object.keys(f).some(p=>p!==""));return m("div",{className:"pressure-advance-container",children:Object.keys(t).length===0?m("div",{className:"empty-state",children:m("p",{className:"no-data-message",children:"No slicer filament selected or no printers available."})}):Object.entries(i).map(([d,f])=>m(Vo,{defaultOpen:!0,children:[m(Ar,{className:"printer-accordion-button",children:[m(ht,{className:"printer-accordion-icon"}),m("span",{className:"printer-accordion-title",children:[f.name," (",d,")"]})]}),m(Or,{className:"printer-accordion-content",children:Object.keys(f.extruderData).length===0?m("div",{className:"no-data-message",children:"No pressure advance profiles available in printer(s) for selected slicer filament."}):m("div",{className:`extruders-container ${f.extruders>1?"multiple-extruders":""}`,children:Object.entries(f.extruderData).map(([p,c])=>m("div",{className:`extruder-section ${f.extruders>1?"extruder-card":""}`,children:[f.extruders>1&&m("h4",{className:"extruder-title",children:["Extruder ",p]}),m("div",{className:"hierarchy-tree",children:Object.entries(c).map(([g,h])=>m(Vo,{defaultOpen:!0,children:m("div",{className:`diameter-section ${f.extruders>1?"inside-extruder":"direct-under-printer"}`,children:[m(Ar,{className:"diameter-disclosure-button",children:[m(ht,{className:"disclosure-icon"}),m("span",{className:"diameter-title",children:["Nozzle Diameter: ",g,"mm"]})]}),m(Or,{className:"diameter-disclosure-content",children:a(c)?Object.entries(h).map(([v,b])=>m(Vo,{defaultOpen:!0,children:m("div",{className:"nozzle-section",children:[m(Ar,{className:"nozzle-disclosure-button",children:[m(ht,{className:"disclosure-icon"}),m("span",{className:"nozzle-title",children:["Nozzle Type:"," ",v||"Default"]})]}),m(Or,{className:"nozzle-disclosure-content",children:m("div",{className:"settings-list",children:b.map((_,w)=>u(w,d,f.name,p,g,"",_,e,f))})})]})},v)):m("div",{className:"settings-list",children:h[""].map((v,b)=>u(b,d,f.name,p,g,"",v,e,f))})})]})},g))})]},p))})})]},d))});function u(d,f,p,c,g,h,v,b,_){const w=s(f,c,g,h),S=(w==null?void 0:w.name)===v.name;return m("label",{className:"setting-item",children:[m("input",{type:"checkbox",checked:S,onChange:y=>{const C=y.target.checked;l(f,c,g,h,C?{name:v.name,k_value:v.k_value,cali_idx:v.cali_idx,setting_id:v.setting_id}:null)},className:"setting-checkbox"}),m("span",{className:`setting-text ${v.spool_only?"setting-text-not-in-printer":""}`,children:[v.name," (K=",v.k_value,")",v.spool_only&&m(de,{children:[" - (Not in printer ",m(hv,{title:"Add This Pressure Advance Setting?",message:m(de,{children:["Printer: ",p," (",f,")",m("br",{}),_.extruders>1&&m(de,{children:["Extruder ID: ",c," ",m("br",{})," "]}),"Nozzle: ",v.diameter," ",m("br",{}),h,"Name: ",v.name,m("br",{}),"K: ",v.k_value,m("br",{}),m("br",{}),"âš ï¸ Important: Check the Documentation for More Info on this!"]}),onConfirm:async()=>{try{const y=rt("api/add-printer-pa"),C={printer_serial:f,filament_id:b,pressure_advance_entry:{extruder:Number(c),diameter:g,nozzle_id:h,name:v.name,k_value:v.k_value,cali_idx:-1,setting_id:v.setting_id}},N=await(await encryptedFetch(y,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)})).json()}catch{console.log("Error fetching printers filaments pressure advancee")}},confirmText:"Yes, Add",cancelText:"NOOO !!!",children:m(Oe,{className:"btn btn-secondary relative -top-[2-px] h-[1.5em] p-1",children:"Add"})}),")"]})]})]},d)}}function yv(e,t){const n={};for(const[o,i]of Object.entries(e))n[o]={name:i.name,extruders:i.extruders,pressure_advance:i.pressure_advance.map(l=>({...l,spool_only:!1}))};function r(o,i,l,s,a){const u=e[o];return u?u.pressure_advance.some(d=>d.extruder===i&&d.diameter===l&&d.nozzle_id===s&&d.name===a):!1}for(const[o,i]of Object.entries(t.printers))for(const[l,s]of Object.entries(i.extruders)){const a=parseInt(l,10);for(const[u,d]of Object.entries(s.diameters))for(const[f,p]of Object.entries(d.nozzles))if(p!==null&&!r(o,a,u,f,p.name)){n[o]||(n[o]={name:`Printer ${o}`,extruders:1,pressure_advance:[]});const c={extruder:a,diameter:u,nozzle_id:f,name:p.name,k_value:p.k_value,spool_only:!0,setting_id:p.setting_id,cali_idx:p.cali_idx};n[o].pressure_advance.push(c)}}return n}function Sv({isMobile:e,info:t,onOk:n,onCancel:r}){return m(vr,{open:t.open,onClose:()=>{},children:[m(mr,{className:"dialog-backdrop"}),m("div",{className:"dialog-container",children:m(gr,{className:"dialog-panel",children:[m(hr,{className:"dialog-title",children:"Delete Spool"}),m(el,{className:"dialog-description text-warning ",children:"Are you sure you want to delete spool"}),t.spool&&m(ni,{spool:t.spool},t.spool.id),m("div",{className:"flex justify-end gap-3 pt-4",children:[m(Oe,{className:"btn btn-outline",onClick:r,children:"NOOO !!!"}),m(Oe,{className:"btn btn-warning",onClick:n,children:"Yes, Delete"})]})]})})]})}function Fv(){const[e,t]=O(!1);return K(()=>{const n=()=>{t(window.innerWidth<768)};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e}function Cv(){const{securityOk:e}=ne(Rn),[t,n]=O([]);return K(()=>{(async()=>{if(!e)return;const r=rt("/spools-catalog"),i=await(await fetch(r)).text(),l=rt("/api/spools-config"),u=(await(await encryptedFetch(l)).json()).spools,c=`Unspecified,0
`+`â•â•â•â• My Spools List â•â•â•â•,0
`+u+`
`+`â•â•â•â• Spools Catalog â•â•â•â•,0
`+i;n(xv(c))})()},[e]),t}function xv(e){var n,r;const t=[];for(const o of e.split(`
`)){const i=o.split(",");for(let l=0;l<i.length-1;l++){const s=(n=i[l])==null?void 0:n.trim(),a=(r=i[l+1])==null?void 0:r.trim(),u=parseInt(a,10);s&&!isNaN(u)&&(t.push({name:s,grams:u}),l++)}}return t}const Ev=`GFA00,Bambu PLA Basic,190,240,PLA
GFA01,Bambu PLA Matte,190,240,PLA
GFA02,Bambu PLA Metal,190,240,PLA
GFA05,Bambu PLA Silk,190,240,PLA
GFA06,Bambu PLA Silk+,190,240,PLA
GFA07,Bambu PLA Marble,190,240,PLA
GFA08,Bambu PLA Sparkle,190,240,PLA
GFA09,Bambu PLA Tough,190,240,PLA
GFA11,Bambu PLA Aero,210,260,PLA-AERO
GFA12,Bambu PLA Glow,190,240,PLA
GFA13,Bambu PLA Dynamic,190,240,PLA
GFA15,Bambu PLA Galaxy,190,240,PLA
GFA16,Bambu PLA Wood,190,240,PLA
GFA17,Bambu PLA Translucent,190,240,PLA
GFA18,Bambu PLA Lite,190,240,PLA
GFA50,Bambu PLA-CF,210,250,PLA-CF
GFB00,Bambu ABS,240,280,ABS
GFB01,Bambu ASA,240,280,ASA
GFB02,Bambu ASA-Aero,240,280,ASA-AERO
GFB50,Bambu ABS-GF,240,280,ABS-GF
GFB51,Bambu ASA-CF,250,280,ASA-CF
GFB60,PolyLite ABS,240,280,ABS
GFB61,PolyLite ASA,240,280,ASA
GFB98,Generic ASA,240,280,ASA
GFB99,Generic ABS,240,280,ABS
GFC00,Bambu PC,260,290,PC
GFC01,Bambu PC FR,260,290,PC
GFC99,Generic PC,260,290,PC
GFG00,Bambu PETG Basic,230,270,PETG
GFG01,Bambu PETG Translucent,230,270,PETG
GFG02,Bambu PETG HF,230,270,PETG
GFG50,Bambu PETG-CF,240,270,PETG-CF
GFG60,PolyLite PETG,220,260,PETG
GFG96,Generic PETG HF,220,270,PETG
GFG97,Generic PCTG,240,270,PCTG
GFG98,Generic PETG-CF,240,270,PETG-CF
GFG99,Generic PETG,220,270,PETG
GFL00,PolyLite PLA,190,240,PLA
GFL01,PolyTerra PLA,190,240,PLA
GFL03,eSUN PLA+,190,240,PLA
GFL04,Overture PLA,190,240,PLA
GFL05,Overture Matte PLA,190,240,PLA
GFL06,Fiberon PETG-ESD,250,290,PETG
GFL50,Fiberon PA6-CF,280,300,PA6-CF
GFL51,Fiberon PA6-GF,280,300,PA-GF
GFL52,Fiberon PA12-CF,260,300,PA-CF
GFL53,Fiberon PA612-CF,260,300,PA
GFL54,Fiberon PET-CF,270,300,PET-CF
GFL55,Fiberon PETG-rCF,240,270,PETG-CF
GFL95,Generic PLA High Speed,190,240,PLA
GFL96,Generic PLA Silk,190,240,PLA
GFL98,Generic PLA-CF,190,240,PLA-CF
GFL99,Generic PLA,190,240,PLA
GFN03,Bambu PA-CF,260,300,PA-CF
GFN04,Bambu PAHT-CF,260,300,PA-CF
GFN05,Bambu PA6-CF,260,300,PA6-CF
GFN06,Bambu PPA-CF,280,320,PPA-CF
GFN07,Bambu PPA-GF,280,320,PPA-GF
GFN08,Bambu PA6-GF,260,300,PA-GF
GFN96,Generic PPA-GF,280,320,PPA-GF
GFN97,Generic PPA-CF,280,320,PPA-CF
GFN98,Generic PA-CF,260,300,PA-CF
GFN99,Generic PA,240,280,PA
GFP95,Generic PP-GF,220,250,PP-GF
GFP96,Generic PP-CF,220,250,PP-CF
GFP97,Generic PP,220,250,PP
GFP98,Generic PE-CF,175,220,PE-CF
GFP99,Generic PE,175,220,PE
GFR98,Generic PHA,190,240,PHA
GFR99,Generic EVA,175,220,EVA
GFS00,Bambu Support W,190,240,PLA-S
GFS01,Bambu Support G,260,300,PA-S
GFS02,Bambu Support For PLA,190,240,PLA-S
GFS03,Bambu Support For PA/PET,260,300,PA-S
GFS04,Bambu PVA,210,250,PVA
GFS05,Bambu Support For PLA/PETG,190,240,PLA-S
GFS06,Bambu Support for ABS,240,270,ABS-S
GFS97,Generic BVOH,190,240,BVOH
GFS98,Generic HIPS,220,270,HIPS
GFS99,Generic PVA,190,240,PVA
GFSNL02,SUNLU PLA Matte,205,245,PLA
GFSNL03,SUNLU PLA+,190,240,PLA
GFSNL04,SUNLU PLA+ 2.0,190,240,PLA
GFSNL05,SUNLU Silk PLA+,190,240,PLA
GFSNL06,SUNLU PLA Marble,190,260,PLA
GFSNL07,SUNLU Wood PLA,195,260,PLA
GFSNL08,SUNLU PETG,230,280,PETG
GFT01,Bambu PET-CF,260,290,PET-CF
GFT02,Bambu PPS-CF,310,340,PPS-CF
GFT97,Generic PPS,300,340,PPS
GFT98,Generic PPS-CF,310,340,PPS-CF
GFU00,Bambu TPU 95A HF,200,250,TPU
GFU01,Bambu TPU 95A,200,250,TPU
GFU02,Bambu TPU for AMS,220,240,TPU-AMS
GFU03,Bambu TPU 90A,200,240,TPU
GFU04,Bambu TPU 85A,200,240,TPU
GFU98,Generic TPU for AMS,200,250,TPU-AMS
GFU99,Generic TPU,200,250,TPU
`;function Pv(){const{securityOk:e}=ne(Rn),[t,n]=O([]);return K(()=>{(async()=>{const r=rt("/api/filaments-config"),l=(await(await encryptedFetch(r)).json()).custom_filaments,s=(d,f)=>d!=null&&d.trim()?d.trim().split(`
`).map(p=>{const[c,g,,,h]=p.trim().split(","),v=c.trim(),b=g.trim(),_=h.trim();return{code:v,name:`${b} ${f}`,material:_}}):[],a=[...s(l," (Custom)"),...s(Ev,"")].sort((d,f)=>d.name.localeCompare(f.name)),u=[{name:"Unspecified / Clear Selection",code:"",material:""},...a];n(u)})()},[e]),t}const Ks=`63,04F7C9182A4B73,PLA,,Blue,0000FFFF,,eSun,1000,220,1222,897,,1749331200
64,04A5D7B63E9F84,PETG,Carbon Fiber,Gray,808080FF,,Polymaker,750,190,940,502,,1749417600
65,04C9F1D78B2E61,TPU,,Yellow,FFFF00FF,Sample spool,Overture,500,150,653,300,,1749504000
66,04B2E8731CAF29,ABS,,Green,008000FF,,Prusament,1000,240,1235,889,,1749590400
67,04D3A7C28F9E10,ASA,UV Resistant,Black,000000CC,Stored in dry box,eSun,1000,230,1227,798,,1749676800
68,04F5C9127B3E91,PLA,,White,FFFFFFFF,,eSun,1000,230,1225,877,,1749763200
69,04A7B6D83F9C28,PETG,,Black,000000FF,,Polymaker,1000,220,1218,630,,1749849600
70,0489F3C2BE1764,TPU,,Blue,0000FFFF,Sample spool,Overture,500,150,648,311,,1749936000
71,04C1E9872D3B40,ABS,,Red,FF0000FF,,Prusament,1000,240,1231,905,,1750022400
72,04D2B7C89F23E7,ASA,UV Resistant,Gray,808080FF,Needs drying,eSun,1000,230,1223,792,,1750108800
73,04F7C183AB4725,Nylon,,Natural,E0E0E0FF,,Taulman,750,200,955,643,,1750195200
74,04A3E9D83B7F46,PVA,,Yellowish,FFFFCCFF,,eSun,500,140,643,291,,1750281600
75,04B2F1C78A3E65,HIPS,,Blue,3366CCFF,,Polymaker,1000,210,1220,890,,1750368000
76,04C5A7E39B5F98,PLA,Silk,Gold,FFD700FF,,eSun,1000,230,1226,803,,1750454400
77,0483F1C67E3D29,PETG,Clear,Transparent,FFFFFFCC,,Prusament,1000,220,1217,720,,1750540800
78,04F8E3B1C2D574,TPU,High Flex,Black,000000FF,Test spool,Overture,500,150,659,344,,1750627200
79,04A9F1D28E7C19,ABS,,Orange,FFA500FF,,eSun,1000,240,1229,870,,1750713600
80,04D1C8723B8F02,ASA,UV Resistant,White,FFFFFFFF,,Polymaker,1000,230,1222,812,,1750800000
81,04C2F1E89B5A94,Nylon,Carbon Fiber,Black,000000FF,,Taulman,750,200,952,620,,1750886400
82,04B7A3D94F3C18,PVA,,Off White,F0F0F0FF,Dissolves fast,eSun,500,140,641,288,,1750972800
83,04F3E9C81B7F27,HIPS,,Pink,FF69B4FF,,Polymaker,1000,210,1218,715,,1751059200
84,04A1F7D62C3D61,PLA,,Blue,0000FFFF,,eSun,1000,230,1227,850,,1751145600
85,04B8E3C74D9F52,PETG,,Green,008000FF,,Prusament,1000,220,1219,745,,1751232000
86,0486C1F83A7B13,TPU,Soft,Clear,FFFFFFCC,,Overture,500,150,650,290,,1751318400
87,04D5A9C93B6F70,ABS,,Brown,A52A2AFF,,eSun,1000,240,1230,820,,1751404800
88,04F9C7E84A1D26,ASA,,Black,000000FF,,Polymaker,1000,230,1225,799,,1751491200
89,04C3F7D92C5E48,Nylon,,Gray,808080FF,Needs enclosure,Taulman,750,200,949,600,,1751577600
90,04B6E8C84B3F57,PVA,,Beige,F5F5DCFF,,eSun,500,140,639,276,,1751664000
91,04F1C9E72D4B19,HIPS,,Blue Violet,8A2BE2FF,,Polymaker,1000,210,1217,680,,1751750400
92,04A4E7F94B8C32,PLA,Matte,Black,000000FF,,eSun,1000,230,1224,860,,1751836800
93,04C8D7B81C5F29,PETG,,Red,FF0000FF,,Polymaker,1000,220,1218,703,,1751923200
94,0487F1D69A3C45,TPU,Shore 95A,Yellow,FFFF00FF,,Overture,500,150,647,301,,1752009600
95,04D4E9C87B6F16,ABS,,Purple,800080FF,,eSun,1000,240,1232,893,,1752096000
96,04B5F7D93C8E04,ASA,,White,FFFFFFFF,Outdoor tested,Polymaker,1000,230,1223,787,,1752182400
97,04F2E3C71D9A17,Nylon,,Natural,E0E0E0FF,,Taulman,750,200,950,605,,1752268800
98,04C7A1E89B5F24,PVA,,Ivory,FFFFF0FF,,eSun,500,140,640,282,,1752355200
99,04B9F1C82C7D36,HIPS,,Cyan,00FFFFFF,,Polymaker,1000,210,1219,700,,1752441600
100,04F6C3D94D5B41,PLA,,Pink,FFC0CBFF,,eSun,1000,230,1226,845,,1752528000
101,04A8E7C71C4F52,PETG,,Orange,FFA500FF,,Prusament,1000,220,1219,720,,1752614400
102,0484F9E83D7A63,TPU,,Black,000000FF,Test spool,Overture,500,150,652,314,,1752700800
103,04D6E1C98B5C74,ABS,,Gray,808080FF,,eSun,1000,240,1231,840,,1752787200
104,04B3C7D84A6E85,ASA,,Blue,0000FFFF,,Polymaker,1000,230,1224,790,,1752873600
105,04F8A3C72D8F96,Nylon,,Black,000000FF,,Taulman,750,200,953,611,,1752960000
106,04C4E7D81C5A07,PVA,,White,FFFFFFCC,,eSun,500,140,642,289,,1753046400
107,04B1F3C93B7B18,HIPS,,Red,FF0000FF,,Polymaker,1000,210,1218,730,,1753132800
108,04F5C9E84C9C29,PLA,High Speed,Green,008000FF,,eSun,1000,230,1225,880,,1753219200
109,04A6D7C71B8D3A,PETG,,Black,000000FF,,Polymaker,1000,220,1217,690,,1753305600
110,0485F1D62C9E4B,TPU,,Clear,FFFFFFCC,,Overture,500,150,651,298,,1753392000
111,04D3C9E71D8F5C,ABS,Plus,Blue,0000FFFF,Needs drying,eSun,1000,240,1229,850,,1753478400
112,04B7F1D82C7A6D,ASA,,Gray,808080FF,,Polymaker,1000,230,1226,800,,1753564800
117,04F4A7D93B6B7E,Nylon,,Natural,E0E0E0FF,,Taulman,750,200,948,612,,1753651200`;function $v(e,t="table-column-config",n){const[r,o]=O(!1),[i,l]=O(null),[s,a]=O(null),[u,d]=O(null),f=I(()=>e.map((y,C)=>({id:y.accessorKey||y.id,header:typeof y.header=="string"?y.header:y.id,visible:!0,order:C,required:y.accessorKey==="id"||y.id==="actions",originalColumn:y})),[e]);K(()=>{try{const y=localStorage.getItem(t);if(y){const C=JSON.parse(y),R=f.map(N=>{const k=C.find(E=>E.id===N.id);return k?{...N,visible:k.visible,order:k.order}:N});R.sort((N,k)=>N.order-k.order),l(R)}else l(f.map(C=>n.find(N=>N===C.id)?{...C,visible:!1}:C))}catch{l(f)}},[f,t]);function p(y){return y.reduce((C,R)=>(C[R.id]=R.visible,C),{})}function c(y){return y.slice().sort((C,R)=>C.order-R.order).map(C=>C.id)}const g=I(()=>i?p(i):{},[i,e]),h=I(()=>i?c(i):[],[i,e]),v=()=>{d(i?[...i]:[...f]),a(i?[...i]:[...f]),o(!0)};return K(()=>{s&&r&&l([...s])},[s,r]),{columnVisibility:g,columnOrder:h,isConfigOpen:r,openConfig:v,saveAndApplyConfig:()=>{if(s)try{const y=s.map(({id:C,visible:R,order:N,required:k})=>({id:C,visible:R,order:N,required:k}));localStorage.setItem(t,JSON.stringify(y)),l([...s]),o(!1)}catch{}},applyTempConfig:()=>{s&&(l([...s]),o(!1))},resetToDefault:()=>{localStorage.removeItem(t);const y=f.map(C=>n.find(N=>N===C.id)?{...C,visible:!1}:C);a(y),l(y),d(y)},discardAndClose:()=>{u&&l([...u]),o(!1),a(null),d(null)},workingConfig:s,setWorkingConfig:a}}function Rv({items:e,onReorder:t,renderItem:n}){const[r,o]=O(null),[i,l]=O(null),s=T(null),a=T(null),u=T(null),d=(f,p)=>{p.preventDefault(),o(f),a.current=f;const c=h=>{if(s.current){const v=Array.from(s.current.children);let b=f;for(let _=0;_<v.length;_++){const w=v[_].getBoundingClientRect(),S=w.top+w.height/2;if(h.clientY<S){b=_;break}b=_+1}b=Math.max(0,Math.min(b,v.length)),l(b),u.current=b}},g=()=>{if(a.current!==null&&u.current!==null&&a.current!==u.current){const h=u.current>a.current?u.current-1:u.current;t(a.current,h)}o(null),l(null),a.current=null,u.current=null,document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",g)};document.addEventListener("mousemove",c),document.addEventListener("mouseup",g)};return m("div",{ref:s,className:"space-y-2",children:[e.map((f,p)=>m("div",{className:`
            relative transition-all duration-200 ease-in-out
            ${r===p?"opacity-60 scale-[0.98] shadow-lg z-10 bg-primary/5 border-primary/20":"hover:shadow-md"}
            ${i===p?"mt-8":""}
            ${i===p+1?"mb-8":""}
          `,style:{transform:r===p?"rotate(2deg)":"none"},children:[i===p&&m("div",{className:"absolute -top-4 left-0 right-0 h-2 bg-primary/20 rounded-full animate-pulse"}),n(f,p,d)]},f.id)),i===e.length&&m("div",{className:"h-2 bg-primary/20 rounded-full animate-pulse"})]})}function Av({isOpen:e,workingConfig:t,setWorkingConfig:n,onSaveAndApply:r,onApplyTemp:o,onReset:i,onClose:l}){if(!t)return null;const s=d=>{n(f=>f?f.map(p=>p.id===d&&!p.required?{...p,visible:!p.visible}:p):[])};return m(vr,{open:e,onClose:l,className:"relative z-50",children:[m(mr,{className:"fixed inset-0 bg-black/10"}),m("div",{className:"columns-dialog-container",children:m(gr,{className:"dialog-panel w-full max-w-md shadow-2xl",children:[m(hr,{className:"dialog-title",children:[m("div",{className:"flex items-center gap-2",children:[m(rd,{className:"w-5 h-5 text-primary"}),"Column Configuration"]}),m("button",{onClick:l,className:"p-1.5 hover:bg-base-200 rounded-md transition-colors",type:"button",children:m(Mi,{className:"w-4 h-4"})})]}),m("div",{className:"space-y-4",children:[m("p",{className:"text-sm text-base-content/70 bg-info/10 p-3 rounded-lg border border-info/20",children:"ðŸ’¡ Toggle column visibility and drag to reorder"}),m("div",{className:"max-h-96 overflow-y-auto",children:m(Rv,{items:t,onReorder:(d,f)=>{d!==f&&n(p=>{if(!p)return[];const c=[...p],[g]=c.splice(d,1);return c.splice(f,0,g),c.map((v,b)=>({...v,order:b}))})},renderItem:(d,f,p)=>m("div",{className:`
      flex items-center gap-3 p-4 pt-1 pb-1 bg-base-100 rounded-lg border border-gray-300 dark:border-gray-600 
      transition-all duration-200 select-none
      ${t&&t[f]&&f===t.findIndex(c=>c.id===d.id)?"hover:bg-base-200 hover:shadow-md cursor-default":"hover:bg-base-200"}
    `,children:[m("div",{onMouseDown:c=>p(f,c),className:"cursor-grab active:cursor-grabbing p-2 hover:bg-base-300 rounded-md transition-colors",style:{touchAction:"none"},children:m(ed,{className:"w-4 h-4 text-base-content/60 hover:text-base-content"})}),m("button",{onClick:()=>s(d.id),disabled:d.required,className:`
          p-2 rounded-md transition-all duration-200
          ${d.required?"opacity-50 cursor-not-allowed":"hover:bg-base-300 cursor-pointer hover:scale-105"}
        `,type:"button",children:d.visible?m(Zc,{className:"w-5 h-5 text-success hover:text-success/80"}):m(Qc,{className:"w-5 h-5 text-base-content/40 hover:text-base-content/60"})}),m("span",{className:`
        flex-1 text-sm font-medium transition-all duration-200
        ${d.visible?"text-base-content":"text-base-content/50"}
        ${d.required?"italic":""}
      `,children:[d.header,d.required&&m("span",{className:"text-xs ml-2 bg-base-300 px-2 py-0.5 rounded-full",children:"required"})]})]})})}),m("div",{className:"dialog-actions-multi-rows",children:[m("div",{className:"dialog-actions-row",children:m(Oe,{onClick:i,className:"btn btn-outline flex-1",children:[m(nd,{className:"w-4 h-4"}),"Reset to Default (Irreversible)"]})}),m("div",{className:"dialog-actions-row",children:[m(Oe,{onClick:l,className:"btn btn-outline",children:"Close"}),m(Oe,{onClick:o,className:"btn btn-outline",children:"Apply for Now"}),m(Oe,{onClick:r,className:"btn btn-primary",children:"Apply & Keep"})]})]})]})]})})]})}function Ov({onClick:e}){return m(Oe,{onClick:e,className:"flex items-center gap-2 px-4 py-2 bg-base-200 text-base-content rounded-lg border border-gray-300 dark:border-gray-600 font-medium transition-all duration-200 hover:bg-base-300 hover:border-gray-400 dark:hover:border-gray-500 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-1",children:"Columns"})}function Tv(){const{securityOk:e}=ne(Rn),[t,n]=O([]),[r,o]=O([]);return K(()=>{(async()=>{if(!e)return;const i=rt("/filament-brands"),s=await(await fetch(i)).text(),a=Nv(s);n(a);const u=Iv(s);o(u)})()},[e]),{filamentBrands:t,unsortedFilamentBrands:r}}function Nv(e){const t=[];for(const n of e.split(/\r?\n/).filter(r=>r.trim()!==""&&!r.startsWith("#")).sort()){const r=n.split(","),o=r[0],i=r.length>1?r[1]:o;t.push({displayName:o,fillName:i})}return t}function Iv(e){const t=[];for(const n of e.split(/\r?\n/).filter(r=>r.trim()!==""&&!r.startsWith("#"))){const r=n.split(","),o=r[0],i=r.length>1?r[1]:o;t.push({displayName:o,fillName:i})}return t}const Ne=wd(),at=(e,t,n)=>{if(!n)return!0;const r=String(e.getValue(t)||"").toLowerCase();return n.toLowerCase().split(",").map(i=>i.trim()).filter(i=>i).some(i=>r.includes(i))},Bn=(e,t,n)=>{if(!n||!n.min&&!n.max)return!0;const r=e.getValue(t);if(r==null)return!1;const o=Number(r);return!(isNaN(o)||n.min!==void 0&&o<n.min||n.max!==void 0&&o>n.max)};function kv(){const e=["consumed_since_add","consumed_since_weight","weight_new"],t=["id","color_code","material_type","color_name","weight_left","actions"],[n,r]=O([]),[o,i]=O(new Map),l=Cv(),s=Pv(),{filamentBrands:a,unsortedFilamentBrands:u}=Tv(),{securityOk:d}=ne(Rn),[f,p]=O("full"),[c,g]=O({open:!1,spool:null}),[h,v]=O({open:!1,mode:"add",spool:null,complete:null}),[b,_]=O([{desc:!0,id:"id"}]),[w,S]=O([]),[y,C]=O({pageIndex:0,pageSize:15}),[R,N]=O(new Set),k=async()=>{const F=await _r(),$=new Blob([F],{type:"text/plain;charset=utf-8;"}),Q=URL.createObjectURL($),me=document.createElement("a");me.href=Q;const Ae=new Date().toISOString().slice(0,19).replace(/[-:]/g,"").replace("T","-");me.download=`SpoolEase-SpoolsBackup-${Ae}.txt`,me.click(),URL.revokeObjectURL(Q)},E=()=>{const F=["id","material_type","material_subtype","color_name","color_code","brand","weight_advertised","weight_core","weight_new","weight_current","weight_left","weight_used","note","tag_id","added_datetime"],$=n.map(qe=>F.map(ve=>_f(qe[ve])).join(",")),Q=[F.join(","),...$].join(`
`),me=new Blob([Q],{type:"text/csv;charset=utf-8;"}),Ae=URL.createObjectURL(me),He=document.createElement("a");He.href=Ae,He.download="spools.csv",He.click(),URL.revokeObjectURL(Ae)},A=Fv();K(()=>{A&&f==="full"&&p("compact"),!A&&f==="compact"&&p("full")},[A]);const M=I(()=>[Ne.accessor("id",{header:"ID",cell:F=>F.getValue(),filterFn:at,sortingFn:(F,$)=>{const Q=parseInt(F.getValue("id"),10),me=parseInt($.getValue("id"),10);return Q-me}}),Ne.accessor("added_datetime",{header:"Added",cell:F=>m("div",{className:"tooltip","data-tip":kr(F.getValue()),children:ti(F.getValue())})}),Ne.accessor("encoded_datetime",{header:"Encoded",cell:F=>m("div",{className:"tooltip","data-tip":kr(F.getValue()),children:ti(F.getValue())})}),Ne.accessor("color_code",{header:"RGBA",cell:F=>{const $=F.getValue();return m("span",{style:{backgroundColor:`#${$.slice(0,6)}`,padding:"0px 4px",borderRadius:"4px",display:"inline-block"},children:$})},sortingFn:(F,$,Q)=>mv(F.getValue(Q),$.getValue(Q)),meta:{getCellProps:F=>{const $=F.getValue();return{style:{background:`
    linear-gradient(to right, rgba(${parseInt($.slice(0,2),16)}, ${parseInt($.slice(2,4),16)}, ${parseInt($.slice(4,6),16)}, ${parseInt($.slice(6,8),16)/255}) 0%, rgba(${parseInt($.slice(0,2),16)}, ${parseInt($.slice(2,4),16)}, ${parseInt($.slice(4,6),16)}, ${parseInt($.slice(6,8),16)/255}) 100%),
    repeating-conic-gradient(#ccc 0% 25%, #fff 0% 50%) 50% / 10px 10px
  `,backgroundSize:"100% 100%, 20px 20px",backgroundPosition:"0 0, 0 0",color:Ba($.slice(0,6)),fontFamily:"monospace"}}}}}),Ne.accessor("material_type",{header:"Material",cell:F=>F.getValue(),filterFn:at}),Ne.accessor("material_subtype",{header:"Subtype",cell:F=>F.getValue(),filterFn:at,sortingFn:dn("material_subtype")}),Ne.accessor("color_name",{header:"Color",cell:F=>F.getValue(),filterFn:at,sortingFn:dn("color_name")}),Ne.accessor("brand",{header:"Brand",cell:F=>F.getValue(),filterFn:at,sortingFn:dn("brand")}),Ne.accessor("slicer_filament_name",{header:"Slicer Filament",cell:F=>F.getValue(),filterFn:at,sortingFn:dn("slicer_filament_name")}),Ne.accessor("location",{header:"Location",cell:F=>F.getValue(),filterFn:at,sortingFn:dn("location")}),Ne.accessor("weight_advertised",{header:"Label",cell:F=>{const $=F.getValue();return ei($,"")},filterFn:Bn}),Ne.accessor("weight_left",{header:"Net",cell:F=>{const $=F.getValue(),Q=F.row.getValue("consumed_since_weight");if($)return`${vn($-Q,1)}g`;const me=F.row.getValue("tag_id"),Ae=F.row.getValue("weight_advertised"),He=!me&&me[0]!=""&&Ae;return $?`${$}g`:He?`(${ei(Ae)})`:""},filterFn:Bn,sortingFn:(F,$)=>{const Q=F.getValue("weight_left"),me=$.getValue("weight_left");if(Q&me)return Q>me?1:-1;const Ae=F.getValue("tag_id"),He=$.getValue("tag_id"),qe=F.getValue("weight_advertised"),ve=$.getValue("weight_advertised"),Ue=!Ae&&Ae[0]!=""&&qe,Re=!He&&He[0]!=""&&ve;return(Q||(Ue?qe:Q))>(me||(Re?ve:me))?1:-1}}),Ne.accessor("weight_current",{header:"Gross",cell:F=>{const $=F.getValue();return $!==null?`${$}g`:""},filterFn:Bn}),Ne.accessor("weight_new",{header:"Full",cell:F=>{const $=F.getValue();return $!==null?`${$}g`:""},filterFn:Bn}),Ne.accessor("weight_used",{header:"Used",cell:F=>{const $=F.getValue(),Q=F.row.getValue("consumed_since_weight");return $!==null?`${vn($+Q,1)}g`:""},filterFn:Bn}),Ne.accessor("consumed_since_add",{header:"Printed Total",cell:F=>parseFloat(F.getValue().toFixed(2)).toString(),filterFn:at}),Ne.accessor("consumed_since_weight",{header:"Printed Since Weight",cell:F=>parseFloat(F.getValue().toFixed(2)).toString(),filterFn:at}),Ne.accessor("note",{header:"Note",cell:F=>m("div",{className:"tooltip w-full","data-tip":F.getValue(),children:m("div",{className:"truncate",children:F.getValue()})}),filterFn:at,meta:{grow:!0},sortingFn:dn("note")}),Ne.accessor("k_setting",{header:"PA(K)",cell:F=>m("div",{className:"text-center",children:[" ",F.getValue()===!0?"âœ“":""]}),filterFn:at}),Ne.accessor("tag_id",{header:"Tag ID",cell:F=>{const $=F.getValue();return $.startsWith("-")?m("span",{className:"line-through",children:$.slice(1)}):$},sortingFn:(F,$)=>{const Q=Ue=>Ue.startsWith("-")?Ue.slice(1):Ue,me=F.getValue("tag_id"),Ae=$.getValue("tag_id"),He=Q(me),qe=Q(Ae),ve=Va(He,qe);return ve!==0?ve:me.startsWith("-")?1:-1}}),{id:"actions",cell:({row:F})=>m("div",{className:"flex gap-3",children:[m(Oe,{className:"cursor-pointer",onClick:()=>g({open:!0,spool:F.original}),children:m(id,{className:"w-[1em] h-[1em] relative top-[1px]"})}),m(Oe,{className:"cursor-pointer",onClick:()=>we(F.original),children:m(od,{className:"w-[1em] h-[1em] relative top-[1px]"})})]})}],[]),{columnVisibility:U,columnOrder:H,isConfigOpen:L,openConfig:Y,saveAndApplyConfig:fe,applyTempConfig:W,resetToDefault:te,discardAndClose:j,workingConfig:le,setWorkingConfig:ce}=$v(M,"spools-column-config",e),q=()=>{v({open:!0,mode:"add",spool:null,complete:null})},B=()=>{v({open:!0,mode:"add",spool:{...h.spool,id:"",tagId:""},complete:null})},we=F=>{const $={id:F.id,tagId:F.tag_id,rgba:F.color_code,colorName:F.color_name,material:F.material_type,subtype:F.material_subtype,brand:F.brand,label:Ri(F.weight_advertised),labelGrams:F.weight_advertised,coreGrams:F.weight_core,note:F.note,slicerFilamentCode:F.slicer_filament,fullUnused:F.full_unused};v({open:!0,mode:"edit",spool:$,complete:null})},Se=()=>{v({open:!1,mode:"add",spool:null,complete:null})},z=(F,$)=>{v(Q=>({...Q,spool:F?{...F,id:$}:null}))},V=()=>{v(F=>({...F,complete:"successDone"}))},ie=async F=>{try{const $=rt("api/spools/delete"),me=await(await encryptedFetch($,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:F})})).text();kn(me,null)}catch($){console.log("Error in deleteSpool: ",$)}},be=async(F,$)=>{try{const Q=rt("api/spools/add-edit"),Ae=await(await encryptedFetch(Q,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:F.id,rgba:F.rgba,color_name:F.colorName,material:F.material,subtype:F.subtype,brand:F.brand,label_weight:Number(F.labelGrams?F.labelGrams:0),core_weight:Number(F.coreGrams?F.coreGrams:0),note:F.note,slicer_filament:F.slicerFilamentCode,full_unused:F.fullUnused,k_info:$})})).json();z(F,Ae.id),kn(Ae.csv,null)}catch(Q){console.log("Error in addEditSpool: ",Q)}},go=async()=>{let F;if(Un&&!jn)F=Ks;else{let $=rt("/api/spools");if(F=await(await encryptedFetch($)).text(),F=="")return}return F},mo=async()=>{let F;if(Un&&!jn)F="{}";else{let $=rt("/api/spools-in-printers");if(F=await(await encryptedFetch($)).text(),F=="")return}return F},_r=async()=>{let F;if(Un&&!jn)F=Ks;else{let $=rt("/api/store-backup");if(F=await(await encryptedFetch($)).text(),F=="")return}return F},Xt=async()=>{let F;try{F=await go()}catch(Q){return console.error("Failed to fetch spools data:",Q),""}let $=null;try{$=await mo()}catch(Q){console.error("Failed to fetch spools in printers:",Q)}kn(F,$)},kn=(F,$)=>{let Q=null,me=null;if($){const qe=JSON.parse($);me=new Map(Object.entries(qe.spools)),Q=me}else Q=o;const He=F.trim().split(`
`).map(qe=>{var kt;const ve=wf(qe),Ue=pn(ve[8]),Re=pn(ve[9]),Ke=pn(ve[10]),Fe=pn(ve[11]),Ie=pn(ve[13]),wr=Ie?new Date(Ie*1e3):null,Ln=pn(ve[14]),P=Ln?new Date(Ln*1e3):null,G=ve[15],se=Zl(ve[16]),gt=Zl(ve[17]),Ye=ve[18]==="y";return{id:ve[0],tag_id:ve[1],material_type:ve[2],material_subtype:ve[3],color_name:ve[4],color_code:ve[5],note:ve[6],brand:ve[7],weight_advertised:Ue,weight_core:Re,weight_new:Ke,weight_current:Fe,weight_left:Fe&&Re?Fe-Re:Fe&&Ue&&Ke?Fe-(Ke-Ue):null,weight_used:Ke&&Fe?Ke-Fe:Fe&&Ue&&Re?Ue+Re-Fe:null,slicer_filament:ve[12],slicer_filament_name:ve[12]?((kt=s==null?void 0:s.find(Tc=>Tc.code==ve[12]))==null?void 0:kt.name)??"":"",added_datetime:wr,encoded_datetime:P,full_unused:G,consumed_since_add:se,consumed_since_weight:gt,k_setting:Ye,location:Q.get(ve[0])??""}});r(He),me&&i(me)};K(()=>{Xt()},[s]);const ke=bf({data:n,columns:M,state:{sorting:b,columnFilters:w,pagination:y,columnVisibility:U,columnOrder:H},onSortingChange:_,onColumnFiltersChange:S,onPaginationChange:C,getCoreRowModel:sf(),getPaginationRowModel:pf(),getSortedRowModel:gf(),getFilteredRowModel:ff(),enableMultiSort:!0}),ho=F=>{const $=new Set(R);$.has(F)?$.delete(F):$.add(F),N($)},vo=F=>{C($=>({...$,pageIndex:0,pageSize:F===-1?n.length:F}))};return m("div",{className:"spools-container",children:[h.open&&m(_v,{isMobile:A,info:h,materials:pv,cores:l,slicerFilaments:s,filamentBrands:a,unsortedFilamentBrands:u,onSave:async(F,$)=>{await be(F,$),V()},onCancel:()=>{Se()},onAddNew:q,onAddSimilar:B}),m(Sv,{isMobile:A,info:c,onOk:async()=>{await ie(c.spool.id),g({open:!1,spool:null})},onCancel:()=>{g({open:!1,spool:null})}}),!d&&!(Un&&!jn)&&m(q0,{onSecurityKeyChanged:Xt}),m("div",{className:"spools-controls",children:m(K0,{isMobile:A,columnFilters:w,onSetColumnFilters:S})}),m("div",{className:"spools-controls-row",children:[m("div",{className:"view-mode-toggle",children:[m("button",{className:`view-btn ${f==="compact"||f==="full"?"active":""}`,onClick:()=>p(A?"compact":"full"),children:"Table"}),m("button",{className:`view-btn ${f==="cards"?"active":""}`,onClick:()=>p("cards"),children:"Cards"}),m("button",{className:"refresh-data-btn",onClick:()=>Xt(),children:"Refresh"}),!A&&f!="cards"&&m(Ov,{onClick:Y}),m("div",{class:"w-px h-11 bg-gray-500"}),!A&&m("button",{className:"download-data-btn",onClick:()=>E(),children:"CSV"}),!A&&m("button",{className:"download-data-btn",onClick:()=>k(),children:"Backup"})]}),m("div",{className:"spools-controls-hint-paging",children:[m("div",{className:"flex items-center",children:m("span",{className:"multi-sort-hint",children:f!="cards"?A?"Press column headers to sort":"Hold Shift + Click column headers for multi-sort":null})}),d&&m("button",{className:"add-spool-btn",onClick:()=>{q()},children:"Add Spool"})]})]}),f==="cards"?m("div",{className:"cards-grid",children:ke.getRowModel().rows.map(F=>m(ni,{spool:F.original},F.id))}):m("div",{className:"table-container",children:m("table",{className:"spools-table",children:[m("thead",{children:ke.getHeaderGroups().map(F=>m("tr",{children:F.headers.map($=>{var Q;return f==="compact"&&!t.includes($.id)?null:m("th",{className:`${$.column.getCanSort()?"sortable":""} ${(Q=$.column.columnDef.meta)!=null&&Q.grow?"min-w-0":""}`.trim(),onClick:$.column.getToggleSortingHandler(),children:m("div",{className:"header-content",children:[$.isPlaceholder?null:Ql($.column.columnDef.header,$.getContext()),$.column.getIsSorted()&&m("span",{className:"sort-indicator",children:$.column.getIsSorted()==="desc"?" â†“":" â†‘"})]})},$.id)})},F.id))}),m("tbody",{className:"relative",children:[ke.getRowModel().rows.map(F=>m(de,{children:[m("tr",{className:`data-row ${f==="compact"?"clickable-row":""}`,onClick:()=>f==="compact"&&ho(F.id),children:F.getVisibleCells().map($=>{var Q,me,Ae;return f==="compact"&&!t.includes($.column.id)?null:m("td",{class:(Q=$.column.columnDef.meta)!=null&&Q.grow?"w-full max-w-0":"whitespace-nowrap",...((Ae=(me=$.column.columnDef.meta)==null?void 0:me.getCellProps)==null?void 0:Ae.call(me,$))??{},children:Ql($.column.columnDef.cell,$.getContext())},$.id)})},F.id),f==="compact"&&R.has(F.id)&&m("tr",{className:"expanded-row",children:m("td",{colSpan:t.length,children:m(ni,{spool:F.original,compact:!0})})})]})),L&&m(Av,{isOpen:L,workingConfig:le,setWorkingConfig:ce,onSaveAndApply:fe,onApplyTemp:W,onReset:te,onClose:j})]})]})}),m("div",{className:"pagination",children:[m("div",{className:"pagination-info",children:["Showing ",y.pageIndex*y.pageSize+1," to"," ",Math.min((y.pageIndex+1)*y.pageSize,ke.getFilteredRowModel().rows.length)," ","of ",ke.getFilteredRowModel().rows.length," entries",ke.getFilteredRowModel().rows.length!==n.length&&m("span",{children:[" (filtered from ",n.length," total)"]})]}),m("div",{className:"page-size-control",children:[m("label",{children:"Show:"}),m("select",{value:y.pageSize===n.length?-1:y.pageSize,onChange:F=>vo(Number(F.target.value)),className:"page-size-select",children:[m("option",{value:10,children:"10"}),m("option",{value:15,children:"15"}),m("option",{value:25,children:"25"}),m("option",{value:50,children:"50"}),m("option",{value:100,children:"100"}),m("option",{value:200,children:"200"}),m("option",{value:-1,children:"All"})]})]}),m("div",{className:"pagination-controls",children:[m("button",{onClick:()=>ke.setPageIndex(0),disabled:!ke.getCanPreviousPage(),className:"pagination-btn",children:"Â«Â«"}),m("button",{onClick:()=>ke.previousPage(),disabled:!ke.getCanPreviousPage(),className:"pagination-btn",children:"â€¹"}),m("span",{className:"page-info",children:["Page ",y.pageIndex+1," of ",ke.getPageCount()]}),m("button",{onClick:()=>ke.nextPage(),disabled:!ke.getCanNextPage(),className:"pagination-btn",children:"â€º"}),m("button",{onClick:()=>ke.setPageIndex(ke.getPageCount()-1),disabled:!ke.getCanNextPage(),className:"pagination-btn",children:"Â»Â»"})]})]})]})}function Lv(){return m("div",{children:m(kv,{})})}let zo=null,Ac=!1;function Oc(){return zo||(zo=Nc().then(()=>{console.log("Wasm initialized"),window.securityKeyOnDerive="",window.encryptionKey=Xs("","example_salt"),Ac=!0})),zo}async function Dv(e,t={},n={}){const{retries:r=3,retryOnNetworkError:o=!0,retryOn400:i=!1,retryOn500:l=!0}=n;let s=null;for(let a=0;a<r;a++)try{const u=await fetch(e,t);if(s=u,!u.ok){const d=u.status;if(d>=500&&l||d>=400&&d<500&&i)continue}return u}catch(u){if(!o)throw u}return s}window.encryptedFetch=async(...e)=>{if(window.securityKey==="")throw new Error("No Security Key Set");Ac||await Oc();const[t,n={}]=e;n.body&&typeof n.body=="string"&&(n.body=Ic(Ys(),n.body));const r=await Dv(t,n,{retries:!n.method||n.method==="GET"?3:1,retryOnNetworkError:!0,retryOn500:!0}),o=await r.text();let i;if(o==="")i="";else{let l=Ys();i=o.split("|").filter(d=>d.length>0).map(d=>kc(l,d)).join(""),Cf(!0);const s=new URL(window.location.href),a=new URLSearchParams(s.hash.slice(1));a.delete("sk");const u=a.toString();history.replaceState(null,"",u?`#${u}`:window.location.pathname+window.location.search)}return new Response(i,{status:r.status,statusText:r.statusText,headers:r.headers})};function Ys(){const e=window.securityKey;return e!=window.securityKeyOnDerive&&(console.log("generating security key"),window.encryptionKey=Xs(e,"example_salt"),window.securityKeyOnDerive=e),window.encryptionKey}(async()=>(console.log("Initialize Wasm"),Oc(),Fn(m(Sf,{children:m(Lv,{})}),document.getElementById("app"))))();
